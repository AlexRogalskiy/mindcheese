/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

this['browser/browser'] = this['browser/browser'] || {};
this['browser/browser'].bundled = this['browser/browser'].bundled || {};
this['browser/browser'].bundled.js = (function () {
    'use strict';

    // TODO convert to typescript
    // noinspection JSUnusedGlobalSymbols
    class ViewData {
    }
    class LayoutData {
    }
    class MindNode {
        constructor(sId, iIndex, sTopic, oData, bIsRoot, oParent, eDirection, bExpanded) {
            if (!sId) {
                throw new Error("invalid nodeid");
            }
            if (typeof iIndex != "number") {
                throw new Error("invalid node index");
            }
            if (typeof bExpanded === "undefined") {
                bExpanded = true;
            }
            this.id = sId;
            this.index = iIndex;
            this.topic = sTopic;
            this.data = oData || {};
            this.isroot = bIsRoot;
            this.parent = oParent;
            this.direction = eDirection;
            this.expanded = !!bExpanded;
            this.children = [];
            this._data = {
                view: new ViewData(),
                layout: new LayoutData(),
            };
        }
        static compare(node1, node2) {
            // '-1' is alwary the last
            let r;
            const i1 = node1.index;
            const i2 = node2.index;
            if (i1 >= 0 && i2 >= 0) {
                r = i1 - i2;
            }
            else if (i1 === -1 && i2 === -1) {
                r = 0;
            }
            else if (i1 === -1) {
                r = 1;
            }
            else if (i2 === -1) {
                r = -1;
            }
            else {
                r = 0;
            }
            //logger.debug(i1+' <> '+i2+'  =  '+r);
            return r;
        }
        static inherited(pnode, node) {
            if (!!pnode && !!node) {
                if (pnode.id === node.id) {
                    return true;
                }
                if (pnode.isroot) {
                    return true;
                }
                const pid = pnode.id;
                let p = node;
                while (!p.isroot) {
                    p = p.parent;
                    if (p.id === pid) {
                        return true;
                    }
                }
            }
            return false;
        }
        get_location() {
            const vd = this._data.view;
            return {
                x: vd.abs_x,
                y: vd.abs_y,
            };
        }
        get_size() {
            const vd = this._data.view;
            return {
                w: vd.width,
                h: vd.height,
            };
        }
    }

    // noinspection JSUnfilteredForInLoop
    class Mind {
        constructor(id) {
            this.id = id;
            this.name = null;
            this.author = null;
            this.version = null;
            this.root = null;
            this.selected = null;
            this.nodes = {};
        }
        get_node(nodeid) {
            if (nodeid in this.nodes) {
                return this.nodes[nodeid];
            }
            else {
                throw new Error(`the node[id=${nodeid}] can not be found...`);
            }
        }
        set_root(nodeid, topic, data) {
            if (this.root == null) {
                this.root = new MindNode(nodeid, 0, topic, data, true, null, null, null);
                this._put_node(this.root);
            }
            else {
                console.error("root node is already exist");
            }
        }
        add_node(parent_node, nodeid, topic, data, idx, direction, expanded) {
            const nodeindex = idx || -1;
            let node;
            if (parent_node.isroot) {
                let d;
                if (direction == null) {
                    const children = parent_node.children;
                    const children_len = children.length;
                    let r = 0;
                    for (let i = 0; i < children_len; i++) {
                        if (children[i].direction === -1 /* LEFT */) {
                            r--;
                        }
                        else {
                            r++;
                        }
                    }
                    d = children_len > 1 && r > 0 ? -1 /* LEFT */ : 1 /* RIGHT */;
                }
                else {
                    d = direction !== -1 /* LEFT */ ? 1 /* RIGHT */ : -1 /* LEFT */;
                }
                console.log(`add_node source DIRECTION=${direction} DIRECTION=${d} ${topic}`);
                node = new MindNode(nodeid, nodeindex, topic, data, false, parent_node, d, expanded);
            }
            else {
                node = new MindNode(nodeid, nodeindex, topic, data, false, parent_node, parent_node.direction, expanded);
            }
            if (this._put_node(node)) {
                parent_node.children.push(node);
                this._reindex(parent_node);
                return node;
            }
            else {
                console.error("fail, the nodeid '" + node.id + "' has been already exist.");
                return null;
            }
        }
        insert_node_before(node_before, nodeid, topic, data) {
            const node_index = node_before.index - 0.5;
            return this.add_node(node_before.parent, nodeid, topic, data, node_index, null, null);
        }
        get_node_before(node) {
            if (node.isroot) {
                return null;
            }
            const idx = node.index - 2;
            if (idx >= 0) {
                return node.parent.children[idx];
            }
            else {
                return null;
            }
        }
        // add little brother node.
        insert_node_after(node_after, nodeid, topic, data) {
            const node_index = node_after.index + 0.5;
            // follow current direction.
            return this.add_node(node_after.parent, nodeid, topic, data, node_index, node_after.direction, null);
        }
        get_node_after(node) {
            if (node.isroot) {
                return null;
            }
            const idx = node.index;
            const brothers = node.parent.children;
            if (brothers.length >= idx) {
                return node.parent.children[idx];
            }
            else {
                return null;
            }
        }
        move_node(node, beforeid, parentid, direction) {
            console.assert(node instanceof MindNode, "node should be Node");
            console.log(`move_node: ${node} ${beforeid} ${parentid} ${direction}`);
            if (!parentid) {
                parentid = node.parent.id;
            }
            return this._move_node(node, beforeid, parentid, direction);
        }
        _flow_node_direction(node, direction) {
            if (typeof direction === "undefined") {
                direction = node.direction;
            }
            else {
                node.direction = direction;
            }
            let len = node.children.length;
            while (len--) {
                this._flow_node_direction(node.children[len], direction);
            }
        }
        _move_node_internal(node, beforeid) {
            if (!!node && !!beforeid) {
                if (beforeid === "_last_") {
                    node.index = -1;
                    this._reindex(node.parent);
                }
                else if (beforeid === "_first_") {
                    node.index = 0;
                    this._reindex(node.parent);
                }
                else {
                    const node_before = beforeid ? this.get_node(beforeid) : null;
                    if (node_before != null &&
                        node_before.parent != null &&
                        node_before.parent.id === node.parent.id) {
                        node.index = node_before.index - 0.5;
                        this._reindex(node.parent);
                    }
                }
            }
            return node;
        }
        _move_node(node, beforeid, parentid, direction) {
            console.log(`_move_node: ${node}, ${beforeid}, ${parentid}, ${direction}`);
            if (!!node && !!parentid) {
                console.assert(node.parent, `node.parent is null: ${node}`);
                if (node.parent.id !== parentid) {
                    // remove from parent's children
                    const sibling = node.parent.children;
                    let si = sibling.length;
                    while (si--) {
                        console.assert(sibling[si], "sibling[si] is null");
                        if (sibling[si].id === node.id) {
                            sibling.splice(si, 1);
                            break;
                        }
                    }
                    node.parent = this.get_node(parentid);
                    node.parent.children.push(node);
                }
                if (node.parent.isroot) {
                    if (direction === -1 /* LEFT */) {
                        node.direction = direction;
                    }
                    else {
                        node.direction = 1 /* RIGHT */;
                    }
                }
                else {
                    node.direction = node.parent.direction;
                }
                this._move_node_internal(node, beforeid);
                this._flow_node_direction(node, null);
            }
            return node;
        }
        // XXX jsMind では Node ではなく string も受け付けていた。
        remove_node(node) {
            if (!node) {
                console.error("fail, the node can not be found");
                return false;
            }
            if (node.isroot) {
                console.error("fail, can not remove root node");
                return false;
            }
            if (this.selected != null && this.selected.id === node.id) {
                this.selected = null;
            }
            // clean all subordinate nodes
            const children = node.children;
            let ci = children.length;
            while (ci--) {
                this.remove_node(children[ci]);
            }
            // clean all children
            children.length = 0;
            // remove from parent's children
            const sibling = node.parent.children;
            let si = sibling.length;
            while (si--) {
                if (sibling[si].id === node.id) {
                    sibling.splice(si, 1);
                    break;
                }
            }
            // remove from global nodes
            delete this.nodes[node.id];
            // clean all properties
            for (const k in node) {
                // @ts-ignore
                delete node[k];
            }
            // remove it's self
            node = null;
            //delete node;
            return true;
        }
        _put_node(node) {
            if (node.id in this.nodes) {
                console.warn("the nodeid '" + node.id + "' has been already exist.");
                return false;
            }
            else {
                this.nodes[node.id] = node;
                return true;
            }
        }
        _reindex(node) {
            if (node instanceof MindNode) {
                node.children.sort(MindNode.compare);
                for (let i = 0; i < node.children.length; i++) {
                    node.children[i].index = i + 1;
                }
            }
        }
    }

    // noinspection JSUnfilteredForInLoop
    class NodeTree {
        get_mind(source, id) {
            const mind = new Mind(id);
            mind.name = source.meta.name;
            mind.author = source.meta.author;
            mind.version = source.meta.version;
            this._parse(mind, source.data);
            return mind;
        }
        get_data(mind) {
            const json = {};
            json.meta = {
                name: mind.name,
                author: mind.author,
                version: mind.version,
            };
            json.format = "node_tree";
            json.data = this._buildnode(mind.root);
            return json;
        }
        _parse(mind, node_root) {
            const data = this._extract_data(node_root);
            mind.set_root(node_root.id, node_root.topic, data);
            if ("children" in node_root) {
                const children = node_root.children;
                for (let i = 0; i < children.length; i++) {
                    this._extract_subnode(mind, mind.root, children[i]);
                }
            }
        }
        _extract_data(node_json) {
            const data = {};
            for (const k in node_json) {
                if (k == "id" ||
                    k == "topic" ||
                    k == "children" ||
                    k == "direction" ||
                    k == "expanded") {
                    continue;
                }
                // @ts-ignore
                data[k] = node_json[k];
            }
            return data;
        }
        _extract_subnode(mind, node_parent, node_json) {
            const data = this._extract_data(node_json);
            let d = null;
            if (node_parent.isroot) {
                d = node_json.direction == "left" ? -1 /* LEFT */ : 1 /* RIGHT */;
            }
            console.log(`_extract_subnode node_json.direction DIRECTION=${node_json.direction} d=${d} ${node_json.topic}`);
            const node = mind.add_node(node_parent, node_json.id, node_json.topic, data, null, d, node_json.expanded);
            if ("children" in node_json) {
                const children = node_json.children;
                for (let i = 0; i < children.length; i++) {
                    this._extract_subnode(mind, node, children[i]);
                }
            }
        }
        _buildnode(node) {
            if (!(node instanceof MindNode)) {
                return;
            }
            const o = {
                id: node.id,
                topic: node.topic,
                expanded: node.expanded,
            };
            if (!!node.parent && node.parent.isroot) {
                o.direction = node.direction == -1 /* LEFT */ ? "left" : "right";
            }
            if (node.data != null) {
                const node_data = node.data;
                for (const k in node_data) {
                    // @ts-ignore
                    o[k] = node_data[k];
                }
            }
            const children = node.children;
            if (children.length > 0) {
                o.children = [];
                for (let i = 0; i < children.length; i++) {
                    o.children.push(this._buildnode(children[i]));
                }
            }
            return o;
        }
    }

    class DataProvider {
        constructor(jm) {
            this.jm = jm;
            this.format = {
                node_tree: new NodeTree(),
            };
        }
        load(mind_data, id) {
            return this.format.node_tree.get_mind(mind_data, id);
        }
        get_data(data_format) {
            if (data_format === "node_tree") {
                console.log(this.jm.mind);
                return this.format.node_tree.get_data(this.jm.mind);
            }
            else {
                throw new Error(`Unknown format: ${data_format}`);
            }
        }
    }

    // noinspection JSUnfilteredForInLoop
    class Point {
    }
    class LayoutProvider {
        constructor(jm, mode = "full" /* 'full' or 'side' */, hspace = 30, vspace = 20, pspace = 13) {
            this._hspace = hspace;
            this._vspace = vspace;
            this._pspace = pspace;
            this.jm = jm;
            this.isside = mode == "side";
            this.bounds = null;
            this.cache_valid = false;
        }
        init() {
            // TODO remove this
            console.debug("layout.init");
        }
        reset() {
            console.debug("layout.reset");
            this.bounds = { n: 0, s: 0, w: 0, e: 0 };
        }
        layout() {
            console.debug("layout.layout");
            this.layout_direction();
            this.layout_offset();
        }
        layout_direction() {
            this._layout_direction_root();
        }
        _layout_direction_root() {
            const node = this.jm.mind.root;
            // console.debug(node);
            const layout_data = node._data.layout;
            const children = node.children;
            const children_count = children.length;
            layout_data.direction = 0 /* CENTER */;
            layout_data.side_index = 0;
            if (this.isside) {
                let i = children_count;
                while (i--) {
                    this._layout_direction_side(children[i], 1 /* RIGHT */, i);
                }
            }
            else {
                let i = children_count;
                let subnode = null;
                while (i--) {
                    subnode = children[i];
                    if (subnode.direction == -1 /* LEFT */) {
                        this._layout_direction_side(subnode, -1 /* LEFT */, i);
                    }
                    else {
                        this._layout_direction_side(subnode, 1 /* RIGHT */, i);
                    }
                }
                /*
                        var boundary = Math.ceil(children_count/2);
                        var i = children_count;
                        while(i--){
                            if(i>=boundary){
                                this._layout_direction_side(children[i],Direction.LEFT, children_count-i-1);
                            }else{
                                this._layout_direction_side(children[i],Direction.RIGHT, i);
                            }
                        }*/
            }
        }
        _layout_direction_side(node, direction, side_index) {
            let layout_data = node._data.layout;
            const children = node.children;
            const children_count = children.length;
            layout_data.direction = direction;
            layout_data.side_index = side_index;
            let i = children_count;
            while (i--) {
                this._layout_direction_side(children[i], direction, i);
            }
        }
        layout_offset() {
            const node = this.jm.mind.root;
            const layout_data = node._data.layout;
            layout_data.offset_x = 0;
            layout_data.offset_y = 0;
            layout_data.outer_height = 0;
            const children = node.children;
            let i = children.length;
            const left_nodes = [];
            const right_nodes = [];
            let subnode = null;
            while (i--) {
                subnode = children[i];
                if (subnode._data.layout.direction == 1 /* RIGHT */) {
                    right_nodes.unshift(subnode);
                }
                else {
                    left_nodes.unshift(subnode);
                }
            }
            layout_data.left_nodes = left_nodes;
            layout_data.right_nodes = right_nodes;
            layout_data.outer_height_left = this._layout_offset_subnodes(left_nodes);
            layout_data.outer_height_right = this._layout_offset_subnodes(right_nodes);
            this.bounds.e = node._data.view.width / 2;
            this.bounds.w = 0 - this.bounds.e;
            //console.debug(this.bounds.w);
            this.bounds.n = 0;
            this.bounds.s = Math.max(layout_data.outer_height_left, layout_data.outer_height_right);
        }
        // layout both the x and y axis
        _layout_offset_subnodes(nodes) {
            let total_height = 0;
            const nodes_count = nodes.length;
            let i = nodes_count;
            let node = null;
            let node_outer_height = 0;
            let layout_data = null;
            let base_y = 0;
            let pd = null; // parent._data
            while (i--) {
                node = nodes[i];
                layout_data = node._data.layout;
                if (pd == null) {
                    pd = node.parent._data;
                    if (pd == null) {
                        throw new Error("Cannot get parent's data");
                    }
                }
                node_outer_height = this._layout_offset_subnodes(node.children);
                if (!node.expanded) {
                    node_outer_height = 0;
                    this.set_visible(node.children, false);
                }
                node_outer_height = Math.max(node._data.view.height, node_outer_height);
                layout_data.outer_height = node_outer_height;
                layout_data.offset_y = base_y - node_outer_height / 2;
                layout_data.offset_x =
                    this._hspace * layout_data.direction +
                        (pd.view.width * (pd.layout.direction + layout_data.direction)) / 2;
                if (!node.parent.isroot) {
                    layout_data.offset_x += this._pspace * layout_data.direction;
                }
                base_y = base_y - node_outer_height - this._vspace;
                total_height += node_outer_height;
            }
            if (nodes_count > 1) {
                total_height += this._vspace * (nodes_count - 1);
            }
            i = nodes_count;
            const middle_height = total_height / 2;
            while (i--) {
                node = nodes[i];
                node._data.layout.offset_y += middle_height;
            }
            return total_height;
        }
        // layout the y axis only, for collapse/expand a node
        _layout_offset_subnodes_height(nodes) {
            let total_height = 0;
            const nodes_count = nodes.length;
            let i = nodes_count;
            let node = null;
            let node_outer_height = 0;
            let layout_data = null;
            let base_y = 0;
            let pd = null; // parent._data
            while (i--) {
                node = nodes[i];
                layout_data = node._data.layout;
                if (pd == null) {
                    pd = node.parent._data;
                }
                node_outer_height = this._layout_offset_subnodes_height(node.children);
                if (!node.expanded) {
                    node_outer_height = 0;
                }
                node_outer_height = Math.max(node._data.view.height, node_outer_height);
                layout_data.outer_height = node_outer_height;
                layout_data.offset_y = base_y - node_outer_height / 2;
                base_y = base_y - node_outer_height - this._vspace;
                total_height += node_outer_height;
            }
            if (nodes_count > 1) {
                total_height += this._vspace * (nodes_count - 1);
            }
            i = nodes_count;
            const middle_height = total_height / 2;
            while (i--) {
                node = nodes[i];
                node._data.layout.offset_y += middle_height;
                //console.debug(node.topic);
                //console.debug(node._data.layout.offset_y);
            }
            return total_height;
        }
        get_node_offset(node) {
            const layout_data = node._data.layout;
            let offset_cache;
            if ("_offset_" in layout_data && this.cache_valid) {
                offset_cache = layout_data._offset_;
            }
            else {
                offset_cache = { x: -1, y: -1 };
                layout_data._offset_ = offset_cache;
            }
            if (offset_cache.x == -1 || offset_cache.y == -1) {
                let x = layout_data.offset_x;
                let y = layout_data.offset_y;
                if (!node.isroot) {
                    const offset_p = this.get_node_offset(node.parent);
                    x += offset_p.x;
                    y += offset_p.y;
                }
                offset_cache.x = x;
                offset_cache.y = y;
            }
            return offset_cache;
        }
        get_node_point(node) {
            const view_data = node._data.view;
            const offset_p = this.get_node_offset(node);
            //console.debug(offset_p);
            const p = new Point();
            p.x =
                offset_p.x + (view_data.width * (node._data.layout.direction - 1)) / 2;
            p.y = offset_p.y - view_data.height / 2;
            //console.debug(p);
            return p;
        }
        get_node_point_in(node) {
            return this.get_node_offset(node);
        }
        get_node_point_out(node) {
            const layout_data = node._data.layout;
            let pout_cache;
            if ("_pout_" in layout_data && this.cache_valid) {
                pout_cache = layout_data._pout_;
            }
            else {
                pout_cache = { x: -1, y: -1 };
                layout_data._pout_ = pout_cache;
            }
            if (pout_cache.x == -1 || pout_cache.y == -1) {
                if (node.isroot) {
                    pout_cache.x = 0;
                    pout_cache.y = 0;
                }
                else {
                    const view_data = node._data.view;
                    const offset_p = this.get_node_offset(node);
                    pout_cache.x =
                        offset_p.x +
                            (view_data.width + this._pspace) * node._data.layout.direction;
                    pout_cache.y = offset_p.y;
                    //console.debug('pout');
                    //console.debug(pout_cache);
                }
            }
            return pout_cache;
        }
        get_expander_point(node) {
            const p = this.get_node_point_out(node);
            const ex_p = new Point();
            if (node._data.layout.direction == 1 /* RIGHT */) {
                ex_p.x = p.x - this._pspace;
            }
            else {
                ex_p.x = p.x;
            }
            ex_p.y = p.y - Math.ceil(this._pspace / 2);
            return ex_p;
        }
        get_min_size() {
            const nodes = this.jm.mind.nodes;
            for (const nodeid in nodes) {
                const node = nodes[nodeid];
                const pout = this.get_node_point_out(node);
                if (pout.x > this.bounds.e) {
                    this.bounds.e = pout.x;
                }
                if (pout.x < this.bounds.w) {
                    this.bounds.w = pout.x;
                }
            }
            return {
                w: this.bounds.e - this.bounds.w,
                h: this.bounds.s - this.bounds.n,
            };
        }
        toggle_node(node) {
            if (node.isroot) {
                return;
            }
            if (node.expanded) {
                this.collapse_node(node);
            }
            else {
                this.expand_node(node);
            }
        }
        expand_node(node) {
            node.expanded = true;
            this.part_layout(node);
            this.set_visible(node.children, true);
            this.jm.invoke_event_handle(1 /* SHOW */, {
                evt: "expand_node",
                data: [],
                node: node.id,
            });
        }
        collapse_node(node) {
            node.expanded = false;
            this.part_layout(node);
            this.set_visible(node.children, false);
            this.jm.invoke_event_handle(1 /* SHOW */, {
                evt: "collapse_node",
                data: [],
                node: node.id,
            });
        }
        expand_all() {
            const nodes = this.jm.mind.nodes;
            let c = 0;
            for (const nodeid in nodes) {
                const node = nodes[nodeid];
                if (!node.expanded) {
                    node.expanded = true;
                    c++;
                }
            }
            if (c > 0) {
                const root = this.jm.mind.root;
                this.part_layout(root);
                this.set_visible(root.children, true);
            }
        }
        collapse_all() {
            const nodes = this.jm.mind.nodes;
            let c = 0;
            let node;
            for (const nodeid in nodes) {
                node = nodes[nodeid];
                if (node.expanded && !node.isroot) {
                    node.expanded = false;
                    c++;
                }
            }
            if (c > 0) {
                const root = this.jm.mind.root;
                this.part_layout(root);
                this.set_visible(root.children, true);
            }
        }
        expand_to_depth(target_depth, curr_nodes, curr_depth) {
            if (target_depth < 1) {
                return;
            }
            const nodes = curr_nodes || this.jm.mind.root.children;
            const depth = curr_depth || 1;
            let i = nodes.length;
            let node = null;
            while (i--) {
                node = nodes[i];
                if (depth < target_depth) {
                    if (!node.expanded) {
                        this.expand_node(node);
                    }
                    this.expand_to_depth(target_depth, node.children, depth + 1);
                }
                if (depth == target_depth) {
                    if (node.expanded) {
                        this.collapse_node(node);
                    }
                }
            }
        }
        part_layout(node) {
            const root = this.jm.mind.root;
            if (root) {
                const root_layout_data = root._data.layout;
                if (node.isroot) {
                    root_layout_data.outer_height_right = this._layout_offset_subnodes_height(root_layout_data.right_nodes);
                    root_layout_data.outer_height_left = this._layout_offset_subnodes_height(root_layout_data.left_nodes);
                }
                else {
                    if (node._data.layout.direction == 1 /* RIGHT */) {
                        root_layout_data.outer_height_right = this._layout_offset_subnodes_height(root_layout_data.right_nodes);
                    }
                    else {
                        root_layout_data.outer_height_left = this._layout_offset_subnodes_height(root_layout_data.left_nodes);
                    }
                }
                this.bounds.s = Math.max(root_layout_data.outer_height_left, root_layout_data.outer_height_right);
                this.cache_valid = false;
            }
            else {
                console.warn("can not found root node");
            }
        }
        set_visible(nodes, visible) {
            let i = nodes.length;
            let node = null;
            while (i--) {
                node = nodes[i];
                node._data.layout;
                if (node.expanded) {
                    this.set_visible(node.children, visible);
                }
                else {
                    this.set_visible(node.children, false);
                }
                if (!node.isroot) {
                    node._data.layout.visible = visible;
                }
            }
        }
        is_visible(node) {
            const layout_data = node._data.layout;
            return !("visible" in layout_data && !layout_data.visible);
        }
    }

    class GraphCanvas {
        constructor(view) {
            this.opts = view.opts;
            this.e_canvas = document.createElement("canvas");
            this.e_canvas.className = "jsmind";
            this.canvas_ctx = this.e_canvas.getContext("2d");
            this.size = { w: 0, h: 0 };
        }
        element() {
            return this.e_canvas;
        }
        set_size(w, h) {
            this.size.w = w;
            this.size.h = h;
            this.e_canvas.width = w;
            this.e_canvas.height = h;
        }
        clear() {
            this.canvas_ctx.clearRect(0, 0, this.size.w, this.size.h);
        }
        draw_line(pout, pin, offset) {
            const ctx = this.canvas_ctx;
            ctx.strokeStyle = this.opts.line_color;
            ctx.lineWidth = this.opts.line_width;
            ctx.lineCap = "round";
            this._bezier_to(ctx, pin.x + offset.x, pin.y + offset.y, pout.x + offset.x, pout.y + offset.y);
        }
        _bezier_to(ctx, x1, y1, x2, y2) {
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.bezierCurveTo(x1 + ((x2 - x1) * 2) / 3, y1, x1, y2, x2, y2);
            ctx.stroke();
        }
    }

    // noinspection JSUnusedGlobalSymbols
    const KEYCODE_ENTER = 13;

    // noinspection JSUnfilteredForInLoop,JSUnusedGlobalSymbols,JSUnusedGlobalSymbols
    const $h = function (n, t) {
        // TODO inlining this
        if (t instanceof HTMLElement) {
            n.innerHTML = "";
            n.appendChild(t);
        }
        else {
            n.innerHTML = t;
        }
    };
    // detect isElemend
    // TODO remove this.
    function isElement(el) {
        return (!!el &&
            typeof el === "object" &&
            el.nodeType === 1 &&
            typeof el.style === "object" &&
            typeof el.ownerDocument === "object");
    }
    function is_empty$1(s) {
        // TODO inlining?
        if (!s) {
            return true;
        }
        return s.replace(/\s*/, "").length == 0;
    }
    // noinspection JSUnusedGlobalSymbols
    class ViewProvider {
        constructor(jm, options) {
            this.opts = options;
            this.jm = jm;
            this.layout = jm.layout;
            this.container = null;
            this.e_panel = null;
            this.e_nodes = null;
            this.size = { w: 0, h: 0 };
            this.selected_node = null;
            this.editing_node = null;
            this.graph = null;
        }
        init() {
            console.debug("view.init");
            this.container = isElement(this.opts.container)
                ? this.opts.container
                : document.getElementById(this.opts.container);
            if (!this.container) {
                console.error("the options.view.container was not be found in dom");
                return;
            }
            this.e_panel = document.createElement("div");
            this.e_nodes = document.createElement("jmnodes");
            this.e_editor = document.createElement("textarea");
            this.graph = new GraphCanvas(this);
            this.e_panel.className = "jsmind-inner";
            this.e_panel.appendChild(this.graph.element());
            this.e_panel.appendChild(this.e_nodes);
            this.e_editor.className = "jsmind-editor";
            this.actualZoom = 1;
            this.zoomStep = 0.1;
            this.minZoom = 0.5;
            this.maxZoom = 2;
            const v = this; // TODO remove this.
            this.e_editor.addEventListener("keydown", (e) => {
                // https://qiita.com/ledsun/items/31e43a97413dd3c8e38e
                // keyCode is deprecated field. But it's a hack for Japanese IME.
                if (e.keyCode === KEYCODE_ENTER && !e.shiftKey) {
                    v.edit_node_end();
                    e.stopPropagation();
                }
            });
            this.e_editor.addEventListener("keyup", () => {
                // adjust size dynamically.
                this.adjustEditorElementSize();
            });
            this.e_editor.addEventListener("blur", () => {
                // when the element lost focus.
                // TODO revert this↓
                v.edit_node_end();
            });
            this.e_editor.addEventListener("input", (e) => {
                console.log("textarea.oninput");
                this.adjustEditorElementSize();
                return false;
            });
            this.container.appendChild(this.e_panel);
        }
        adjustEditorElementSize() {
            const el = this.e_editor;
            el.style.width = "";
            el.style.height = "";
            el.style.width = el.scrollWidth + "px";
            el.style.height = el.scrollHeight + "px";
            this.editing_node._data.view.width = this.e_editor.clientWidth;
            this.editing_node._data.view.height = this.e_editor.clientHeight;
            this.layout.layout();
            this.show(false);
        }
        setTextToElement(element, topic) {
            element.innerHTML = ViewProvider.escapeHTML(topic).replace(/\n/g, "<br>");
        }
        static escapeHTML(src) {
            const pre = document.createElement("pre");
            const text = document.createTextNode(src);
            pre.appendChild(text);
            return pre.innerHTML;
        }
        add_event(obj, event_name, event_handle) {
            this.e_nodes.addEventListener(event_name, function (e) {
                event_handle.call(obj, e);
            });
        }
        get_binded_nodeid(element) {
            if (element == null) {
                return null;
            }
            const tagName = element.tagName.toLowerCase();
            if (tagName === "jmnodes" || tagName === "body" || tagName === "html") {
                return null;
            }
            if (tagName === "jmnode" || tagName === "jmexpander") {
                return element.getAttribute("nodeid");
            }
            else {
                return this.get_binded_nodeid(element.parentElement);
            }
        }
        is_expander(element) {
            return element.tagName.toLowerCase() === "jmexpander";
        }
        reset() {
            console.debug("view.reset");
            this.selected_node = null;
            this.clear_lines();
            this.clear_nodes();
            this.reset_theme();
        }
        reset_theme() {
            const theme_name = this.jm.options.theme;
            if (theme_name) {
                this.e_nodes.className = "theme-" + theme_name;
            }
            else {
                this.e_nodes.className = "";
            }
        }
        reset_custom_style() {
            const nodes = this.jm.mind.nodes;
            for (const nodeid in nodes) {
                this.reset_node_custom_style(nodes[nodeid]);
            }
        }
        load() {
            console.debug("view.load");
            this.init_nodes();
        }
        expand_size() {
            const min_size = this.layout.get_min_size();
            const min_width = min_size.w + this.opts.hmargin * 2;
            const min_height = min_size.h + this.opts.vmargin * 2;
            let client_w = this.e_panel.clientWidth;
            let client_h = this.e_panel.clientHeight;
            if (client_w < min_width) {
                client_w = min_width;
            }
            if (client_h < min_height) {
                client_h = min_height;
            }
            this.size.w = client_w;
            this.size.h = client_h;
        }
        init_nodes_size(node) {
            const view_data = node._data.view;
            view_data.width = view_data.element.clientWidth;
            view_data.height = view_data.element.clientHeight;
        }
        init_nodes() {
            const nodes = this.jm.mind.nodes;
            const doc_frag = document.createDocumentFragment();
            for (const nodeid in nodes) {
                this.create_node_element(nodes[nodeid], doc_frag);
            }
            this.e_nodes.appendChild(doc_frag);
            for (const nodeid in nodes) {
                this.init_nodes_size(nodes[nodeid]);
            }
        }
        add_node(node) {
            this.create_node_element(node, this.e_nodes);
            this.init_nodes_size(node);
        }
        create_node_element(node, parent_node) {
            let view_data = node._data.view;
            const d = document.createElement("jmnode");
            if (node.isroot) {
                d.className = "root";
            }
            else {
                const d_e = document.createElement("jmexpander");
                this.setTextToElement(d_e, "-");
                d_e.setAttribute("nodeid", node.id);
                d_e.style.visibility = "hidden";
                parent_node.appendChild(d_e);
                view_data.expander = d_e;
            }
            if (node.topic) {
                if (this.opts.support_html) {
                    $h(d, node.topic);
                }
                else {
                    this.setTextToElement(d, node.topic);
                }
            }
            d.setAttribute("nodeid", node.id);
            d.style.visibility = "hidden";
            this._reset_node_custom_style(d, node.data);
            parent_node.appendChild(d);
            view_data.element = d;
        }
        remove_node(node) {
            if (this.selected_node != null && this.selected_node.id == node.id) {
                this.selected_node = null;
            }
            if (this.editing_node != null && this.editing_node.id == node.id) {
                node._data.view.element.removeChild(this.e_editor);
                this.editing_node = null;
            }
            const children = node.children;
            let i = children.length;
            while (i--) {
                this.remove_node(children[i]);
            }
            if (node._data.view) {
                const element = node._data.view.element;
                const expander = node._data.view.expander;
                this.e_nodes.removeChild(element);
                this.e_nodes.removeChild(expander);
                node._data.view.element = null;
                node._data.view.expander = null;
            }
        }
        update_node(node) {
            const view_data = node._data.view;
            const element = view_data.element;
            if (node.topic) {
                if (this.opts.support_html) {
                    $h(element, node.topic);
                }
                else {
                    this.setTextToElement(element, node.topic);
                }
            }
            view_data.width = element.clientWidth;
            view_data.height = element.clientHeight;
        }
        select_node(node) {
            if (this.selected_node) {
                this.selected_node._data.view.element.className = this.selected_node._data.view.element.className.replace(/\s*selected\b/i, "");
                this.reset_node_custom_style(this.selected_node);
            }
            if (node) {
                this.selected_node = node;
                node._data.view.element.className += " selected";
                this.clear_node_custom_style(node);
            }
        }
        select_clear() {
            this.select_node(null);
        }
        is_editing() {
            return !!this.editing_node;
        }
        calcEditingNodeWidth(topic) {
            const max = Math.max(...topic.split(/\n/).map((it) => it.length));
            const width = Math.ceil(Math.max(max * 2 + 2, 15));
            return width + "ch";
        }
        edit_node_begin(node) {
            if (!node.topic) {
                console.warn("don't edit image nodes");
                return;
            }
            if (this.editing_node != null) {
                this.edit_node_end();
            }
            this.editing_node = node;
            const view_data = node._data.view;
            const element = view_data.element;
            const topic = node.topic;
            this.e_editor.value = topic;
            this.e_editor.style.width = "380px";
            this.e_editor.style.height = topic.split(/\n/).length + "em";
            element.innerHTML = "";
            element.appendChild(this.e_editor);
            element.style.zIndex = "5";
            this.e_editor.focus();
            this.e_editor.select();
            setTimeout(this.adjustEditorElementSize.bind(this), 0);
        }
        edit_node_end() {
            if (this.editing_node != null) {
                const node = this.editing_node;
                this.editing_node = null;
                const view_data = node._data.view;
                const element = view_data.element;
                const topic = this.e_editor.value;
                element.style.zIndex = "auto";
                element.removeChild(this.e_editor);
                if (is_empty$1(topic) || node.topic === topic) {
                    if (this.opts.support_html) {
                        $h(element, node.topic);
                    }
                    else {
                        this.setTextToElement(element, node.topic);
                    }
                    setTimeout(() => {
                        view_data.width = element.clientWidth;
                        view_data.height = element.clientHeight;
                        this.layout.layout();
                        this.show(false);
                    }, 0);
                }
                else {
                    this.jm.update_node(node.id, topic);
                }
            }
        }
        get_view_offset() {
            const bounds = this.layout.bounds;
            const _x = (this.size.w - bounds.e - bounds.w) / 2;
            const _y = this.size.h / 2;
            return { x: _x, y: _y };
        }
        resize() {
            this.graph.set_size(1, 1);
            this.e_nodes.style.width = "1px";
            this.e_nodes.style.height = "1px";
            this.expand_size();
            this._show();
        }
        _show() {
            this.graph.set_size(this.size.w, this.size.h);
            this.e_nodes.style.width = this.size.w + "px";
            this.e_nodes.style.height = this.size.h + "px";
            this.show_nodes();
            this.show_lines();
            //this.layout.cache_valid = true;
            this.jm.invoke_event_handle(2 /* RESIZE */, { data: [] });
            this.jm.draggable.resize();
        }
        zoomIn() {
            return this.setZoom(this.actualZoom + this.zoomStep);
        }
        zoomOut() {
            return this.setZoom(this.actualZoom - this.zoomStep);
        }
        setZoom(zoom) {
            if (zoom < this.minZoom || zoom > this.maxZoom) {
                return false;
            }
            this.actualZoom = zoom;
            for (let i = 0; i < this.e_panel.children.length; i++) {
                this.e_panel.children[i].style.transform = "scale(" + zoom + ")";
            }
            this.show(true);
            return true;
        }
        _center_root() {
            // center root node
            const outer_w = this.e_panel.clientWidth;
            const outer_h = this.e_panel.clientHeight;
            if (this.size.w > outer_w) {
                const _offset = this.get_view_offset();
                this.e_panel.scrollLeft = _offset.x - outer_w / 2;
            }
            if (this.size.h > outer_h) {
                this.e_panel.scrollTop = (this.size.h - outer_h) / 2;
            }
        }
        show(keep_center) {
            console.debug("view.show");
            this.expand_size();
            this._show();
            if (keep_center) {
                this._center_root();
            }
        }
        relayout() {
            this.expand_size();
            this._show();
        }
        save_location(node) {
            const vd = node._data.view;
            vd._saved_location = {
                x: parseInt(vd.element.style.left) - this.e_panel.scrollLeft,
                y: parseInt(vd.element.style.top) - this.e_panel.scrollTop,
            };
        }
        restore_location(node) {
            const vd = node._data.view;
            this.e_panel.scrollLeft =
                parseInt(vd.element.style.left) - vd._saved_location.x;
            this.e_panel.scrollTop =
                parseInt(vd.element.style.top) - vd._saved_location.y;
        }
        clear_nodes() {
            const mind = this.jm.mind;
            if (mind == null) {
                return;
            }
            const nodes = mind.nodes;
            let node = null;
            for (const nodeid in nodes) {
                node = nodes[nodeid];
                node._data.view.element = null;
                node._data.view.expander = null;
            }
            this.e_nodes.innerHTML = "";
        }
        show_nodes() {
            const nodes = this.jm.mind.nodes;
            let node = null;
            let node_element = null;
            let expander = null;
            let p_expander = null;
            let expander_text = "-";
            let view_data = null;
            const _offset = this.get_view_offset();
            for (const nodeid in nodes) {
                node = nodes[nodeid];
                view_data = node._data.view;
                node_element = view_data.element;
                expander = view_data.expander;
                if (!this.layout.is_visible(node)) {
                    node_element.style.display = "none";
                    expander.style.display = "none";
                    continue;
                }
                this.reset_node_custom_style(node);
                const p = this.layout.get_node_point(node);
                view_data.abs_x = _offset.x + p.x;
                view_data.abs_y = _offset.y + p.y;
                node_element.style.left = _offset.x + p.x + "px";
                node_element.style.top = _offset.y + p.y + "px";
                node_element.style.display = "";
                node_element.style.visibility = "visible";
                if (!node.isroot && node.children.length > 0) {
                    expander_text = node.expanded ? "-" : "+";
                    p_expander = this.layout.get_expander_point(node);
                    expander.style.left = _offset.x + p_expander.x + "px";
                    expander.style.top = _offset.y + p_expander.y + "px";
                    expander.style.display = "";
                    expander.style.visibility = "visible";
                    this.setTextToElement(expander, expander_text);
                }
                // hide expander while all children have been removed
                if (!node.isroot && node.children.length == 0) {
                    expander.style.display = "none";
                    expander.style.visibility = "hidden";
                }
            }
        }
        reset_node_custom_style(node) {
            this._reset_node_custom_style(node._data.view.element, node.data);
        }
        _reset_node_custom_style(node_element, node_data) {
            if ("background-color" in node_data) {
                node_element.style.backgroundColor = node_data["background-color"];
            }
            if ("foreground-color" in node_data) {
                node_element.style.color = node_data["foreground-color"];
            }
            if ("width" in node_data) {
                node_element.style.width = node_data["width"] + "px";
            }
            if ("height" in node_data) {
                node_element.style.height = node_data["height"] + "px";
            }
            if ("font-size" in node_data) {
                node_element.style.fontSize = node_data["font-size"] + "px";
            }
            if ("font-weight" in node_data) {
                node_element.style.fontWeight = node_data["font-weight"];
            }
            if ("font-style" in node_data) {
                node_element.style.fontStyle = node_data["font-style"];
            }
            if ("background-image" in node_data) {
                const backgroundImage = node_data["background-image"];
                if (backgroundImage.startsWith("data") &&
                    node_data["width"] &&
                    node_data["height"]) {
                    const img = new Image();
                    img.onload = function () {
                        const c = document.createElement("canvas");
                        c.width = node_element.clientWidth;
                        c.height = node_element.clientHeight;
                        const img = this;
                        if (c.getContext) {
                            const ctx = c.getContext("2d");
                            ctx.drawImage(img, 2, 2, node_element.clientWidth, node_element.clientHeight);
                            const scaledImageData = c.toDataURL();
                            node_element.style.backgroundImage = "url(" + scaledImageData + ")";
                        }
                    };
                    img.src = backgroundImage;
                }
                else {
                    node_element.style.backgroundImage = "url(" + backgroundImage + ")";
                }
                node_element.style.backgroundSize = "99%";
                if ("background-rotation" in node_data) {
                    node_element.style.transform =
                        "rotate(" + node_data["background-rotation"] + "deg)";
                }
            }
        }
        clear_node_custom_style(node) {
            const node_element = node._data.view.element;
            node_element.style.backgroundColor = "";
            node_element.style.color = "";
        }
        clear_lines() {
            this.graph.clear();
        }
        show_lines() {
            this.clear_lines();
            const nodes = this.jm.mind.nodes;
            let node = null;
            let pin = null;
            let pout = null;
            const _offset = this.get_view_offset();
            for (const nodeid in nodes) {
                node = nodes[nodeid];
                if (node.isroot) {
                    continue;
                }
                if ("visible" in node._data.layout && !node._data.layout.visible) {
                    continue;
                }
                pin = this.layout.get_node_point_in(node);
                pout = this.layout.get_node_point_out(node.parent);
                this.graph.draw_line(pout, pin, _offset);
            }
        }
    }

    // noinspection JSUnfilteredForInLoop,JSUnusedGlobalSymbols
    // Generate new ID of the node
    function generateId() {
        return (new Date().getTime().toString(16) + Math.random().toString(16).substr(2)).substr(2, 16);
    }
    class ShortcutProvider {
        constructor(jm, enable, mapping, handles, newid = generateId) {
            this.jm = jm;
            this.enable = enable;
            this.mapping = mapping;
            this.handles = handles;
            this._newid = newid;
            this._mapping = {};
        }
        init() {
            // TODO do not hook to the global object.
            // this.jm.options.container.addEventListener('keydown',
            //     this.handler.bind(this))
            document.addEventListener("keydown", this.handler.bind(this));
            this.handles["addchild"] = this.handle_addchild;
            this.handles["addbrother"] = this.handle_addbrother;
            this.handles["editnode"] = this.handle_editnode;
            this.handles["delnode"] = this.handle_delnode;
            this.handles["toggle"] = this.handle_toggle;
            this.handles["up"] = this.handle_up;
            this.handles["down"] = this.handle_down;
            this.handles["left"] = this.handle_left;
            this.handles["right"] = this.handle_right;
            this.handles["undo"] = this.handle_undo;
            for (const handle in this.mapping) {
                if (!!this.mapping[handle] && handle in this.handles) {
                    this._mapping[this.mapping[handle]] = this.handles[handle];
                }
            }
        }
        enable_shortcut() {
            this.enable = true;
        }
        disable_shortcut() {
            this.enable = false;
        }
        handler(e) {
            // noinspection JSDeprecatedSymbols
            if (e.which == 9) {
                e.preventDefault();
            } //prevent tab to change focus in browser
            if (this.jm.view.is_editing()) {
                return;
            }
            if (!this.enable) {
                return true;
            }
            // noinspection JSDeprecatedSymbols
            const kc = e.keyCode +
                ((e.metaKey ? 1 : 0) << 13) +
                ((e.ctrlKey ? 1 : 0) << 12) +
                ((e.altKey ? 1 : 0) << 11) +
                ((e.shiftKey ? 1 : 0) << 10);
            if (kc in this._mapping) {
                const container = this.jm.options.container;
                const isConnected = container.isConnected;
                // offsetParent=${container.offsetParent}
                // VISIBILITY=${getComputedStyle(container).visibility}
                //     TOP=${getComputedStyle(container).top}
                if (isConnected) {
                    console.log(`Invoking shortcut handler: ID=${this.jm.mind.id}/${this.jm.id} connected=${isConnected}
      target=${e.target}
      `);
                    this._mapping[kc].call(this, this.jm, e);
                    return false;
                }
            }
        }
        handle_addchild(_jm) {
            const selected_node = _jm.get_selected_node();
            if (selected_node) {
                const nodeid = this._newid();
                const node = _jm.add_node(selected_node, nodeid, "New Node", null);
                if (node) {
                    _jm.select_node(node);
                    _jm.begin_edit(node);
                }
            }
            return false;
        }
        handle_addbrother(jm, e) {
            e.preventDefault();
            const selected_node = jm.get_selected_node();
            if (!!selected_node && !selected_node.isroot) {
                const nodeid = this._newid();
                const node = jm.insert_node_after(selected_node, nodeid, "New Node", null);
                if (node) {
                    jm.select_node(node);
                    jm.begin_edit(node);
                }
            }
            return false;
        }
        handle_editnode(_jm) {
            const selected_node = _jm.get_selected_node();
            if (selected_node) {
                _jm.begin_edit(selected_node);
            }
            return false;
        }
        handle_delnode(_jm) {
            const selected_node = _jm.get_selected_node();
            if (!!selected_node && !selected_node.isroot) {
                _jm.select_node(selected_node.parent);
                _jm.remove_node(selected_node);
            }
            return false;
        }
        handle_toggle(_jm, e) {
            const selected_node = _jm.get_selected_node();
            if (selected_node) {
                _jm.toggle_node(selected_node);
                e.stopPropagation();
                e.preventDefault();
            }
            return false;
        }
        handle_up(_jm, e) {
            const selected_node = _jm.get_selected_node();
            if (selected_node) {
                let up_node = _jm.find_node_before(selected_node);
                if (!up_node) {
                    const np = _jm.find_node_before(selected_node.parent);
                    if (!!np && np.children.length > 0) {
                        up_node = np.children[np.children.length - 1];
                    }
                }
                if (up_node) {
                    _jm.select_node(up_node);
                }
                e.stopPropagation();
                e.preventDefault();
            }
            return false;
        }
        handle_down(_jm, e) {
            const selected_node = _jm.get_selected_node();
            if (selected_node) {
                let down_node = _jm.find_node_after(selected_node);
                if (!down_node) {
                    const np = _jm.find_node_after(selected_node.parent);
                    if (!!np && np.children.length > 0) {
                        down_node = np.children[0];
                    }
                }
                if (down_node) {
                    _jm.select_node(down_node);
                }
                e.stopPropagation();
                e.preventDefault();
            }
            return false;
        }
        handle_left(_jm, e) {
            this._handle_direction(_jm, e, -1 /* LEFT */);
            return false;
        }
        handle_right(_jm, e) {
            this._handle_direction(_jm, e, 1 /* RIGHT */);
            return false;
        }
        _handle_direction(_jm, e, d) {
            let children;
            const selected_node = _jm.get_selected_node();
            let node = null;
            if (selected_node) {
                if (selected_node.isroot) {
                    const c = selected_node.children;
                    children = [];
                    for (let i = 0; i < c.length; i++) {
                        if (c[i].direction === d) {
                            children.push(i);
                        }
                    }
                    node = c[children[Math.floor((children.length - 1) / 2)]];
                }
                else if (selected_node.direction === d) {
                    children = selected_node.children;
                    const childrencount = children.length;
                    if (childrencount > 0) {
                        node = children[Math.floor((childrencount - 1) / 2)];
                    }
                }
                else {
                    node = selected_node.parent;
                }
                if (node) {
                    _jm.select_node(node);
                }
                e.stopPropagation();
                e.preventDefault();
            }
        }
        handle_undo(_jm, e) {
            console.log("UNDO!");
            _jm.undo();
            e.stopPropagation();
            e.preventDefault();
            return false;
        }
    }

    // noinspection JSUnfilteredForInLoop
    const options = {
        line_width: 5,
        lookup_delay: 500,
        lookup_interval: 80,
    };
    class Draggable {
        constructor(jm) {
            this.jm = jm;
            this.e_canvas = null;
            this.canvas_ctx = null;
            this.shadow = null;
            this.shadow_w = 0;
            this.shadow_h = 0;
            this.active_node = null;
            this.target_node = null;
            this.target_direct = null;
            this.client_w = 0;
            this.client_h = 0;
            this.offset_x = 0;
            this.offset_y = 0;
            this.hlookup_delay = 0;
            this.hlookup_timer = 0;
            this.capture = false;
            this.moved = false;
        }
        init() {
            this._create_canvas();
            this._create_shadow();
            this._event_bind();
        }
        resize() {
            this.jm.view.e_nodes.appendChild(this.shadow);
            this.e_canvas.width = this.jm.view.size.w;
            this.e_canvas.height = this.jm.view.size.h;
        }
        _create_canvas() {
            const c = document.createElement("canvas");
            this.jm.view.e_panel.appendChild(c);
            const ctx = c.getContext("2d");
            this.e_canvas = c;
            this.canvas_ctx = ctx;
        }
        _create_shadow() {
            const s = document.createElement("jmnode");
            s.style.visibility = "hidden";
            s.style.zIndex = "3";
            s.style.cursor = "move";
            s.style.opacity = "0.7";
            this.shadow = s;
        }
        reset_shadow(el) {
            const s = this.shadow.style;
            this.shadow.innerHTML = el.innerHTML;
            s.left = el.style.left;
            s.top = el.style.top;
            s.width = el.style.width;
            s.height = el.style.height;
            s.backgroundImage = el.style.backgroundImage;
            s.backgroundSize = el.style.backgroundSize;
            s.transform = el.style.transform;
            this.shadow_w = this.shadow.clientWidth;
            this.shadow_h = this.shadow.clientHeight;
        }
        show_shadow() {
            if (!this.moved) {
                this.shadow.style.visibility = "visible";
            }
        }
        hide_shadow() {
            this.shadow.style.visibility = "hidden";
        }
        _magnet_shadow(node) {
            if (node) {
                this.canvas_ctx.lineWidth = options.line_width;
                this.canvas_ctx.strokeStyle = "rgba(0,0,0,0.3)";
                this.canvas_ctx.lineCap = "round";
                this._clear_lines();
                this._canvas_lineto(node.sp.x, node.sp.y, node.np.x, node.np.y);
            }
        }
        _clear_lines() {
            this.canvas_ctx.clearRect(0, 0, this.jm.view.size.w, this.jm.view.size.h);
        }
        _canvas_lineto(x1, y1, x2, y2) {
            this.canvas_ctx.beginPath();
            this.canvas_ctx.moveTo(x1, y1);
            this.canvas_ctx.lineTo(x2, y2);
            this.canvas_ctx.stroke();
        }
        _lookup_close_node() {
            const root = this.jm.get_root();
            const root_location = root.get_location();
            const root_size = root.get_size();
            const root_x = root_location.x + root_size.w / 2;
            const sw = this.shadow_w;
            const sh = this.shadow_h;
            const sx = this.shadow.offsetLeft;
            const sy = this.shadow.offsetTop;
            let ns, nl;
            const direct = sx + sw / 2 >= root_x ? 1 /* RIGHT */ : -1 /* LEFT */;
            const nodes = this.jm.mind.nodes;
            let node = null;
            let min_distance = Number.MAX_VALUE;
            let distance = 0;
            let closest_node = null;
            let closest_p = null;
            let shadow_p = null;
            for (const nodeid in nodes) {
                let np, sp;
                node = nodes[nodeid];
                if (node.isroot || node.direction == direct) {
                    if (node.id == this.active_node.id) {
                        continue;
                    }
                    ns = node.get_size();
                    nl = node.get_location();
                    if (direct == 1 /* RIGHT */) {
                        if (sx - nl.x - ns.w <= 0) {
                            continue;
                        }
                        distance =
                            Math.abs(sx - nl.x - ns.w) +
                                Math.abs(sy + sh / 2 - nl.y - ns.h / 2);
                        np = { x: nl.x + ns.w - options.line_width, y: nl.y + ns.h / 2 };
                        sp = { x: sx + options.line_width, y: sy + sh / 2 };
                    }
                    else {
                        if (nl.x - sx - sw <= 0) {
                            continue;
                        }
                        distance =
                            Math.abs(sx + sw - nl.x) + Math.abs(sy + sh / 2 - nl.y - ns.h / 2);
                        np = { x: nl.x + options.line_width, y: nl.y + ns.h / 2 };
                        sp = { x: sx + sw - options.line_width, y: sy + sh / 2 };
                    }
                    if (distance < min_distance) {
                        closest_node = node;
                        closest_p = np;
                        shadow_p = sp;
                        min_distance = distance;
                    }
                }
            }
            if (closest_node) {
                return {
                    node: closest_node,
                    direction: direct,
                    sp: shadow_p,
                    np: closest_p,
                };
            }
            else {
                return null;
            }
        }
        lookup_close_node() {
            const node_data = this._lookup_close_node();
            if (node_data) {
                this._magnet_shadow(node_data);
                this.target_node = node_data.node;
                this.target_direct = node_data.direction;
            }
        }
        _event_bind() {
            // TODO bind に置換可能っぽい
            const jd = this;
            const container = this.jm.view.container;
            container.addEventListener("mousedown", function (e) {
                jd.dragstart.call(jd, e);
            }, false);
            container.addEventListener("mousemove", function (e) {
                jd.drag.call(jd, e);
            }, false);
            container.addEventListener("mouseup", function (e) {
                jd.dragend.call(jd, e);
            }, false);
            container.addEventListener("touchstart", function (e) {
                jd.dragstart.call(jd, e);
            }, false);
            container.addEventListener("touchmove", function (e) {
                jd.drag.call(jd, e);
            }, false);
            container.addEventListener("touchend", function (e) {
                jd.dragend.call(jd, e);
            }, false);
        }
        dragstart(e) {
            if (!this.jm.get_editable()) {
                return;
            }
            if (this.capture) {
                return;
            }
            this.active_node = null;
            const jview = this.jm.view;
            const el = e.target;
            if (el.tagName.toLowerCase() !== "jmnode") {
                return;
            }
            const nodeid = jview.get_binded_nodeid(el);
            if (nodeid) {
                const node = this.jm.get_node(nodeid);
                if (!node.isroot) {
                    this.reset_shadow(el);
                    this.active_node = node;
                    this.offset_x = e.clientX - el.offsetLeft;
                    this.offset_y = e.clientY - el.offsetTop;
                    // this.offset_x = (e.clientX || e.touches[0].clientX) - el.offsetLeft;
                    // this.offset_y = (e.clientY || e.touches[0].clientY) - el.offsetTop;
                    this.client_hw = Math.floor(el.clientWidth / 2);
                    this.client_hh = Math.floor(el.clientHeight / 2);
                    if (this.hlookup_delay !== 0) {
                        window.clearTimeout(this.hlookup_delay);
                    }
                    if (this.hlookup_timer !== 0) {
                        window.clearInterval(this.hlookup_timer);
                    }
                    const jd = this;
                    this.hlookup_delay = window.setTimeout(function () {
                        jd.hlookup_delay = 0;
                        jd.hlookup_timer = window.setInterval(function () {
                            jd.lookup_close_node.call(jd);
                        }, options.lookup_interval);
                    }, options.lookup_delay);
                    this.capture = true;
                }
            }
        }
        drag(e) {
            if (!this.jm.get_editable()) {
                return;
            }
            if (this.capture) {
                e.preventDefault();
                this.show_shadow();
                this.moved = true;
                window.getSelection().removeAllRanges();
                const px = e.clientX - this.offset_x;
                const py = e.clientY - this.offset_y;
                // const px = (e.clientX || e.touches[0].clientX) - this.offset_x;
                // const py = (e.clientY || e.touches[0].clientY) - this.offset_y;
                this.shadow.style.left = px + "px";
                this.shadow.style.top = py + "px";
                window.getSelection().removeAllRanges();
            }
        }
        dragend() {
            if (!this.jm.get_editable()) {
                return;
            }
            if (this.capture) {
                if (this.hlookup_delay !== 0) {
                    window.clearTimeout(this.hlookup_delay);
                    this.hlookup_delay = 0;
                    this._clear_lines();
                }
                if (this.hlookup_timer !== 0) {
                    window.clearInterval(this.hlookup_timer);
                    this.hlookup_timer = 0;
                    this._clear_lines();
                }
                if (this.moved) {
                    const src_node = this.active_node;
                    const target_node = this.target_node;
                    const target_direct = this.target_direct;
                    this.move_node(src_node, target_node, target_direct);
                }
                this.hide_shadow();
            }
            this.moved = false;
            this.capture = false;
        }
        move_node(src_node, target_node, target_direct) {
            console.log(`jsMind.dgraggable.move_node: ${src_node} ${target_node} ${target_direct}`);
            const shadow_h = this.shadow.offsetTop;
            if (!!target_node &&
                !!src_node &&
                !MindNode.inherited(src_node, target_node)) {
                console.log(`let's move!`);
                // lookup before_node
                const sibling_nodes = target_node.children;
                let sc = sibling_nodes.length;
                let node = null;
                let delta_y = Number.MAX_VALUE;
                let node_before = null;
                let beforeid = "_last_";
                while (sc--) {
                    node = sibling_nodes[sc];
                    if (node.direction === target_direct && node.id !== src_node.id) {
                        const dy = node.get_location().y - shadow_h;
                        if (dy > 0 && dy < delta_y) {
                            delta_y = dy;
                            node_before = node;
                            beforeid = "_first_";
                        }
                    }
                }
                if (node_before) {
                    beforeid = node_before.id;
                }
                console.log(`Calling jm.move_node: ${src_node.id}, ${beforeid}, ${target_node.id}, ${target_direct}`);
                this.jm.move_node(src_node.id, beforeid, target_node.id, target_direct);
                // this.jm.move_node(src_node.id, beforeid, target_node.id, target_direct);
            }
            this.active_node = null;
            this.target_node = null;
            this.target_direct = null;
        }
    }

    class UndoManager {
        constructor(jm, undoStackLimit = 10000) {
            this._jm = jm;
            this.undoStack = [];
            this.undoStackLimit = undoStackLimit;
        }
        init() {
            this._jm.add_event_listener(5 /* BEFORE_EDIT */, (data) => {
                if (this.undoStack.length > this.undoStackLimit) {
                    console.log(`UndoManager: callback event. too much stacks.`);
                    this.undoStack.shift();
                }
                console.log(`UndoManager: callback event pushing. ${data.evt}`);
                this.undoStack.push([data.evt, this._jm.get_data("node_tree")]);
            });
        }
        undo() {
            const item = this.undoStack.pop();
            if (item) {
                const [evt, data] = item;
                console.log(`UndoManager: undo. evt=${evt} data=${data}`);
                this._jm.show(data);
            }
            else {
                console.log(`UndoManager: undo. stack is empty.`);
            }
        }
    }

    // noinspection JSUnusedGlobalSymbols
    function is_empty(s) {
        if (!s) {
            return true;
        }
        return s.replace(/\s*/, "").length == 0;
    }
    const DEFAULT_OPTIONS = {
        container: "",
        editable: false,
        theme: null,
        mode: "full",
        support_html: true,
        view: {
            hmargin: 100,
            vmargin: 50,
            line_width: 2,
            line_color: "#555",
        },
        layout: {
            hspace: 30,
            vspace: 20,
            pspace: 13,
        },
        default_event_handle: {
            enable_mousedown_handle: true,
            enable_click_handle: true,
            enable_dblclick_handle: true,
        },
        shortcut: {
            enable: true,
            handles: {},
            mapping: {
                addchild: 45,
                addbrother: 13,
                editnode: 113,
                delnode: 46,
                toggle: 32,
                left: 37,
                up: 38,
                right: 39,
                down: 40, // Down
            },
        },
    };
    class JsMind {
        constructor(id, options) {
            let opts = Object.assign({}, DEFAULT_OPTIONS);
            opts = Object.assign(opts, options);
            if (!opts.container) {
                console.error("the options.container should not be null or empty.");
                return;
            }
            this.options = opts;
            this.inited = false;
            this.mind = null; // TODO original では null が入っていた
            this.event_handles_map = {
                "1": [],
                "2": [],
                "3": [],
                "4": [],
                "5": [],
            };
            this.id = id;
            this.init();
        }
        init() {
            if (this.inited) {
                return;
            }
            this.inited = true;
            const opts = this.options;
            const opts_view = {
                container: opts.container,
                support_html: opts.support_html,
                hmargin: opts.view.hmargin,
                vmargin: opts.view.vmargin,
                line_width: opts.view.line_width,
                line_color: opts.view.line_color,
            };
            // create instance of function provider
            this.data = new DataProvider(this);
            this.layout = new LayoutProvider(this, opts.mode, opts.layout.hspace, opts.layout.vspace, opts.layout.pspace);
            this.view = new ViewProvider(this, opts_view);
            this.shortcut = new ShortcutProvider(this, opts.shortcut.enable, opts.shortcut.mapping, opts.shortcut.handles);
            this.draggable = new Draggable(this);
            this.undo_manager = new UndoManager(this);
            this.layout.init();
            this.view.init();
            this.shortcut.init();
            this.draggable.init();
            this.undo_manager.init();
            this._event_bind();
        }
        enable_edit() {
            this.options.editable = true;
        }
        disable_edit() {
            this.options.editable = false;
        }
        // call enable_event_handle('dblclick')
        // options are 'mousedown', 'click', 'dblclick'
        enable_event_handle(event_handle) {
            this.options.default_event_handle["enable_" + event_handle + "_handle"] = true;
        }
        // call disable_event_handle('dblclick')
        // options are 'mousedown', 'click', 'dblclick'
        disable_event_handle(event_handle) {
            this.options.default_event_handle["enable_" + event_handle + "_handle"] = false;
        }
        get_editable() {
            return this.options.editable;
        }
        set_theme(theme) {
            const theme_old = this.options.theme;
            this.options.theme = theme ? theme : null;
            if (theme_old !== this.options.theme) {
                this.view.reset_theme();
                this.view.reset_custom_style();
            }
        }
        _event_bind() {
            this.view.e_nodes.addEventListener("mousedown", (e: Event) => {
                this.mousedown_handle.bind(this).call(this, e);
            });
            this.view.e_nodes.addEventListener("click", (e: Event) => {
                this.click_handle.bind(this).call(this, e);
            });
            this.view.e_nodes.addEventListener("dblclick", (e: Event) => {
                this.dblclick_handle.bind(this).call(this, e);
            });
        }
        mousedown_handle(e) {
            if (!this.options.default_event_handle["enable_mousedown_handle"]) {
                return;
            }
            const element = e.target;
            const nodeid = this.view.get_binded_nodeid(element);
            if (nodeid) {
                if (element.tagName.toLowerCase() === "jmnode") {
                    const the_node = this.get_node(nodeid);
                    if (!the_node) {
                        console.error("the node[id=" + nodeid + "] can not be found.");
                        return;
                    }
                    else {
                        return this.select_node(the_node);
                    }
                }
            }
            else {
                this.select_clear();
            }
        }
        click_handle(e) {
            if (!this.options.default_event_handle["enable_click_handle"]) {
                return;
            }
            const element = e.target;
            const isexpander = this.view.is_expander(element);
            if (isexpander) {
                const nodeid = this.view.get_binded_nodeid(element);
                if (nodeid) {
                    const the_node = this.get_node(nodeid);
                    if (!the_node) {
                        console.error("the node[id=" + nodeid + "] can not be found.");
                        return;
                    }
                    else {
                        return this.toggle_node(the_node);
                    }
                }
            }
        }
        dblclick_handle(e) {
            if (!this.options.default_event_handle["enable_dblclick_handle"]) {
                return;
            }
            if (this.get_editable()) {
                const element = e.target;
                const nodeid = this.view.get_binded_nodeid(element);
                if (nodeid) {
                    if (nodeid) {
                        const the_node = this.get_node(nodeid);
                        if (!the_node) {
                            console.error("the node[id=" + nodeid + "] can not be found.");
                            return;
                        }
                        else {
                            return this.begin_edit(the_node);
                        }
                    }
                }
            }
        }
        begin_edit(node) {
            if (this.get_editable()) {
                this.view.edit_node_begin(node);
            }
            else {
                console.error("fail, this mind map is not editable.");
            }
        }
        end_edit() {
            this.view.edit_node_end();
        }
        toggle_node(node) {
            if (node.isroot) {
                return;
            }
            this.view.save_location(node);
            this.layout.toggle_node(node);
            this.view.relayout();
            this.view.restore_location(node);
        }
        expand_node(node) {
            if (node.isroot) {
                return;
            }
            this.view.save_location(node);
            this.layout.expand_node(node);
            this.view.relayout();
            this.view.restore_location(node);
        }
        collapse_node(node) {
            if (node.isroot) {
                return;
            }
            this.view.save_location(node);
            this.layout.collapse_node(node);
            this.view.relayout();
            this.view.restore_location(node);
        }
        expand_all() {
            this.layout.expand_all();
            this.view.relayout();
        }
        collapse_all() {
            this.layout.collapse_all();
            this.view.relayout();
        }
        expand_to_depth(depth) {
            this.layout.expand_to_depth(depth, null, null);
            this.view.relayout();
        }
        _reset() {
            this.view.reset();
            this.layout.reset();
        }
        _show(mind) {
            this.mind = this.data.load(mind, this.id);
            if (!this.mind) {
                console.error("data.load error");
                return;
            }
            else {
                console.debug("data.load ok");
            }
            console.log(`JsMind.show id=${this.id}`);
            this.view.load();
            console.debug("view.load ok");
            this.layout.layout();
            console.debug("layout.layout ok");
            this.view.show(true);
            console.debug("view.show ok");
            this.invoke_event_handle(1 /* SHOW */, { data: [mind] });
        }
        show(mind) {
            this._reset();
            this._show(mind);
        }
        get_meta() {
            return {
                name: this.mind.name,
                author: this.mind.author,
                version: this.mind.version,
            };
        }
        get_data(data_format) {
            return this.data.get_data(data_format);
        }
        get_root() {
            return this.mind.root;
        }
        get_node(nodeid) {
            return this.mind.get_node(nodeid);
        }
        add_node(parent_node, nodeid, topic, data) {
            if (this.get_editable()) {
                this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                    evt: "add_node",
                    data: [parent_node.id, nodeid, topic, data],
                    node: nodeid,
                });
                const node = this.mind.add_node(parent_node, nodeid, topic, data, null, null, null);
                if (node) {
                    this.view.add_node(node);
                    this.layout.layout();
                    this.view.show(false);
                    this.view.reset_node_custom_style(node);
                    this.expand_node(parent_node);
                    this.invoke_event_handle(3 /* AFTER_EDIT */, {
                        evt: "add_node",
                        data: [parent_node.id, nodeid, topic, data],
                        node: nodeid,
                    });
                }
                return node;
            }
            else {
                console.error("fail, this mind map is not editable");
                return null;
            }
        }
        insert_node_before(node_before, nodeid, topic, data) {
            if (this.get_editable()) {
                const beforeid = node_before.id;
                this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                    evt: "insert_node_before",
                    data: [beforeid, nodeid, topic, data],
                    node: nodeid,
                });
                const node = this.mind.insert_node_before(node_before, nodeid, topic, data);
                if (node) {
                    this.view.add_node(node);
                    this.layout.layout();
                    this.view.show(false);
                    this.invoke_event_handle(3 /* AFTER_EDIT */, {
                        evt: "insert_node_before",
                        data: [beforeid, nodeid, topic, data],
                        node: nodeid,
                    });
                }
                return node;
            }
            else {
                console.error("fail, this mind map is not editable");
                return null;
            }
        }
        insert_node_after(node_after, nodeid, topic, data) {
            if (this.get_editable()) {
                const afterid = node_after.id;
                const node = this.mind.insert_node_after(node_after, nodeid, topic, data);
                if (node) {
                    this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                        evt: "insert_node_after",
                        data: [afterid, nodeid, topic, data],
                        node: nodeid,
                    });
                    this.view.add_node(node);
                    this.layout.layout();
                    this.view.show(false);
                    this.invoke_event_handle(3 /* AFTER_EDIT */, {
                        evt: "insert_node_after",
                        data: [afterid, nodeid, topic, data],
                        node: nodeid,
                    });
                }
                return node;
            }
            else {
                console.error("fail, this mind map is not editable");
                return null;
            }
        }
        remove_node(node) {
            if (this.get_editable()) {
                if (node.isroot) {
                    console.error("fail, can not remove root node");
                    return false;
                }
                const nodeid = node.id;
                const parentid = node.parent.id;
                this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                    evt: "remove_node",
                    data: [nodeid],
                    node: parentid,
                });
                const parent_node = this.get_node(parentid);
                const nextSelectedNode = this.findUpperBrotherOrParentNode(parent_node, nodeid);
                this.view.save_location(parent_node);
                this.view.remove_node(node);
                this.mind.remove_node(node);
                this.layout.layout();
                this.view.show(false);
                if (parent_node.children.length > 0) {
                    this.mind.selected = nextSelectedNode;
                    this.view.select_node(nextSelectedNode);
                }
                this.view.restore_location(parent_node);
                this.invoke_event_handle(3 /* AFTER_EDIT */, {
                    evt: "remove_node",
                    data: [nodeid],
                    node: parentid,
                });
                return true;
            }
            else {
                console.error("fail, this mind map is not editable");
                return false;
            }
        }
        findUpperBrotherOrParentNode(parent_node, target_node_id) {
            const children = parent_node.children;
            for (let i = 0; i < children.length; i++) {
                if (children[i].id == target_node_id) {
                    if (i == 0) {
                        return parent_node;
                    }
                    else {
                        return children[i - 1];
                    }
                }
            }
            return parent_node; // return
        }
        // set topic to the node
        update_node(nodeid, topic) {
            if (this.get_editable()) {
                if (is_empty(topic)) {
                    console.warn("fail, topic can not be empty");
                    return;
                }
                const node = this.get_node(nodeid);
                if (node) {
                    this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                        evt: "update_node",
                        data: [nodeid, topic],
                        node: nodeid,
                    });
                    if (node.topic === topic) {
                        console.info("nothing changed");
                        this.view.update_node(node);
                        return;
                    }
                    node.topic = topic;
                    this.view.update_node(node);
                    this.layout.layout();
                    this.view.show(false);
                    this.invoke_event_handle(3 /* AFTER_EDIT */, {
                        evt: "update_node",
                        data: [nodeid, topic],
                        node: nodeid,
                    });
                }
                else {
                    console.warn(`Unknown node: ${nodeid}`);
                }
            }
            else {
                console.error("fail, this mind map is not editable");
                return;
            }
        }
        move_node(nodeid, beforeid, parentid, direction) {
            console.log(`jm.move_node: ${nodeid} ${beforeid} ${parentid} ${direction}`);
            if (this.get_editable()) {
                const the_node = this.get_node(nodeid);
                if (!the_node) {
                    console.error("the node[id=" + nodeid + "] can not be found.");
                    return;
                }
                else {
                    this.invoke_event_handle(5 /* BEFORE_EDIT */, {
                        evt: "move_node",
                        data: [nodeid, beforeid, parentid, direction],
                        node: nodeid,
                    });
                    const node = this.mind.move_node(the_node, beforeid, parentid, direction);
                    if (node) {
                        this.view.update_node(node);
                        this.layout.layout();
                        this.view.show(false);
                        this.invoke_event_handle(3 /* AFTER_EDIT */, {
                            evt: "move_node",
                            data: [nodeid, beforeid, parentid, direction],
                            node: nodeid,
                        });
                    }
                }
            }
            else {
                console.error("fail, this mind map is not editable");
                return;
            }
        }
        select_node(node) {
            if (!this.layout.is_visible(node)) {
                return;
            }
            this.mind.selected = node;
            this.view.select_node(node);
            this.invoke_event_handle(4 /* SELECT */, {
                evt: "select_node",
                data: [],
                node: node.id,
            });
        }
        get_selected_node() {
            if (this.mind) {
                return this.mind.selected;
            }
            else {
                return null;
            }
        }
        select_clear() {
            if (this.mind) {
                this.mind.selected = null;
                this.view.select_clear();
            }
        }
        is_node_visible(node) {
            return this.layout.is_visible(node);
        }
        find_node_before(node) {
            if (node.isroot) {
                return null;
            }
            let n = null;
            if (node.parent.isroot) {
                const c = node.parent.children;
                let prev = null;
                let ni = null;
                for (let i = 0; i < c.length; i++) {
                    ni = c[i];
                    if (node.direction === ni.direction) {
                        if (node.id === ni.id) {
                            n = prev;
                        }
                        prev = ni;
                    }
                }
            }
            else {
                n = this.mind.get_node_before(node);
            }
            return n;
        }
        find_node_after(node) {
            if (node.isroot) {
                return null;
            }
            let n = null;
            if (node.parent.isroot) {
                const c = node.parent.children;
                let getthis = false;
                let ni = null;
                for (let i = 0; i < c.length; i++) {
                    ni = c[i];
                    if (node.direction === ni.direction) {
                        if (getthis) {
                            n = ni;
                            break;
                        }
                        if (node.id === ni.id) {
                            getthis = true;
                        }
                    }
                }
            }
            else {
                n = this.mind.get_node_after(node);
            }
            return n;
        }
        resize() {
            this.view.resize();
        }
        // callback(type ,data)
        add_event_listener(eventType, callback) {
            this.event_handles_map[eventType].push(callback);
        }
        invoke_event_handle(type, data) {
            const j = this;
            if (type === 5 /* BEFORE_EDIT */) {
                j._invoke_event_handle(type, data);
            }
            else {
                setTimeout(function () {
                    j._invoke_event_handle(type, data);
                }, 0);
            }
        }
        _invoke_event_handle(type, data) {
            const l = this.event_handles_map[type].length;
            for (let i = 0; i < l; i++) {
                this.event_handles_map[type][i](data);
            }
        }
        undo() {
            this.undo_manager.undo();
        }
    }

    console.log("Loaded browser.ts");

    return JsMind;

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnJvd3Nlci5qcyIsInNvdXJjZXMiOlsic3JjL21pbmRtYXAvTWluZE5vZGUudHMiLCJzcmMvbWluZG1hcC9NaW5kLnRzIiwic3JjL21pbmRtYXAvZm9ybWF0L05vZGVUcmVlLnRzIiwic3JjL21pbmRtYXAvRGF0YVByb3ZpZGVyLnRzIiwic3JjL21pbmRtYXAvTGF5b3V0UHJvdmlkZXIudHMiLCJzcmMvbWluZG1hcC9HcmFwaENhbnZhcy50cyIsInNyYy9taW5kbWFwL01pbmRtYXBDb25zdGFudHMudHMiLCJzcmMvbWluZG1hcC9WaWV3UHJvdmlkZXIudHMiLCJzcmMvbWluZG1hcC9TaG9ydGN1dFByb3ZpZGVyLnRzIiwic3JjL21pbmRtYXAvRHJhZ2dhYmxlLnRzIiwic3JjL21pbmRtYXAvVW5kb01hbmFnZXIudHMiLCJzcmMvbWluZG1hcC9qc21pbmQudHMiLCJicm93c2VyL2Jyb3dzZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVE9ETyBjb252ZXJ0IHRvIHR5cGVzY3JpcHRcbi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblxuaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSBcIi4vTWluZG1hcENvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgVmlld0RhdGEge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgX3NhdmVkX2xvY2F0aW9uOiBhbnk7XG4gIGV4cGFuZGVyOiBIVE1MRWxlbWVudDtcbiAgYWJzX3g6IG51bWJlcjtcbiAgYWJzX3k6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXREYXRhIHtcbiAgZGlyZWN0aW9uOiBEaXJlY3Rpb247XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIG9mZnNldF94OiBudW1iZXI7XG4gIG9mZnNldF95OiBudW1iZXI7XG4gIG91dGVyX2hlaWdodDogbnVtYmVyO1xuICBsZWZ0X25vZGVzOiBNaW5kTm9kZVtdO1xuICByaWdodF9ub2RlczogTWluZE5vZGVbXTtcbiAgb3V0ZXJfaGVpZ2h0X2xlZnQ6IG51bWJlcjtcbiAgb3V0ZXJfaGVpZ2h0X3JpZ2h0OiBudW1iZXI7XG4gIF9vZmZzZXRfOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIF9wb3V0XzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBzaWRlX2luZGV4OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmROb2RlIHtcbiAgcHVibGljIGlkOiBzdHJpbmc7XG4gIHB1YmxpYyBpbmRleDogbnVtYmVyO1xuICBwdWJsaWMgdG9waWM6IHN0cmluZztcbiAgcHVibGljIGRhdGE6IHsgdmlldzogVmlld0RhdGE7IGxheW91dDogTGF5b3V0RGF0YSB9O1xuICBwdWJsaWMgaXNyb290OiBib29sZWFuO1xuICBwdWJsaWMgcGFyZW50OiBNaW5kTm9kZTtcbiAgcHVibGljIGRpcmVjdGlvbjogRGlyZWN0aW9uO1xuICBwdWJsaWMgZXhwYW5kZWQ6IGJvb2xlYW47XG4gIHB1YmxpYyBjaGlsZHJlbjogTWluZE5vZGVbXTtcbiAgcHVibGljIF9kYXRhOiB7XG4gICAgdmlldzogVmlld0RhdGE7XG4gICAgbGF5b3V0OiBMYXlvdXREYXRhO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNJZDogc3RyaW5nLFxuICAgIGlJbmRleDogbnVtYmVyLFxuICAgIHNUb3BpYzogc3RyaW5nLFxuICAgIG9EYXRhOiBhbnksXG4gICAgYklzUm9vdDogYm9vbGVhbixcbiAgICBvUGFyZW50OiBNaW5kTm9kZSxcbiAgICBlRGlyZWN0aW9uOiBEaXJlY3Rpb24sXG4gICAgYkV4cGFuZGVkOiBib29sZWFuXG4gICkge1xuICAgIGlmICghc0lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG5vZGVpZFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpSW5kZXggIT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBub2RlIGluZGV4XCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJFeHBhbmRlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgYkV4cGFuZGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5pZCA9IHNJZDtcbiAgICB0aGlzLmluZGV4ID0gaUluZGV4O1xuICAgIHRoaXMudG9waWMgPSBzVG9waWM7XG4gICAgdGhpcy5kYXRhID0gb0RhdGEgfHwge307XG4gICAgdGhpcy5pc3Jvb3QgPSBiSXNSb290O1xuICAgIHRoaXMucGFyZW50ID0gb1BhcmVudDtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGVEaXJlY3Rpb247XG4gICAgdGhpcy5leHBhbmRlZCA9ICEhYkV4cGFuZGVkO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB0aGlzLl9kYXRhID0ge1xuICAgICAgdmlldzogbmV3IFZpZXdEYXRhKCksXG4gICAgICBsYXlvdXQ6IG5ldyBMYXlvdXREYXRhKCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBjb21wYXJlKG5vZGUxOiBNaW5kTm9kZSwgbm9kZTI6IE1pbmROb2RlKTogbnVtYmVyIHtcbiAgICAvLyAnLTEnIGlzIGFsd2FyeSB0aGUgbGFzdFxuICAgIGxldCByOiBudW1iZXI7XG4gICAgY29uc3QgaTEgPSBub2RlMS5pbmRleDtcbiAgICBjb25zdCBpMiA9IG5vZGUyLmluZGV4O1xuICAgIGlmIChpMSA+PSAwICYmIGkyID49IDApIHtcbiAgICAgIHIgPSBpMSAtIGkyO1xuICAgIH0gZWxzZSBpZiAoaTEgPT09IC0xICYmIGkyID09PSAtMSkge1xuICAgICAgciA9IDA7XG4gICAgfSBlbHNlIGlmIChpMSA9PT0gLTEpIHtcbiAgICAgIHIgPSAxO1xuICAgIH0gZWxzZSBpZiAoaTIgPT09IC0xKSB7XG4gICAgICByID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHIgPSAwO1xuICAgIH1cbiAgICAvL2xvZ2dlci5kZWJ1ZyhpMSsnIDw+ICcraTIrJyAgPSAgJytyKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIHN0YXRpYyBpbmhlcml0ZWQocG5vZGU6IE1pbmROb2RlLCBub2RlOiBNaW5kTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICghIXBub2RlICYmICEhbm9kZSkge1xuICAgICAgaWYgKHBub2RlLmlkID09PSBub2RlLmlkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBub2RlLmlzcm9vdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBpZCA9IHBub2RlLmlkO1xuICAgICAgbGV0IHAgPSBub2RlO1xuICAgICAgd2hpbGUgKCFwLmlzcm9vdCkge1xuICAgICAgICBwID0gcC5wYXJlbnQ7XG4gICAgICAgIGlmIChwLmlkID09PSBwaWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRfbG9jYXRpb24oKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICBjb25zdCB2ZCA9IHRoaXMuX2RhdGEudmlldztcbiAgICByZXR1cm4ge1xuICAgICAgeDogdmQuYWJzX3gsXG4gICAgICB5OiB2ZC5hYnNfeSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0X3NpemUoKTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICBjb25zdCB2ZCA9IHRoaXMuX2RhdGEudmlldztcbiAgICByZXR1cm4ge1xuICAgICAgdzogdmQud2lkdGgsXG4gICAgICBoOiB2ZC5oZWlnaHQsXG4gICAgfTtcbiAgfVxufVxuIiwiLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IE1pbmROb2RlIGZyb20gXCIuL01pbmROb2RlXCI7XG5pbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tIFwiLi9NaW5kbWFwQ29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGF1dGhvcjogc3RyaW5nO1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIHJvb3Q6IE1pbmROb2RlO1xuICBzZWxlY3RlZDogTWluZE5vZGU7XG4gIG5vZGVzOiBSZWNvcmQ8c3RyaW5nLCBNaW5kTm9kZT47XG4gIGlkOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlcikge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuYXV0aG9yID0gbnVsbDtcbiAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG4gICAgdGhpcy5ub2RlcyA9IHt9O1xuICB9XG5cbiAgZ2V0X25vZGUobm9kZWlkOiBzdHJpbmcpOiBNaW5kTm9kZSB7XG4gICAgaWYgKG5vZGVpZCBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2Rlc1tub2RlaWRdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHRoZSBub2RlW2lkPSR7bm9kZWlkfV0gY2FuIG5vdCBiZSBmb3VuZC4uLmApO1xuICAgIH1cbiAgfVxuXG4gIHNldF9yb290KG5vZGVpZDogc3RyaW5nLCB0b3BpYzogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yb290ID09IG51bGwpIHtcbiAgICAgIHRoaXMucm9vdCA9IG5ldyBNaW5kTm9kZShub2RlaWQsIDAsIHRvcGljLCBkYXRhLCB0cnVlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgIHRoaXMuX3B1dF9ub2RlKHRoaXMucm9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJyb290IG5vZGUgaXMgYWxyZWFkeSBleGlzdFwiKTtcbiAgICB9XG4gIH1cblxuICBhZGRfbm9kZShcbiAgICBwYXJlbnRfbm9kZTogTWluZE5vZGUsXG4gICAgbm9kZWlkOiBzdHJpbmcsXG4gICAgdG9waWM6IHN0cmluZyxcbiAgICBkYXRhOiBhbnksXG4gICAgaWR4OiBudW1iZXIsXG4gICAgZGlyZWN0aW9uOiBEaXJlY3Rpb24gfCBudWxsLFxuICAgIGV4cGFuZGVkOiBib29sZWFuXG4gICk6IE1pbmROb2RlIHtcbiAgICBjb25zdCBub2RlaW5kZXg6IG51bWJlciA9IGlkeCB8fCAtMTtcbiAgICBsZXQgbm9kZTtcbiAgICBpZiAocGFyZW50X25vZGUuaXNyb290KSB7XG4gICAgICBsZXQgZDtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudF9ub2RlLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbl9sZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbl9sZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5MRUZUKSB7XG4gICAgICAgICAgICByLS07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZCA9IGNoaWxkcmVuX2xlbiA+IDEgJiYgciA+IDAgPyBEaXJlY3Rpb24uTEVGVCA6IERpcmVjdGlvbi5SSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGQgPSBkaXJlY3Rpb24gIT09IERpcmVjdGlvbi5MRUZUID8gRGlyZWN0aW9uLlJJR0hUIDogRGlyZWN0aW9uLkxFRlQ7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYGFkZF9ub2RlIHNvdXJjZSBESVJFQ1RJT049JHtkaXJlY3Rpb259IERJUkVDVElPTj0ke2R9ICR7dG9waWN9YFxuICAgICAgKTtcbiAgICAgIG5vZGUgPSBuZXcgTWluZE5vZGUoXG4gICAgICAgIG5vZGVpZCxcbiAgICAgICAgbm9kZWluZGV4LFxuICAgICAgICB0b3BpYyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHBhcmVudF9ub2RlLFxuICAgICAgICBkLFxuICAgICAgICBleHBhbmRlZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IG5ldyBNaW5kTm9kZShcbiAgICAgICAgbm9kZWlkLFxuICAgICAgICBub2RlaW5kZXgsXG4gICAgICAgIHRvcGljLFxuICAgICAgICBkYXRhLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgcGFyZW50X25vZGUsXG4gICAgICAgIHBhcmVudF9ub2RlLmRpcmVjdGlvbixcbiAgICAgICAgZXhwYW5kZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9wdXRfbm9kZShub2RlKSkge1xuICAgICAgcGFyZW50X25vZGUuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgIHRoaXMuX3JlaW5kZXgocGFyZW50X25vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiZmFpbCwgdGhlIG5vZGVpZCAnXCIgKyBub2RlLmlkICsgXCInIGhhcyBiZWVuIGFscmVhZHkgZXhpc3QuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpbnNlcnRfbm9kZV9iZWZvcmUoXG4gICAgbm9kZV9iZWZvcmU6IE1pbmROb2RlLFxuICAgIG5vZGVpZDogc3RyaW5nLFxuICAgIHRvcGljOiBzdHJpbmcsXG4gICAgZGF0YTogYW55XG4gICk6IE1pbmROb2RlIHtcbiAgICBjb25zdCBub2RlX2luZGV4ID0gbm9kZV9iZWZvcmUuaW5kZXggLSAwLjU7XG4gICAgcmV0dXJuIHRoaXMuYWRkX25vZGUoXG4gICAgICBub2RlX2JlZm9yZS5wYXJlbnQsXG4gICAgICBub2RlaWQsXG4gICAgICB0b3BpYyxcbiAgICAgIGRhdGEsXG4gICAgICBub2RlX2luZGV4LFxuICAgICAgbnVsbCxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG5cbiAgZ2V0X25vZGVfYmVmb3JlKG5vZGU6IE1pbmROb2RlKTogTWluZE5vZGUge1xuICAgIGlmIChub2RlLmlzcm9vdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgaWR4ID0gbm9kZS5pbmRleCAtIDI7XG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICByZXR1cm4gbm9kZS5wYXJlbnQuY2hpbGRyZW5baWR4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gYWRkIGxpdHRsZSBicm90aGVyIG5vZGUuXG4gIGluc2VydF9ub2RlX2FmdGVyKFxuICAgIG5vZGVfYWZ0ZXI6IE1pbmROb2RlLFxuICAgIG5vZGVpZDogc3RyaW5nLFxuICAgIHRvcGljOiBzdHJpbmcsXG4gICAgZGF0YTogYW55XG4gICk6IE1pbmROb2RlIHtcbiAgICBjb25zdCBub2RlX2luZGV4ID0gbm9kZV9hZnRlci5pbmRleCArIDAuNTtcbiAgICAvLyBmb2xsb3cgY3VycmVudCBkaXJlY3Rpb24uXG4gICAgcmV0dXJuIHRoaXMuYWRkX25vZGUoXG4gICAgICBub2RlX2FmdGVyLnBhcmVudCxcbiAgICAgIG5vZGVpZCxcbiAgICAgIHRvcGljLFxuICAgICAgZGF0YSxcbiAgICAgIG5vZGVfaW5kZXgsXG4gICAgICBub2RlX2FmdGVyLmRpcmVjdGlvbixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG5cbiAgZ2V0X25vZGVfYWZ0ZXIobm9kZTogTWluZE5vZGUpOiBNaW5kTm9kZSB7XG4gICAgaWYgKG5vZGUuaXNyb290KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaWR4ID0gbm9kZS5pbmRleDtcbiAgICBjb25zdCBicm90aGVycyA9IG5vZGUucGFyZW50LmNoaWxkcmVuO1xuICAgIGlmIChicm90aGVycy5sZW5ndGggPj0gaWR4KSB7XG4gICAgICByZXR1cm4gbm9kZS5wYXJlbnQuY2hpbGRyZW5baWR4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgbW92ZV9ub2RlKFxuICAgIG5vZGU6IE1pbmROb2RlLFxuICAgIGJlZm9yZWlkOiBzdHJpbmcsXG4gICAgcGFyZW50aWQ6IHN0cmluZyxcbiAgICBkaXJlY3Rpb246IGFueVxuICApOiBNaW5kTm9kZSB7XG4gICAgY29uc29sZS5hc3NlcnQobm9kZSBpbnN0YW5jZW9mIE1pbmROb2RlLCBcIm5vZGUgc2hvdWxkIGJlIE5vZGVcIik7XG4gICAgY29uc29sZS5sb2coYG1vdmVfbm9kZTogJHtub2RlfSAke2JlZm9yZWlkfSAke3BhcmVudGlkfSAke2RpcmVjdGlvbn1gKTtcbiAgICBpZiAoIXBhcmVudGlkKSB7XG4gICAgICBwYXJlbnRpZCA9IG5vZGUucGFyZW50LmlkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbW92ZV9ub2RlKG5vZGUsIGJlZm9yZWlkLCBwYXJlbnRpZCwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIF9mbG93X25vZGVfZGlyZWN0aW9uKG5vZGU6IE1pbmROb2RlLCBkaXJlY3Rpb246IGFueSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgZGlyZWN0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBkaXJlY3Rpb24gPSBub2RlLmRpcmVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgfVxuICAgIGxldCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgIHRoaXMuX2Zsb3dfbm9kZV9kaXJlY3Rpb24obm9kZS5jaGlsZHJlbltsZW5dLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIF9tb3ZlX25vZGVfaW50ZXJuYWwobm9kZTogTWluZE5vZGUsIGJlZm9yZWlkOiBzdHJpbmcpOiBNaW5kTm9kZSB7XG4gICAgaWYgKCEhbm9kZSAmJiAhIWJlZm9yZWlkKSB7XG4gICAgICBpZiAoYmVmb3JlaWQgPT09IFwiX2xhc3RfXCIpIHtcbiAgICAgICAgbm9kZS5pbmRleCA9IC0xO1xuICAgICAgICB0aGlzLl9yZWluZGV4KG5vZGUucGFyZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoYmVmb3JlaWQgPT09IFwiX2ZpcnN0X1wiKSB7XG4gICAgICAgIG5vZGUuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9yZWluZGV4KG5vZGUucGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5vZGVfYmVmb3JlID0gYmVmb3JlaWQgPyB0aGlzLmdldF9ub2RlKGJlZm9yZWlkKSA6IG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBub2RlX2JlZm9yZSAhPSBudWxsICYmXG4gICAgICAgICAgbm9kZV9iZWZvcmUucGFyZW50ICE9IG51bGwgJiZcbiAgICAgICAgICBub2RlX2JlZm9yZS5wYXJlbnQuaWQgPT09IG5vZGUucGFyZW50LmlkXG4gICAgICAgICkge1xuICAgICAgICAgIG5vZGUuaW5kZXggPSBub2RlX2JlZm9yZS5pbmRleCAtIDAuNTtcbiAgICAgICAgICB0aGlzLl9yZWluZGV4KG5vZGUucGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIF9tb3ZlX25vZGUoXG4gICAgbm9kZTogTWluZE5vZGUsXG4gICAgYmVmb3JlaWQ6IHN0cmluZyxcbiAgICBwYXJlbnRpZDogc3RyaW5nLFxuICAgIGRpcmVjdGlvbjogYW55XG4gICk6IE1pbmROb2RlIHtcbiAgICBjb25zb2xlLmxvZyhgX21vdmVfbm9kZTogJHtub2RlfSwgJHtiZWZvcmVpZH0sICR7cGFyZW50aWR9LCAke2RpcmVjdGlvbn1gKTtcbiAgICBpZiAoISFub2RlICYmICEhcGFyZW50aWQpIHtcbiAgICAgIGNvbnNvbGUuYXNzZXJ0KG5vZGUucGFyZW50LCBgbm9kZS5wYXJlbnQgaXMgbnVsbDogJHtub2RlfWApO1xuICAgICAgaWYgKG5vZGUucGFyZW50LmlkICE9PSBwYXJlbnRpZCkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBwYXJlbnQncyBjaGlsZHJlblxuICAgICAgICBjb25zdCBzaWJsaW5nID0gbm9kZS5wYXJlbnQuY2hpbGRyZW47XG4gICAgICAgIGxldCBzaSA9IHNpYmxpbmcubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoc2ktLSkge1xuICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNpYmxpbmdbc2ldLCBcInNpYmxpbmdbc2ldIGlzIG51bGxcIik7XG4gICAgICAgICAgaWYgKHNpYmxpbmdbc2ldLmlkID09PSBub2RlLmlkKSB7XG4gICAgICAgICAgICBzaWJsaW5nLnNwbGljZShzaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmdldF9ub2RlKHBhcmVudGlkKTtcbiAgICAgICAgbm9kZS5wYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUucGFyZW50Lmlzcm9vdCkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTEVGVCkge1xuICAgICAgICAgIG5vZGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuZGlyZWN0aW9uID0gRGlyZWN0aW9uLlJJR0hUO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmRpcmVjdGlvbiA9IG5vZGUucGFyZW50LmRpcmVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21vdmVfbm9kZV9pbnRlcm5hbChub2RlLCBiZWZvcmVpZCk7XG4gICAgICB0aGlzLl9mbG93X25vZGVfZGlyZWN0aW9uKG5vZGUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8vIFhYWCBqc01pbmQg44Gn44GvIE5vZGUg44Gn44Gv44Gq44GPIHN0cmluZyDjgoLlj5fjgZHku5jjgZHjgabjgYTjgZ/jgIJcbiAgcmVtb3ZlX25vZGUobm9kZTogTWluZE5vZGUpOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsLCB0aGUgbm9kZSBjYW4gbm90IGJlIGZvdW5kXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZS5pc3Jvb3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsLCBjYW4gbm90IHJlbW92ZSByb290IG5vZGVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLnNlbGVjdGVkICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZC5pZCA9PT0gbm9kZS5pZCkge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNsZWFuIGFsbCBzdWJvcmRpbmF0ZSBub2Rlc1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbjtcbiAgICBsZXQgY2kgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgd2hpbGUgKGNpLS0pIHtcbiAgICAgIHRoaXMucmVtb3ZlX25vZGUoY2hpbGRyZW5bY2ldKTtcbiAgICB9XG4gICAgLy8gY2xlYW4gYWxsIGNoaWxkcmVuXG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAvLyByZW1vdmUgZnJvbSBwYXJlbnQncyBjaGlsZHJlblxuICAgIGNvbnN0IHNpYmxpbmcgPSBub2RlLnBhcmVudC5jaGlsZHJlbjtcbiAgICBsZXQgc2kgPSBzaWJsaW5nLmxlbmd0aDtcbiAgICB3aGlsZSAoc2ktLSkge1xuICAgICAgaWYgKHNpYmxpbmdbc2ldLmlkID09PSBub2RlLmlkKSB7XG4gICAgICAgIHNpYmxpbmcuc3BsaWNlKHNpLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlbW92ZSBmcm9tIGdsb2JhbCBub2Rlc1xuICAgIGRlbGV0ZSB0aGlzLm5vZGVzW25vZGUuaWRdO1xuICAgIC8vIGNsZWFuIGFsbCBwcm9wZXJ0aWVzXG4gICAgZm9yIChjb25zdCBrIGluIG5vZGUpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGRlbGV0ZSBub2RlW2tdO1xuICAgIH1cbiAgICAvLyByZW1vdmUgaXQncyBzZWxmXG4gICAgbm9kZSA9IG51bGw7XG4gICAgLy9kZWxldGUgbm9kZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9wdXRfbm9kZShub2RlOiBNaW5kTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmIChub2RlLmlkIGluIHRoaXMubm9kZXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInRoZSBub2RlaWQgJ1wiICsgbm9kZS5pZCArIFwiJyBoYXMgYmVlbiBhbHJlYWR5IGV4aXN0LlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ub2Rlc1tub2RlLmlkXSA9IG5vZGU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBfcmVpbmRleChub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgTWluZE5vZGUpIHtcbiAgICAgIG5vZGUuY2hpbGRyZW4uc29ydChNaW5kTm9kZS5jb21wYXJlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBub2RlLmNoaWxkcmVuW2ldLmluZGV4ID0gaSArIDE7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIG1vZHVsZS5leHBvcnRzLk1pbmQgPSBNaW5kO1xuIiwiLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuXG4vKlxue1xuICAgIFwibWV0YVwiOiB7XG4gICAgICBcIm5hbWVcIjogX19uYW1lX18sXG4gICAgICBcImF1dGhvclwiOiBfX2F1dGhvcl9fLFxuICAgICAgXCJ2ZXJzaW9uXCI6IF9fdmVyc2lvbl9fXG4gICAgfSxcbiAgICBcImZvcm1hdFwiOiBcIm5vZGVfdHJlZVwiLFxuICAgIFwiZGF0YVwiOiB7IFwiaWRcIjogXCJyb290XCIsIFwidG9waWNcIjogXCJqc01pbmQgRXhhbXBsZVwiIH1cbn1cbiAqL1xuXG5pbXBvcnQgTWluZCBmcm9tIFwiLi4vTWluZFwiO1xuaW1wb3J0IE1pbmROb2RlIGZyb20gXCIuLi9NaW5kTm9kZVwiO1xuaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSBcIi4uL01pbmRtYXBDb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIE5vZGVUcmVlIHtcbiAgZ2V0X21pbmQoc291cmNlOiBhbnksIGlkOiBudW1iZXIpOiBNaW5kIHtcbiAgICBjb25zdCBtaW5kID0gbmV3IE1pbmQoaWQpO1xuICAgIG1pbmQubmFtZSA9IHNvdXJjZS5tZXRhLm5hbWU7XG4gICAgbWluZC5hdXRob3IgPSBzb3VyY2UubWV0YS5hdXRob3I7XG4gICAgbWluZC52ZXJzaW9uID0gc291cmNlLm1ldGEudmVyc2lvbjtcbiAgICB0aGlzLl9wYXJzZShtaW5kLCBzb3VyY2UuZGF0YSk7XG4gICAgcmV0dXJuIG1pbmQ7XG4gIH1cblxuICBnZXRfZGF0YShtaW5kOiBNaW5kKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgIGpzb24ubWV0YSA9IHtcbiAgICAgIG5hbWU6IG1pbmQubmFtZSxcbiAgICAgIGF1dGhvcjogbWluZC5hdXRob3IsXG4gICAgICB2ZXJzaW9uOiBtaW5kLnZlcnNpb24sXG4gICAgfTtcbiAgICBqc29uLmZvcm1hdCA9IFwibm9kZV90cmVlXCI7XG4gICAganNvbi5kYXRhID0gdGhpcy5fYnVpbGRub2RlKG1pbmQucm9vdCk7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBwcml2YXRlIF9wYXJzZShtaW5kOiBNaW5kLCBub2RlX3Jvb3Q6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2V4dHJhY3RfZGF0YShub2RlX3Jvb3QpO1xuICAgIG1pbmQuc2V0X3Jvb3Qobm9kZV9yb290LmlkLCBub2RlX3Jvb3QudG9waWMsIGRhdGEpO1xuICAgIGlmIChcImNoaWxkcmVuXCIgaW4gbm9kZV9yb290KSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGVfcm9vdC5jaGlsZHJlbjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZXh0cmFjdF9zdWJub2RlKG1pbmQsIG1pbmQucm9vdCwgY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2V4dHJhY3RfZGF0YShub2RlX2pzb246IGFueSk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gbm9kZV9qc29uKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGsgPT0gXCJpZFwiIHx8XG4gICAgICAgIGsgPT0gXCJ0b3BpY1wiIHx8XG4gICAgICAgIGsgPT0gXCJjaGlsZHJlblwiIHx8XG4gICAgICAgIGsgPT0gXCJkaXJlY3Rpb25cIiB8fFxuICAgICAgICBrID09IFwiZXhwYW5kZWRcIlxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZGF0YVtrXSA9IG5vZGVfanNvbltrXTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwcml2YXRlIF9leHRyYWN0X3N1Ym5vZGUoXG4gICAgbWluZDogTWluZCxcbiAgICBub2RlX3BhcmVudDogTWluZE5vZGUsXG4gICAgbm9kZV9qc29uOiBhbnlcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2V4dHJhY3RfZGF0YShub2RlX2pzb24pO1xuICAgIGxldCBkID0gbnVsbDtcbiAgICBpZiAobm9kZV9wYXJlbnQuaXNyb290KSB7XG4gICAgICBkID0gbm9kZV9qc29uLmRpcmVjdGlvbiA9PSBcImxlZnRcIiA/IERpcmVjdGlvbi5MRUZUIDogRGlyZWN0aW9uLlJJR0hUO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBfZXh0cmFjdF9zdWJub2RlIG5vZGVfanNvbi5kaXJlY3Rpb24gRElSRUNUSU9OPSR7bm9kZV9qc29uLmRpcmVjdGlvbn0gZD0ke2R9ICR7bm9kZV9qc29uLnRvcGljfWBcbiAgICApO1xuICAgIGNvbnN0IG5vZGUgPSBtaW5kLmFkZF9ub2RlKFxuICAgICAgbm9kZV9wYXJlbnQsXG4gICAgICBub2RlX2pzb24uaWQsXG4gICAgICBub2RlX2pzb24udG9waWMsXG4gICAgICBkYXRhLFxuICAgICAgbnVsbCxcbiAgICAgIGQsXG4gICAgICBub2RlX2pzb24uZXhwYW5kZWRcbiAgICApO1xuICAgIGlmIChcImNoaWxkcmVuXCIgaW4gbm9kZV9qc29uKSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGVfanNvbi5jaGlsZHJlbjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZXh0cmFjdF9zdWJub2RlKG1pbmQsIG5vZGUsIGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9idWlsZG5vZGUobm9kZTogTWluZE5vZGUpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluZE5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG86IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7XG4gICAgICBpZDogbm9kZS5pZCxcbiAgICAgIHRvcGljOiBub2RlLnRvcGljLFxuICAgICAgZXhwYW5kZWQ6IG5vZGUuZXhwYW5kZWQsXG4gICAgfTtcbiAgICBpZiAoISFub2RlLnBhcmVudCAmJiBub2RlLnBhcmVudC5pc3Jvb3QpIHtcbiAgICAgIG8uZGlyZWN0aW9uID0gbm9kZS5kaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxFRlQgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcbiAgICB9XG4gICAgaWYgKG5vZGUuZGF0YSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBub2RlX2RhdGEgPSBub2RlLmRhdGE7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gbm9kZV9kYXRhKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgb1trXSA9IG5vZGVfZGF0YVtrXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBvLmNoaWxkcmVuID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG8uY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZG5vZGUoY2hpbGRyZW5baV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH1cbn1cbiIsImltcG9ydCB7IE5vZGVUcmVlIH0gZnJvbSBcIi4vZm9ybWF0L05vZGVUcmVlXCI7XG5pbXBvcnQgSnNNaW5kIGZyb20gXCIuL0pzTWluZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICBwcml2YXRlIGZvcm1hdDogUmVjb3JkPHN0cmluZywgTm9kZVRyZWU+O1xuICBwcml2YXRlIGptOiBKc01pbmQ7XG5cbiAgY29uc3RydWN0b3Ioam06IEpzTWluZCkge1xuICAgIHRoaXMuam0gPSBqbTtcbiAgICB0aGlzLmZvcm1hdCA9IHtcbiAgICAgIG5vZGVfdHJlZTogbmV3IE5vZGVUcmVlKCksXG4gICAgfTtcbiAgfVxuXG4gIGxvYWQobWluZF9kYXRhOiBhbnksIGlkOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQubm9kZV90cmVlLmdldF9taW5kKG1pbmRfZGF0YSwgaWQpO1xuICB9XG5cbiAgZ2V0X2RhdGEoZGF0YV9mb3JtYXQ6IHN0cmluZykge1xuICAgIGlmIChkYXRhX2Zvcm1hdCA9PT0gXCJub2RlX3RyZWVcIikge1xuICAgICAgY29uc29sZS5sb2codGhpcy5qbS5taW5kKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdC5ub2RlX3RyZWUuZ2V0X2RhdGEodGhpcy5qbS5taW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZvcm1hdDogJHtkYXRhX2Zvcm1hdH1gKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIG5vaW5zcGVjdGlvbiBKU1VuZmlsdGVyZWRGb3JJbkxvb3BcblxuaW1wb3J0IHsgRGlyZWN0aW9uLCBFdmVudFR5cGUgfSBmcm9tIFwiLi9NaW5kbWFwQ29uc3RhbnRzXCI7XG5cbmltcG9ydCBNaW5kTm9kZSBmcm9tIFwiLi9NaW5kTm9kZVwiO1xuaW1wb3J0IEpzTWluZCBmcm9tIFwiLi9Kc01pbmRcIjtcblxuY2xhc3MgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0UHJvdmlkZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGptOiBKc01pbmQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNzaWRlOiBib29sZWFuO1xuICBib3VuZHM6IHsgbjogbnVtYmVyOyBzOiBudW1iZXI7IHc6IG51bWJlcjsgZTogbnVtYmVyIH07XG4gIHByaXZhdGUgY2FjaGVfdmFsaWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgX2hzcGFjZTogbnVtYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IF92c3BhY2U6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBfcHNwYWNlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgam06IEpzTWluZCxcbiAgICBtb2RlOiBzdHJpbmcgPSBcImZ1bGxcIiAvKiAnZnVsbCcgb3IgJ3NpZGUnICovLFxuICAgIGhzcGFjZTogbnVtYmVyID0gMzAsXG4gICAgdnNwYWNlOiBudW1iZXIgPSAyMCxcbiAgICBwc3BhY2U6IG51bWJlciA9IDEzXG4gICkge1xuICAgIHRoaXMuX2hzcGFjZSA9IGhzcGFjZTtcbiAgICB0aGlzLl92c3BhY2UgPSB2c3BhY2U7XG4gICAgdGhpcy5fcHNwYWNlID0gcHNwYWNlO1xuICAgIHRoaXMuam0gPSBqbTtcbiAgICB0aGlzLmlzc2lkZSA9IG1vZGUgPT0gXCJzaWRlXCI7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMuY2FjaGVfdmFsaWQgPSBmYWxzZTtcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgLy8gVE9ETyByZW1vdmUgdGhpc1xuICAgIGNvbnNvbGUuZGVidWcoXCJsYXlvdXQuaW5pdFwiKTtcbiAgfVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIGNvbnNvbGUuZGVidWcoXCJsYXlvdXQucmVzZXRcIik7XG4gICAgdGhpcy5ib3VuZHMgPSB7IG46IDAsIHM6IDAsIHc6IDAsIGU6IDAgfTtcbiAgfVxuXG4gIGxheW91dCgpOiB2b2lkIHtcbiAgICBjb25zb2xlLmRlYnVnKFwibGF5b3V0LmxheW91dFwiKTtcbiAgICB0aGlzLmxheW91dF9kaXJlY3Rpb24oKTtcbiAgICB0aGlzLmxheW91dF9vZmZzZXQoKTtcbiAgfVxuXG4gIGxheW91dF9kaXJlY3Rpb24oKTogdm9pZCB7XG4gICAgdGhpcy5fbGF5b3V0X2RpcmVjdGlvbl9yb290KCk7XG4gIH1cblxuICBfbGF5b3V0X2RpcmVjdGlvbl9yb290KCk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLmptLm1pbmQucm9vdDtcblxuICAgIC8vIGNvbnNvbGUuZGVidWcobm9kZSk7XG4gICAgY29uc3QgbGF5b3V0X2RhdGEgPSBub2RlLl9kYXRhLmxheW91dDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRyZW5fY291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGF5b3V0X2RhdGEuZGlyZWN0aW9uID0gRGlyZWN0aW9uLkNFTlRFUjtcbiAgICBsYXlvdXRfZGF0YS5zaWRlX2luZGV4ID0gMDtcbiAgICBpZiAodGhpcy5pc3NpZGUpIHtcbiAgICAgIGxldCBpID0gY2hpbGRyZW5fY291bnQ7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHRoaXMuX2xheW91dF9kaXJlY3Rpb25fc2lkZShjaGlsZHJlbltpXSwgRGlyZWN0aW9uLlJJR0hULCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGkgPSBjaGlsZHJlbl9jb3VudDtcbiAgICAgIGxldCBzdWJub2RlID0gbnVsbDtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgc3Vibm9kZSA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoc3Vibm9kZS5kaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxFRlQpIHtcbiAgICAgICAgICB0aGlzLl9sYXlvdXRfZGlyZWN0aW9uX3NpZGUoc3Vibm9kZSwgRGlyZWN0aW9uLkxFRlQsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xheW91dF9kaXJlY3Rpb25fc2lkZShzdWJub2RlLCBEaXJlY3Rpb24uUklHSFQsIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKlxuICAgICAgICAgICAgICB2YXIgYm91bmRhcnkgPSBNYXRoLmNlaWwoY2hpbGRyZW5fY291bnQvMik7XG4gICAgICAgICAgICAgIHZhciBpID0gY2hpbGRyZW5fY291bnQ7XG4gICAgICAgICAgICAgIHdoaWxlKGktLSl7XG4gICAgICAgICAgICAgICAgICBpZihpPj1ib3VuZGFyeSl7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGF5b3V0X2RpcmVjdGlvbl9zaWRlKGNoaWxkcmVuW2ldLERpcmVjdGlvbi5MRUZULCBjaGlsZHJlbl9jb3VudC1pLTEpO1xuICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGF5b3V0X2RpcmVjdGlvbl9zaWRlKGNoaWxkcmVuW2ldLERpcmVjdGlvbi5SSUdIVCwgaSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0qL1xuICAgIH1cbiAgfVxuXG4gIF9sYXlvdXRfZGlyZWN0aW9uX3NpZGUoXG4gICAgbm9kZTogTWluZE5vZGUsXG4gICAgZGlyZWN0aW9uOiBEaXJlY3Rpb24sXG4gICAgc2lkZV9pbmRleDogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIGxldCBsYXlvdXRfZGF0YSA9IG5vZGUuX2RhdGEubGF5b3V0O1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZHJlbl9jb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgIGxheW91dF9kYXRhLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICBsYXlvdXRfZGF0YS5zaWRlX2luZGV4ID0gc2lkZV9pbmRleDtcbiAgICBsZXQgaSA9IGNoaWxkcmVuX2NvdW50O1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMuX2xheW91dF9kaXJlY3Rpb25fc2lkZShjaGlsZHJlbltpXSwgZGlyZWN0aW9uLCBpKTtcbiAgICB9XG4gIH1cblxuICBsYXlvdXRfb2Zmc2V0KCk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLmptLm1pbmQucm9vdDtcbiAgICBjb25zdCBsYXlvdXRfZGF0YSA9IG5vZGUuX2RhdGEubGF5b3V0O1xuICAgIGxheW91dF9kYXRhLm9mZnNldF94ID0gMDtcbiAgICBsYXlvdXRfZGF0YS5vZmZzZXRfeSA9IDA7XG4gICAgbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0ID0gMDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgbGV0IGkgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgY29uc3QgbGVmdF9ub2RlcyA9IFtdO1xuICAgIGNvbnN0IHJpZ2h0X25vZGVzID0gW107XG4gICAgbGV0IHN1Ym5vZGUgPSBudWxsO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHN1Ym5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmIChzdWJub2RlLl9kYXRhLmxheW91dC5kaXJlY3Rpb24gPT0gRGlyZWN0aW9uLlJJR0hUKSB7XG4gICAgICAgIHJpZ2h0X25vZGVzLnVuc2hpZnQoc3Vibm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0X25vZGVzLnVuc2hpZnQoc3Vibm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxheW91dF9kYXRhLmxlZnRfbm9kZXMgPSBsZWZ0X25vZGVzO1xuICAgIGxheW91dF9kYXRhLnJpZ2h0X25vZGVzID0gcmlnaHRfbm9kZXM7XG4gICAgbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X2xlZnQgPSB0aGlzLl9sYXlvdXRfb2Zmc2V0X3N1Ym5vZGVzKGxlZnRfbm9kZXMpO1xuICAgIGxheW91dF9kYXRhLm91dGVyX2hlaWdodF9yaWdodCA9IHRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXMocmlnaHRfbm9kZXMpO1xuICAgIHRoaXMuYm91bmRzLmUgPSBub2RlLl9kYXRhLnZpZXcud2lkdGggLyAyO1xuICAgIHRoaXMuYm91bmRzLncgPSAwIC0gdGhpcy5ib3VuZHMuZTtcbiAgICAvL2NvbnNvbGUuZGVidWcodGhpcy5ib3VuZHMudyk7XG4gICAgdGhpcy5ib3VuZHMubiA9IDA7XG4gICAgdGhpcy5ib3VuZHMucyA9IE1hdGgubWF4KFxuICAgICAgbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X2xlZnQsXG4gICAgICBsYXlvdXRfZGF0YS5vdXRlcl9oZWlnaHRfcmlnaHRcbiAgICApO1xuICB9XG5cbiAgLy8gbGF5b3V0IGJvdGggdGhlIHggYW5kIHkgYXhpc1xuICBfbGF5b3V0X29mZnNldF9zdWJub2Rlcyhub2RlczogTWluZE5vZGVbXSk6IG51bWJlciB7XG4gICAgbGV0IHRvdGFsX2hlaWdodCA9IDA7XG4gICAgY29uc3Qgbm9kZXNfY291bnQgPSBub2Rlcy5sZW5ndGg7XG4gICAgbGV0IGkgPSBub2Rlc19jb3VudDtcbiAgICBsZXQgbm9kZSA9IG51bGw7XG4gICAgbGV0IG5vZGVfb3V0ZXJfaGVpZ2h0ID0gMDtcbiAgICBsZXQgbGF5b3V0X2RhdGEgPSBudWxsO1xuICAgIGxldCBiYXNlX3kgPSAwO1xuICAgIGxldCBwZCA9IG51bGw7IC8vIHBhcmVudC5fZGF0YVxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGxheW91dF9kYXRhID0gbm9kZS5fZGF0YS5sYXlvdXQ7XG4gICAgICBpZiAocGQgPT0gbnVsbCkge1xuICAgICAgICBwZCA9IG5vZGUucGFyZW50Ll9kYXRhO1xuICAgICAgICBpZiAocGQgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgcGFyZW50J3MgZGF0YVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2RlX291dGVyX2hlaWdodCA9IHRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXMobm9kZS5jaGlsZHJlbik7XG4gICAgICBpZiAoIW5vZGUuZXhwYW5kZWQpIHtcbiAgICAgICAgbm9kZV9vdXRlcl9oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnNldF92aXNpYmxlKG5vZGUuY2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIG5vZGVfb3V0ZXJfaGVpZ2h0ID0gTWF0aC5tYXgobm9kZS5fZGF0YS52aWV3LmhlaWdodCwgbm9kZV9vdXRlcl9oZWlnaHQpO1xuXG4gICAgICBsYXlvdXRfZGF0YS5vdXRlcl9oZWlnaHQgPSBub2RlX291dGVyX2hlaWdodDtcbiAgICAgIGxheW91dF9kYXRhLm9mZnNldF95ID0gYmFzZV95IC0gbm9kZV9vdXRlcl9oZWlnaHQgLyAyO1xuICAgICAgbGF5b3V0X2RhdGEub2Zmc2V0X3ggPVxuICAgICAgICB0aGlzLl9oc3BhY2UgKiBsYXlvdXRfZGF0YS5kaXJlY3Rpb24gK1xuICAgICAgICAocGQudmlldy53aWR0aCAqIChwZC5sYXlvdXQuZGlyZWN0aW9uICsgbGF5b3V0X2RhdGEuZGlyZWN0aW9uKSkgLyAyO1xuICAgICAgaWYgKCFub2RlLnBhcmVudC5pc3Jvb3QpIHtcbiAgICAgICAgbGF5b3V0X2RhdGEub2Zmc2V0X3ggKz0gdGhpcy5fcHNwYWNlICogbGF5b3V0X2RhdGEuZGlyZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICBiYXNlX3kgPSBiYXNlX3kgLSBub2RlX291dGVyX2hlaWdodCAtIHRoaXMuX3ZzcGFjZTtcbiAgICAgIHRvdGFsX2hlaWdodCArPSBub2RlX291dGVyX2hlaWdodDtcbiAgICB9XG4gICAgaWYgKG5vZGVzX2NvdW50ID4gMSkge1xuICAgICAgdG90YWxfaGVpZ2h0ICs9IHRoaXMuX3ZzcGFjZSAqIChub2Rlc19jb3VudCAtIDEpO1xuICAgIH1cbiAgICBpID0gbm9kZXNfY291bnQ7XG4gICAgY29uc3QgbWlkZGxlX2hlaWdodCA9IHRvdGFsX2hlaWdodCAvIDI7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgbm9kZS5fZGF0YS5sYXlvdXQub2Zmc2V0X3kgKz0gbWlkZGxlX2hlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsX2hlaWdodDtcbiAgfVxuXG4gIC8vIGxheW91dCB0aGUgeSBheGlzIG9ubHksIGZvciBjb2xsYXBzZS9leHBhbmQgYSBub2RlXG4gIF9sYXlvdXRfb2Zmc2V0X3N1Ym5vZGVzX2hlaWdodChub2RlczogTWluZE5vZGVbXSk6IG51bWJlciB7XG4gICAgbGV0IHRvdGFsX2hlaWdodCA9IDA7XG4gICAgY29uc3Qgbm9kZXNfY291bnQgPSBub2Rlcy5sZW5ndGg7XG4gICAgbGV0IGkgPSBub2Rlc19jb3VudDtcbiAgICBsZXQgbm9kZSA9IG51bGw7XG4gICAgbGV0IG5vZGVfb3V0ZXJfaGVpZ2h0ID0gMDtcbiAgICBsZXQgbGF5b3V0X2RhdGEgPSBudWxsO1xuICAgIGxldCBiYXNlX3kgPSAwO1xuICAgIGxldCBwZCA9IG51bGw7IC8vIHBhcmVudC5fZGF0YVxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGxheW91dF9kYXRhID0gbm9kZS5fZGF0YS5sYXlvdXQ7XG4gICAgICBpZiAocGQgPT0gbnVsbCkge1xuICAgICAgICBwZCA9IG5vZGUucGFyZW50Ll9kYXRhO1xuICAgICAgfVxuXG4gICAgICBub2RlX291dGVyX2hlaWdodCA9IHRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXNfaGVpZ2h0KG5vZGUuY2hpbGRyZW4pO1xuICAgICAgaWYgKCFub2RlLmV4cGFuZGVkKSB7XG4gICAgICAgIG5vZGVfb3V0ZXJfaGVpZ2h0ID0gMDtcbiAgICAgIH1cbiAgICAgIG5vZGVfb3V0ZXJfaGVpZ2h0ID0gTWF0aC5tYXgobm9kZS5fZGF0YS52aWV3LmhlaWdodCwgbm9kZV9vdXRlcl9oZWlnaHQpO1xuXG4gICAgICBsYXlvdXRfZGF0YS5vdXRlcl9oZWlnaHQgPSBub2RlX291dGVyX2hlaWdodDtcbiAgICAgIGxheW91dF9kYXRhLm9mZnNldF95ID0gYmFzZV95IC0gbm9kZV9vdXRlcl9oZWlnaHQgLyAyO1xuICAgICAgYmFzZV95ID0gYmFzZV95IC0gbm9kZV9vdXRlcl9oZWlnaHQgLSB0aGlzLl92c3BhY2U7XG4gICAgICB0b3RhbF9oZWlnaHQgKz0gbm9kZV9vdXRlcl9oZWlnaHQ7XG4gICAgfVxuICAgIGlmIChub2Rlc19jb3VudCA+IDEpIHtcbiAgICAgIHRvdGFsX2hlaWdodCArPSB0aGlzLl92c3BhY2UgKiAobm9kZXNfY291bnQgLSAxKTtcbiAgICB9XG4gICAgaSA9IG5vZGVzX2NvdW50O1xuICAgIGNvbnN0IG1pZGRsZV9oZWlnaHQgPSB0b3RhbF9oZWlnaHQgLyAyO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIG5vZGUuX2RhdGEubGF5b3V0Lm9mZnNldF95ICs9IG1pZGRsZV9oZWlnaHQ7XG4gICAgICAvL2NvbnNvbGUuZGVidWcobm9kZS50b3BpYyk7XG4gICAgICAvL2NvbnNvbGUuZGVidWcobm9kZS5fZGF0YS5sYXlvdXQub2Zmc2V0X3kpO1xuICAgIH1cbiAgICByZXR1cm4gdG90YWxfaGVpZ2h0O1xuICB9XG5cbiAgZ2V0X25vZGVfb2Zmc2V0KG5vZGU6IE1pbmROb2RlKTogUG9pbnQge1xuICAgIGNvbnN0IGxheW91dF9kYXRhID0gbm9kZS5fZGF0YS5sYXlvdXQ7XG4gICAgbGV0IG9mZnNldF9jYWNoZTtcbiAgICBpZiAoXCJfb2Zmc2V0X1wiIGluIGxheW91dF9kYXRhICYmIHRoaXMuY2FjaGVfdmFsaWQpIHtcbiAgICAgIG9mZnNldF9jYWNoZSA9IGxheW91dF9kYXRhLl9vZmZzZXRfO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmZzZXRfY2FjaGUgPSB7IHg6IC0xLCB5OiAtMSB9O1xuICAgICAgbGF5b3V0X2RhdGEuX29mZnNldF8gPSBvZmZzZXRfY2FjaGU7XG4gICAgfVxuICAgIGlmIChvZmZzZXRfY2FjaGUueCA9PSAtMSB8fCBvZmZzZXRfY2FjaGUueSA9PSAtMSkge1xuICAgICAgbGV0IHggPSBsYXlvdXRfZGF0YS5vZmZzZXRfeDtcbiAgICAgIGxldCB5ID0gbGF5b3V0X2RhdGEub2Zmc2V0X3k7XG4gICAgICBpZiAoIW5vZGUuaXNyb290KSB7XG4gICAgICAgIGNvbnN0IG9mZnNldF9wID0gdGhpcy5nZXRfbm9kZV9vZmZzZXQobm9kZS5wYXJlbnQpO1xuICAgICAgICB4ICs9IG9mZnNldF9wLng7XG4gICAgICAgIHkgKz0gb2Zmc2V0X3AueTtcbiAgICAgIH1cbiAgICAgIG9mZnNldF9jYWNoZS54ID0geDtcbiAgICAgIG9mZnNldF9jYWNoZS55ID0geTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldF9jYWNoZTtcbiAgfVxuXG4gIGdldF9ub2RlX3BvaW50KG5vZGU6IE1pbmROb2RlKTogUG9pbnQge1xuICAgIGNvbnN0IHZpZXdfZGF0YSA9IG5vZGUuX2RhdGEudmlldztcbiAgICBjb25zdCBvZmZzZXRfcCA9IHRoaXMuZ2V0X25vZGVfb2Zmc2V0KG5vZGUpO1xuICAgIC8vY29uc29sZS5kZWJ1ZyhvZmZzZXRfcCk7XG4gICAgY29uc3QgcDogUG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICBwLnggPVxuICAgICAgb2Zmc2V0X3AueCArICh2aWV3X2RhdGEud2lkdGggKiAobm9kZS5fZGF0YS5sYXlvdXQuZGlyZWN0aW9uIC0gMSkpIC8gMjtcbiAgICBwLnkgPSBvZmZzZXRfcC55IC0gdmlld19kYXRhLmhlaWdodCAvIDI7XG4gICAgLy9jb25zb2xlLmRlYnVnKHApO1xuICAgIHJldHVybiBwO1xuICB9XG5cbiAgZ2V0X25vZGVfcG9pbnRfaW4obm9kZTogTWluZE5vZGUpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICAgIHJldHVybiB0aGlzLmdldF9ub2RlX29mZnNldChub2RlKTtcbiAgfVxuXG4gIGdldF9ub2RlX3BvaW50X291dChub2RlOiBNaW5kTm9kZSk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgbGF5b3V0X2RhdGEgPSBub2RlLl9kYXRhLmxheW91dDtcbiAgICBsZXQgcG91dF9jYWNoZTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICAgIGlmIChcIl9wb3V0X1wiIGluIGxheW91dF9kYXRhICYmIHRoaXMuY2FjaGVfdmFsaWQpIHtcbiAgICAgIHBvdXRfY2FjaGUgPSBsYXlvdXRfZGF0YS5fcG91dF87XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvdXRfY2FjaGUgPSB7IHg6IC0xLCB5OiAtMSB9O1xuICAgICAgbGF5b3V0X2RhdGEuX3BvdXRfID0gcG91dF9jYWNoZTtcbiAgICB9XG4gICAgaWYgKHBvdXRfY2FjaGUueCA9PSAtMSB8fCBwb3V0X2NhY2hlLnkgPT0gLTEpIHtcbiAgICAgIGlmIChub2RlLmlzcm9vdCkge1xuICAgICAgICBwb3V0X2NhY2hlLnggPSAwO1xuICAgICAgICBwb3V0X2NhY2hlLnkgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgdmlld19kYXRhID0gbm9kZS5fZGF0YS52aWV3O1xuICAgICAgICBjb25zdCBvZmZzZXRfcCA9IHRoaXMuZ2V0X25vZGVfb2Zmc2V0KG5vZGUpO1xuICAgICAgICBwb3V0X2NhY2hlLnggPVxuICAgICAgICAgIG9mZnNldF9wLnggK1xuICAgICAgICAgICh2aWV3X2RhdGEud2lkdGggKyB0aGlzLl9wc3BhY2UpICogbm9kZS5fZGF0YS5sYXlvdXQuZGlyZWN0aW9uO1xuICAgICAgICBwb3V0X2NhY2hlLnkgPSBvZmZzZXRfcC55O1xuICAgICAgICAvL2NvbnNvbGUuZGVidWcoJ3BvdXQnKTtcbiAgICAgICAgLy9jb25zb2xlLmRlYnVnKHBvdXRfY2FjaGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG91dF9jYWNoZTtcbiAgfVxuXG4gIGdldF9leHBhbmRlcl9wb2ludChub2RlOiBNaW5kTm9kZSk6IFBvaW50IHtcbiAgICBjb25zdCBwID0gdGhpcy5nZXRfbm9kZV9wb2ludF9vdXQobm9kZSk7XG4gICAgY29uc3QgZXhfcDogUG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICBpZiAobm9kZS5fZGF0YS5sYXlvdXQuZGlyZWN0aW9uID09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgZXhfcC54ID0gcC54IC0gdGhpcy5fcHNwYWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBleF9wLnggPSBwLng7XG4gICAgfVxuICAgIGV4X3AueSA9IHAueSAtIE1hdGguY2VpbCh0aGlzLl9wc3BhY2UgLyAyKTtcbiAgICByZXR1cm4gZXhfcDtcbiAgfVxuXG4gIGdldF9taW5fc2l6ZSgpOiB7IHc6IG51bWJlcjsgaDogbnVtYmVyIH0ge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy5qbS5taW5kLm5vZGVzO1xuICAgIGZvciAoY29uc3Qgbm9kZWlkIGluIG5vZGVzKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbbm9kZWlkXTtcbiAgICAgIGNvbnN0IHBvdXQgPSB0aGlzLmdldF9ub2RlX3BvaW50X291dChub2RlKTtcbiAgICAgIGlmIChwb3V0LnggPiB0aGlzLmJvdW5kcy5lKSB7XG4gICAgICAgIHRoaXMuYm91bmRzLmUgPSBwb3V0Lng7XG4gICAgICB9XG4gICAgICBpZiAocG91dC54IDwgdGhpcy5ib3VuZHMudykge1xuICAgICAgICB0aGlzLmJvdW5kcy53ID0gcG91dC54O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdzogdGhpcy5ib3VuZHMuZSAtIHRoaXMuYm91bmRzLncsXG4gICAgICBoOiB0aGlzLmJvdW5kcy5zIC0gdGhpcy5ib3VuZHMubixcbiAgICB9O1xuICB9XG5cbiAgdG9nZ2xlX25vZGUobm9kZTogTWluZE5vZGUpOiB2b2lkIHtcbiAgICBpZiAobm9kZS5pc3Jvb3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUuZXhwYW5kZWQpIHtcbiAgICAgIHRoaXMuY29sbGFwc2Vfbm9kZShub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5leHBhbmRfbm9kZShub2RlKTtcbiAgICB9XG4gIH1cblxuICBleHBhbmRfbm9kZShub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIG5vZGUuZXhwYW5kZWQgPSB0cnVlO1xuICAgIHRoaXMucGFydF9sYXlvdXQobm9kZSk7XG4gICAgdGhpcy5zZXRfdmlzaWJsZShub2RlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICB0aGlzLmptLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLlNIT1csIHtcbiAgICAgIGV2dDogXCJleHBhbmRfbm9kZVwiLFxuICAgICAgZGF0YTogW10sXG4gICAgICBub2RlOiBub2RlLmlkLFxuICAgIH0pO1xuICB9XG5cbiAgY29sbGFwc2Vfbm9kZShub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIG5vZGUuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBhcnRfbGF5b3V0KG5vZGUpO1xuICAgIHRoaXMuc2V0X3Zpc2libGUobm9kZS5jaGlsZHJlbiwgZmFsc2UpO1xuICAgIHRoaXMuam0uaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuU0hPVywge1xuICAgICAgZXZ0OiBcImNvbGxhcHNlX25vZGVcIixcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgbm9kZTogbm9kZS5pZCxcbiAgICB9KTtcbiAgfVxuXG4gIGV4cGFuZF9hbGwoKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLmptLm1pbmQubm9kZXM7XG4gICAgbGV0IGMgPSAwO1xuICAgIGZvciAoY29uc3Qgbm9kZWlkIGluIG5vZGVzKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbbm9kZWlkXTtcbiAgICAgIGlmICghbm9kZS5leHBhbmRlZCkge1xuICAgICAgICBub2RlLmV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgYysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYyA+IDApIHtcbiAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmptLm1pbmQucm9vdDtcbiAgICAgIHRoaXMucGFydF9sYXlvdXQocm9vdCk7XG4gICAgICB0aGlzLnNldF92aXNpYmxlKHJvb3QuY2hpbGRyZW4sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxhcHNlX2FsbCgpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuam0ubWluZC5ub2RlcztcbiAgICBsZXQgYyA9IDA7XG4gICAgbGV0IG5vZGU7XG4gICAgZm9yIChjb25zdCBub2RlaWQgaW4gbm9kZXMpIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tub2RlaWRdO1xuICAgICAgaWYgKG5vZGUuZXhwYW5kZWQgJiYgIW5vZGUuaXNyb290KSB7XG4gICAgICAgIG5vZGUuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgYysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYyA+IDApIHtcbiAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmptLm1pbmQucm9vdDtcbiAgICAgIHRoaXMucGFydF9sYXlvdXQocm9vdCk7XG4gICAgICB0aGlzLnNldF92aXNpYmxlKHJvb3QuY2hpbGRyZW4sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGV4cGFuZF90b19kZXB0aChcbiAgICB0YXJnZXRfZGVwdGg6IG51bWJlcixcbiAgICBjdXJyX25vZGVzOiBNaW5kTm9kZVtdLFxuICAgIGN1cnJfZGVwdGg6IG51bWJlclxuICApOiB2b2lkIHtcbiAgICBpZiAodGFyZ2V0X2RlcHRoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub2RlcyA9IGN1cnJfbm9kZXMgfHwgdGhpcy5qbS5taW5kLnJvb3QuY2hpbGRyZW47XG4gICAgY29uc3QgZGVwdGggPSBjdXJyX2RlcHRoIHx8IDE7XG4gICAgbGV0IGkgPSBub2Rlcy5sZW5ndGg7XG4gICAgbGV0IG5vZGUgPSBudWxsO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGlmIChkZXB0aCA8IHRhcmdldF9kZXB0aCkge1xuICAgICAgICBpZiAoIW5vZGUuZXhwYW5kZWQpIHtcbiAgICAgICAgICB0aGlzLmV4cGFuZF9ub2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwYW5kX3RvX2RlcHRoKHRhcmdldF9kZXB0aCwgbm9kZS5jaGlsZHJlbiwgZGVwdGggKyAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZXB0aCA9PSB0YXJnZXRfZGVwdGgpIHtcbiAgICAgICAgaWYgKG5vZGUuZXhwYW5kZWQpIHtcbiAgICAgICAgICB0aGlzLmNvbGxhcHNlX25vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwYXJ0X2xheW91dChub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmptLm1pbmQucm9vdDtcbiAgICBpZiAocm9vdCkge1xuICAgICAgY29uc3Qgcm9vdF9sYXlvdXRfZGF0YSA9IHJvb3QuX2RhdGEubGF5b3V0O1xuICAgICAgaWYgKG5vZGUuaXNyb290KSB7XG4gICAgICAgIHJvb3RfbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X3JpZ2h0ID0gdGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQoXG4gICAgICAgICAgcm9vdF9sYXlvdXRfZGF0YS5yaWdodF9ub2Rlc1xuICAgICAgICApO1xuICAgICAgICByb290X2xheW91dF9kYXRhLm91dGVyX2hlaWdodF9sZWZ0ID0gdGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQoXG4gICAgICAgICAgcm9vdF9sYXlvdXRfZGF0YS5sZWZ0X25vZGVzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5fZGF0YS5sYXlvdXQuZGlyZWN0aW9uID09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgICAgIHJvb3RfbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X3JpZ2h0ID0gdGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQoXG4gICAgICAgICAgICByb290X2xheW91dF9kYXRhLnJpZ2h0X25vZGVzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb290X2xheW91dF9kYXRhLm91dGVyX2hlaWdodF9sZWZ0ID0gdGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQoXG4gICAgICAgICAgICByb290X2xheW91dF9kYXRhLmxlZnRfbm9kZXNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmJvdW5kcy5zID0gTWF0aC5tYXgoXG4gICAgICAgIHJvb3RfbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X2xlZnQsXG4gICAgICAgIHJvb3RfbGF5b3V0X2RhdGEub3V0ZXJfaGVpZ2h0X3JpZ2h0XG4gICAgICApO1xuICAgICAgdGhpcy5jYWNoZV92YWxpZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJjYW4gbm90IGZvdW5kIHJvb3Qgbm9kZVwiKTtcbiAgICB9XG4gIH1cblxuICBzZXRfdmlzaWJsZShub2RlczogTWluZE5vZGVbXSwgdmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCBpID0gbm9kZXMubGVuZ3RoO1xuICAgIGxldCBub2RlID0gbnVsbDtcbiAgICBsZXQgbGF5b3V0X2RhdGEgPSBudWxsO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGxheW91dF9kYXRhID0gbm9kZS5fZGF0YS5sYXlvdXQ7XG4gICAgICBpZiAobm9kZS5leHBhbmRlZCkge1xuICAgICAgICB0aGlzLnNldF92aXNpYmxlKG5vZGUuY2hpbGRyZW4sIHZpc2libGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRfdmlzaWJsZShub2RlLmNoaWxkcmVuLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoIW5vZGUuaXNyb290KSB7XG4gICAgICAgIG5vZGUuX2RhdGEubGF5b3V0LnZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlzX3Zpc2libGUobm9kZTogTWluZE5vZGUpOiBib29sZWFuIHtcbiAgICBjb25zdCBsYXlvdXRfZGF0YSA9IG5vZGUuX2RhdGEubGF5b3V0O1xuICAgIHJldHVybiAhKFwidmlzaWJsZVwiIGluIGxheW91dF9kYXRhICYmICFsYXlvdXRfZGF0YS52aXNpYmxlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGhDYW52YXMge1xuICBwcml2YXRlIG9wdHM6IHsgbGluZV9jb2xvcjogYW55OyBsaW5lX3dpZHRoOiBudW1iZXIgfTtcbiAgcHJpdmF0ZSByZWFkb25seSBlX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzX2N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIHNpemU6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfTtcblxuICBjb25zdHJ1Y3Rvcih2aWV3OiBhbnkpIHtcbiAgICB0aGlzLm9wdHMgPSB2aWV3Lm9wdHM7XG4gICAgdGhpcy5lX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5lX2NhbnZhcy5jbGFzc05hbWUgPSBcImpzbWluZFwiO1xuICAgIHRoaXMuY2FudmFzX2N0eCA9IHRoaXMuZV9jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuc2l6ZSA9IHsgdzogMCwgaDogMCB9O1xuICB9XG5cbiAgZWxlbWVudCgpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuZV9jYW52YXM7XG4gIH1cblxuICBzZXRfc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2l6ZS53ID0gdztcbiAgICB0aGlzLnNpemUuaCA9IGg7XG4gICAgdGhpcy5lX2NhbnZhcy53aWR0aCA9IHc7XG4gICAgdGhpcy5lX2NhbnZhcy5oZWlnaHQgPSBoO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXNfY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnNpemUudywgdGhpcy5zaXplLmgpO1xuICB9XG5cbiAgZHJhd19saW5lKFxuICAgIHBvdXQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgICBwaW46IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgICBvZmZzZXQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNhbnZhc19jdHg7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5vcHRzLmxpbmVfY29sb3I7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3B0cy5saW5lX3dpZHRoO1xuICAgIGN0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuXG4gICAgdGhpcy5fYmV6aWVyX3RvKFxuICAgICAgY3R4LFxuICAgICAgcGluLnggKyBvZmZzZXQueCxcbiAgICAgIHBpbi55ICsgb2Zmc2V0LnksXG4gICAgICBwb3V0LnggKyBvZmZzZXQueCxcbiAgICAgIHBvdXQueSArIG9mZnNldC55XG4gICAgKTtcbiAgfVxuXG4gIF9iZXppZXJfdG8oXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgeDE6IG51bWJlcixcbiAgICB5MTogbnVtYmVyLFxuICAgIHgyOiBudW1iZXIsXG4gICAgeTI6IG51bWJlclxuICApOiB2b2lkIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyh4MSwgeTEpO1xuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHgxICsgKCh4MiAtIHgxKSAqIDIpIC8gMywgeTEsIHgxLCB5MiwgeDIsIHkyKTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbn1cbiIsIi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblxuZXhwb3J0IGNvbnN0IGVudW0gRGlyZWN0aW9uIHtcbiAgTEVGVCA9IC0xLFxuICBDRU5URVIgPSAwLFxuICBSSUdIVCA9IDEsXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEV2ZW50VHlwZSB7XG4gIFNIT1cgPSAxLFxuICBSRVNJWkUgPSAyLFxuICBBRlRFUl9FRElUID0gMyxcbiAgU0VMRUNUID0gNCxcbiAgQkVGT1JFX0VESVQgPSA1LFxufVxuXG5leHBvcnQgY29uc3QgS0VZQ09ERV9FTlRFUiA9IDEzO1xuIiwiLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcCxKU1VudXNlZEdsb2JhbFN5bWJvbHMsSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cbmltcG9ydCBHcmFwaENhbnZhcyBmcm9tIFwiLi9HcmFwaENhbnZhc1wiO1xuaW1wb3J0IE1pbmROb2RlIGZyb20gXCIuL01pbmROb2RlXCI7XG5pbXBvcnQgeyBFdmVudFR5cGUsIEtFWUNPREVfRU5URVIgfSBmcm9tIFwiLi9NaW5kbWFwQ29uc3RhbnRzXCI7XG5pbXBvcnQgSnNNaW5kIGZyb20gXCIuL0pzTWluZFwiO1xuaW1wb3J0IExheW91dFByb3ZpZGVyIGZyb20gXCIuL0xheW91dFByb3ZpZGVyXCI7XG5cbmNvbnN0ICRoID0gZnVuY3Rpb24gKG46IGFueSwgdDogYW55KSB7XG4gIC8vIFRPRE8gaW5saW5pbmcgdGhpc1xuICBpZiAodCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgbi5pbm5lckhUTUwgPSBcIlwiO1xuICAgIG4uYXBwZW5kQ2hpbGQodCk7XG4gIH0gZWxzZSB7XG4gICAgbi5pbm5lckhUTUwgPSB0O1xuICB9XG59O1xuXG4vLyBkZXRlY3QgaXNFbGVtZW5kXG4vLyBUT0RPIHJlbW92ZSB0aGlzLlxuZnVuY3Rpb24gaXNFbGVtZW50KGVsOiBIVE1MRWxlbWVudCkge1xuICByZXR1cm4gKFxuICAgICEhZWwgJiZcbiAgICB0eXBlb2YgZWwgPT09IFwib2JqZWN0XCIgJiZcbiAgICBlbC5ub2RlVHlwZSA9PT0gMSAmJlxuICAgIHR5cGVvZiBlbC5zdHlsZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBlbC5vd25lckRvY3VtZW50ID09PSBcIm9iamVjdFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzX2VtcHR5KHM6IHN0cmluZykge1xuICAvLyBUT0RPIGlubGluaW5nP1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcy5yZXBsYWNlKC9cXHMqLywgXCJcIikubGVuZ3RoID09IDA7XG59XG5cbi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdQcm92aWRlciB7XG4gIHByaXZhdGUgb3B0czogYW55O1xuICBwcml2YXRlIGptOiBKc01pbmQ7XG4gIHByaXZhdGUgbGF5b3V0OiBMYXlvdXRQcm92aWRlcjtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgZV9wYW5lbDogYW55O1xuICBlX25vZGVzOiBhbnk7XG4gIHNpemU6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfTtcbiAgcHJpdmF0ZSBzZWxlY3RlZF9ub2RlOiBhbnk7XG4gIHByaXZhdGUgZWRpdGluZ19ub2RlOiBhbnk7XG4gIHByaXZhdGUgZ3JhcGg6IGFueTtcbiAgcHJpdmF0ZSBlX2VkaXRvcjogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgcHJpdmF0ZSBhY3R1YWxab29tOiBudW1iZXI7XG4gIHByaXZhdGUgem9vbVN0ZXA6IG51bWJlcjtcbiAgcHJpdmF0ZSBtaW5ab29tOiBudW1iZXI7XG4gIHByaXZhdGUgbWF4Wm9vbTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGptOiBKc01pbmQsIG9wdGlvbnM6IGFueSkge1xuICAgIHRoaXMub3B0cyA9IG9wdGlvbnM7XG4gICAgdGhpcy5qbSA9IGptO1xuICAgIHRoaXMubGF5b3V0ID0gam0ubGF5b3V0O1xuXG4gICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgIHRoaXMuZV9wYW5lbCA9IG51bGw7XG4gICAgdGhpcy5lX25vZGVzID0gbnVsbDtcblxuICAgIHRoaXMuc2l6ZSA9IHsgdzogMCwgaDogMCB9O1xuXG4gICAgdGhpcy5zZWxlY3RlZF9ub2RlID0gbnVsbDtcbiAgICB0aGlzLmVkaXRpbmdfbm9kZSA9IG51bGw7XG5cbiAgICB0aGlzLmdyYXBoID0gbnVsbDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhcInZpZXcuaW5pdFwiKTtcblxuICAgIHRoaXMuY29udGFpbmVyID0gaXNFbGVtZW50KHRoaXMub3B0cy5jb250YWluZXIpXG4gICAgICA/IHRoaXMub3B0cy5jb250YWluZXJcbiAgICAgIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRzLmNvbnRhaW5lcik7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgY29uc29sZS5lcnJvcihcInRoZSBvcHRpb25zLnZpZXcuY29udGFpbmVyIHdhcyBub3QgYmUgZm91bmQgaW4gZG9tXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVfcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZV9ub2RlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJqbW5vZGVzXCIpO1xuICAgIHRoaXMuZV9lZGl0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG5cbiAgICB0aGlzLmdyYXBoID0gbmV3IEdyYXBoQ2FudmFzKHRoaXMpO1xuXG4gICAgdGhpcy5lX3BhbmVsLmNsYXNzTmFtZSA9IFwianNtaW5kLWlubmVyXCI7XG4gICAgdGhpcy5lX3BhbmVsLmFwcGVuZENoaWxkKHRoaXMuZ3JhcGguZWxlbWVudCgpKTtcbiAgICB0aGlzLmVfcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5lX25vZGVzKTtcblxuICAgIHRoaXMuZV9lZGl0b3IuY2xhc3NOYW1lID0gXCJqc21pbmQtZWRpdG9yXCI7XG5cbiAgICB0aGlzLmFjdHVhbFpvb20gPSAxO1xuICAgIHRoaXMuem9vbVN0ZXAgPSAwLjE7XG4gICAgdGhpcy5taW5ab29tID0gMC41O1xuICAgIHRoaXMubWF4Wm9vbSA9IDI7XG5cbiAgICBjb25zdCB2ID0gdGhpczsgLy8gVE9ETyByZW1vdmUgdGhpcy5cbiAgICB0aGlzLmVfZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAvLyBodHRwczovL3FpaXRhLmNvbS9sZWRzdW4vaXRlbXMvMzFlNDNhOTc0MTNkZDNjOGUzOGVcbiAgICAgIC8vIGtleUNvZGUgaXMgZGVwcmVjYXRlZCBmaWVsZC4gQnV0IGl0J3MgYSBoYWNrIGZvciBKYXBhbmVzZSBJTUUuXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFX0VOVEVSICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgIHYuZWRpdF9ub2RlX2VuZCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZV9lZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IHtcbiAgICAgIC8vIGFkanVzdCBzaXplIGR5bmFtaWNhbGx5LlxuICAgICAgdGhpcy5hZGp1c3RFZGl0b3JFbGVtZW50U2l6ZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuZV9lZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xuICAgICAgLy8gd2hlbiB0aGUgZWxlbWVudCBsb3N0IGZvY3VzLlxuICAgICAgLy8gVE9ETyByZXZlcnQgdGhpc+KGk1xuICAgICAgdi5lZGl0X25vZGVfZW5kKCk7XG4gICAgfSk7XG4gICAgdGhpcy5lX2VkaXRvci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwidGV4dGFyZWEub25pbnB1dFwiKTtcbiAgICAgIHRoaXMuYWRqdXN0RWRpdG9yRWxlbWVudFNpemUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZV9wYW5lbCk7XG4gIH1cblxuICBhZGp1c3RFZGl0b3JFbGVtZW50U2l6ZSgpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuZV9lZGl0b3I7XG4gICAgZWwuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgIGVsLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgZWwuc3R5bGUud2lkdGggPSBlbC5zY3JvbGxXaWR0aCArIFwicHhcIjtcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSBlbC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgdGhpcy5lZGl0aW5nX25vZGUuX2RhdGEudmlldy53aWR0aCA9IHRoaXMuZV9lZGl0b3IuY2xpZW50V2lkdGg7XG4gICAgdGhpcy5lZGl0aW5nX25vZGUuX2RhdGEudmlldy5oZWlnaHQgPSB0aGlzLmVfZWRpdG9yLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICB0aGlzLnNob3coZmFsc2UpO1xuICB9XG5cbiAgc2V0VGV4dFRvRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCwgdG9waWM6IHN0cmluZykge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gVmlld1Byb3ZpZGVyLmVzY2FwZUhUTUwodG9waWMpLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIik7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlc2NhcGVIVE1MKHNyYzogc3RyaW5nKSB7XG4gICAgY29uc3QgcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3JjKTtcbiAgICBwcmUuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgcmV0dXJuIHByZS5pbm5lckhUTUw7XG4gIH1cblxuICBhZGRfZXZlbnQob2JqOiBhbnksIGV2ZW50X25hbWU6IHN0cmluZywgZXZlbnRfaGFuZGxlOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lX25vZGVzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgZnVuY3Rpb24gKGU6IEV2ZW50KSB7XG4gICAgICBldmVudF9oYW5kbGUuY2FsbChvYmosIGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0X2JpbmRlZF9ub2RlaWQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0YWdOYW1lID09PSBcImptbm9kZXNcIiB8fCB0YWdOYW1lID09PSBcImJvZHlcIiB8fCB0YWdOYW1lID09PSBcImh0bWxcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0YWdOYW1lID09PSBcImptbm9kZVwiIHx8IHRhZ05hbWUgPT09IFwiam1leHBhbmRlclwiKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJub2RlaWRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldF9iaW5kZWRfbm9kZWlkKGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgaXNfZXhwYW5kZXIoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiam1leHBhbmRlclwiO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhcInZpZXcucmVzZXRcIik7XG4gICAgdGhpcy5zZWxlY3RlZF9ub2RlID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyX2xpbmVzKCk7XG4gICAgdGhpcy5jbGVhcl9ub2RlcygpO1xuICAgIHRoaXMucmVzZXRfdGhlbWUoKTtcbiAgfVxuXG4gIHJlc2V0X3RoZW1lKCk6IHZvaWQge1xuICAgIGNvbnN0IHRoZW1lX25hbWUgPSB0aGlzLmptLm9wdGlvbnMudGhlbWU7XG4gICAgaWYgKHRoZW1lX25hbWUpIHtcbiAgICAgIHRoaXMuZV9ub2Rlcy5jbGFzc05hbWUgPSBcInRoZW1lLVwiICsgdGhlbWVfbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lX25vZGVzLmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRfY3VzdG9tX3N0eWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy5qbS5taW5kLm5vZGVzO1xuICAgIGZvciAoY29uc3Qgbm9kZWlkIGluIG5vZGVzKSB7XG4gICAgICB0aGlzLnJlc2V0X25vZGVfY3VzdG9tX3N0eWxlKG5vZGVzW25vZGVpZF0pO1xuICAgIH1cbiAgfVxuXG4gIGxvYWQoKTogdm9pZCB7XG4gICAgY29uc29sZS5kZWJ1ZyhcInZpZXcubG9hZFwiKTtcbiAgICB0aGlzLmluaXRfbm9kZXMoKTtcbiAgfVxuXG4gIGV4cGFuZF9zaXplKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pbl9zaXplID0gdGhpcy5sYXlvdXQuZ2V0X21pbl9zaXplKCk7XG4gICAgY29uc3QgbWluX3dpZHRoID0gbWluX3NpemUudyArIHRoaXMub3B0cy5obWFyZ2luICogMjtcbiAgICBjb25zdCBtaW5faGVpZ2h0ID0gbWluX3NpemUuaCArIHRoaXMub3B0cy52bWFyZ2luICogMjtcbiAgICBsZXQgY2xpZW50X3cgPSB0aGlzLmVfcGFuZWwuY2xpZW50V2lkdGg7XG4gICAgbGV0IGNsaWVudF9oID0gdGhpcy5lX3BhbmVsLmNsaWVudEhlaWdodDtcbiAgICBpZiAoY2xpZW50X3cgPCBtaW5fd2lkdGgpIHtcbiAgICAgIGNsaWVudF93ID0gbWluX3dpZHRoO1xuICAgIH1cbiAgICBpZiAoY2xpZW50X2ggPCBtaW5faGVpZ2h0KSB7XG4gICAgICBjbGllbnRfaCA9IG1pbl9oZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuc2l6ZS53ID0gY2xpZW50X3c7XG4gICAgdGhpcy5zaXplLmggPSBjbGllbnRfaDtcbiAgfVxuXG4gIGluaXRfbm9kZXNfc2l6ZShub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXdfZGF0YSA9IG5vZGUuX2RhdGEudmlldztcbiAgICB2aWV3X2RhdGEud2lkdGggPSB2aWV3X2RhdGEuZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB2aWV3X2RhdGEuaGVpZ2h0ID0gdmlld19kYXRhLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgaW5pdF9ub2RlcygpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuam0ubWluZC5ub2RlcztcbiAgICBjb25zdCBkb2NfZnJhZzogRG9jdW1lbnRGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBmb3IgKGNvbnN0IG5vZGVpZCBpbiBub2Rlcykge1xuICAgICAgdGhpcy5jcmVhdGVfbm9kZV9lbGVtZW50KG5vZGVzW25vZGVpZF0sIGRvY19mcmFnKTtcbiAgICB9XG4gICAgdGhpcy5lX25vZGVzLmFwcGVuZENoaWxkKGRvY19mcmFnKTtcbiAgICBmb3IgKGNvbnN0IG5vZGVpZCBpbiBub2Rlcykge1xuICAgICAgdGhpcy5pbml0X25vZGVzX3NpemUobm9kZXNbbm9kZWlkXSk7XG4gICAgfVxuICB9XG5cbiAgYWRkX25vZGUobm9kZTogTWluZE5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLmNyZWF0ZV9ub2RlX2VsZW1lbnQobm9kZSwgdGhpcy5lX25vZGVzKTtcbiAgICB0aGlzLmluaXRfbm9kZXNfc2l6ZShub2RlKTtcbiAgfVxuXG4gIGNyZWF0ZV9ub2RlX2VsZW1lbnQobm9kZTogTWluZE5vZGUsIHBhcmVudF9ub2RlOiBEb2N1bWVudEZyYWdtZW50KTogdm9pZCB7XG4gICAgbGV0IHZpZXdfZGF0YSA9IG5vZGUuX2RhdGEudmlldztcblxuICAgIGNvbnN0IGQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImptbm9kZVwiKTtcbiAgICBpZiAobm9kZS5pc3Jvb3QpIHtcbiAgICAgIGQuY2xhc3NOYW1lID0gXCJyb290XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRfZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiam1leHBhbmRlclwiKTtcbiAgICAgIHRoaXMuc2V0VGV4dFRvRWxlbWVudChkX2UsIFwiLVwiKTtcbiAgICAgIGRfZS5zZXRBdHRyaWJ1dGUoXCJub2RlaWRcIiwgbm9kZS5pZCk7XG4gICAgICBkX2Uuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICBwYXJlbnRfbm9kZS5hcHBlbmRDaGlsZChkX2UpO1xuICAgICAgdmlld19kYXRhLmV4cGFuZGVyID0gZF9lO1xuICAgIH1cbiAgICBpZiAobm9kZS50b3BpYykge1xuICAgICAgaWYgKHRoaXMub3B0cy5zdXBwb3J0X2h0bWwpIHtcbiAgICAgICAgJGgoZCwgbm9kZS50b3BpYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFRleHRUb0VsZW1lbnQoZCwgbm9kZS50b3BpYyk7XG4gICAgICB9XG4gICAgfVxuICAgIGQuc2V0QXR0cmlidXRlKFwibm9kZWlkXCIsIG5vZGUuaWQpO1xuICAgIGQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgdGhpcy5fcmVzZXRfbm9kZV9jdXN0b21fc3R5bGUoZCwgbm9kZS5kYXRhKTtcblxuICAgIHBhcmVudF9ub2RlLmFwcGVuZENoaWxkKGQpO1xuICAgIHZpZXdfZGF0YS5lbGVtZW50ID0gZDtcbiAgfVxuXG4gIHJlbW92ZV9ub2RlKG5vZGU6IE1pbmROb2RlKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRfbm9kZSAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRfbm9kZS5pZCA9PSBub2RlLmlkKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkX25vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5lZGl0aW5nX25vZGUgIT0gbnVsbCAmJiB0aGlzLmVkaXRpbmdfbm9kZS5pZCA9PSBub2RlLmlkKSB7XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVfZWRpdG9yKTtcbiAgICAgIHRoaXMuZWRpdGluZ19ub2RlID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuO1xuICAgIGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMucmVtb3ZlX25vZGUoY2hpbGRyZW5baV0pO1xuICAgIH1cbiAgICBpZiAobm9kZS5fZGF0YS52aWV3KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gbm9kZS5fZGF0YS52aWV3LmVsZW1lbnQ7XG4gICAgICBjb25zdCBleHBhbmRlciA9IG5vZGUuX2RhdGEudmlldy5leHBhbmRlcjtcbiAgICAgIHRoaXMuZV9ub2Rlcy5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgIHRoaXMuZV9ub2Rlcy5yZW1vdmVDaGlsZChleHBhbmRlcik7XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZWxlbWVudCA9IG51bGw7XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZXhwYW5kZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZV9ub2RlKG5vZGU6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld19kYXRhID0gbm9kZS5fZGF0YS52aWV3O1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3X2RhdGEuZWxlbWVudDtcbiAgICBpZiAobm9kZS50b3BpYykge1xuICAgICAgaWYgKHRoaXMub3B0cy5zdXBwb3J0X2h0bWwpIHtcbiAgICAgICAgJGgoZWxlbWVudCwgbm9kZS50b3BpYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFRleHRUb0VsZW1lbnQoZWxlbWVudCwgbm9kZS50b3BpYyk7XG4gICAgICB9XG4gICAgfVxuICAgIHZpZXdfZGF0YS53aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgdmlld19kYXRhLmhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgc2VsZWN0X25vZGUobm9kZTogTWluZE5vZGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZF9ub2RlKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkX25vZGUuX2RhdGEudmlldy5lbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuc2VsZWN0ZWRfbm9kZS5fZGF0YS52aWV3LmVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgIC9cXHMqc2VsZWN0ZWRcXGIvaSxcbiAgICAgICAgXCJcIlxuICAgICAgKTtcbiAgICAgIHRoaXMucmVzZXRfbm9kZV9jdXN0b21fc3R5bGUodGhpcy5zZWxlY3RlZF9ub2RlKTtcbiAgICB9XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRfbm9kZSA9IG5vZGU7XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZWxlbWVudC5jbGFzc05hbWUgKz0gXCIgc2VsZWN0ZWRcIjtcbiAgICAgIHRoaXMuY2xlYXJfbm9kZV9jdXN0b21fc3R5bGUobm9kZSk7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0X2NsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0X25vZGUobnVsbCk7XG4gIH1cblxuICBpc19lZGl0aW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuZWRpdGluZ19ub2RlO1xuICB9XG5cbiAgY2FsY0VkaXRpbmdOb2RlV2lkdGgodG9waWM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udG9waWMuc3BsaXQoL1xcbi8pLm1hcCgoaXQpID0+IGl0Lmxlbmd0aCkpO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKE1hdGgubWF4KG1heCAqIDIgKyAyLCAxNSkpO1xuICAgIHJldHVybiB3aWR0aCArIFwiY2hcIjtcbiAgfVxuXG4gIGVkaXRfbm9kZV9iZWdpbihub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIGlmICghbm9kZS50b3BpYykge1xuICAgICAgY29uc29sZS53YXJuKFwiZG9uJ3QgZWRpdCBpbWFnZSBub2Rlc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWRpdGluZ19ub2RlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZWRpdF9ub2RlX2VuZCgpO1xuICAgIH1cbiAgICB0aGlzLmVkaXRpbmdfbm9kZSA9IG5vZGU7XG4gICAgY29uc3Qgdmlld19kYXRhID0gbm9kZS5fZGF0YS52aWV3O1xuICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdmlld19kYXRhLmVsZW1lbnQ7XG4gICAgY29uc3QgdG9waWMgPSBub2RlLnRvcGljO1xuICAgIHRoaXMuZV9lZGl0b3IudmFsdWUgPSB0b3BpYztcbiAgICB0aGlzLmVfZWRpdG9yLnN0eWxlLndpZHRoID0gXCIzODBweFwiO1xuICAgIHRoaXMuZV9lZGl0b3Iuc3R5bGUuaGVpZ2h0ID0gdG9waWMuc3BsaXQoL1xcbi8pLmxlbmd0aCArIFwiZW1cIjtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVfZWRpdG9yKTtcbiAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiNVwiO1xuICAgIHRoaXMuZV9lZGl0b3IuZm9jdXMoKTtcbiAgICB0aGlzLmVfZWRpdG9yLnNlbGVjdCgpO1xuXG4gICAgc2V0VGltZW91dCh0aGlzLmFkanVzdEVkaXRvckVsZW1lbnRTaXplLmJpbmQodGhpcyksIDApO1xuICB9XG5cbiAgZWRpdF9ub2RlX2VuZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5lZGl0aW5nX25vZGUgIT0gbnVsbCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZWRpdGluZ19ub2RlO1xuICAgICAgdGhpcy5lZGl0aW5nX25vZGUgPSBudWxsO1xuICAgICAgY29uc3Qgdmlld19kYXRhID0gbm9kZS5fZGF0YS52aWV3O1xuICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXdfZGF0YS5lbGVtZW50O1xuICAgICAgY29uc3QgdG9waWMgPSB0aGlzLmVfZWRpdG9yLnZhbHVlO1xuICAgICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBcImF1dG9cIjtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lX2VkaXRvcik7XG4gICAgICBpZiAoaXNfZW1wdHkodG9waWMpIHx8IG5vZGUudG9waWMgPT09IHRvcGljKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuc3VwcG9ydF9odG1sKSB7XG4gICAgICAgICAgJGgoZWxlbWVudCwgbm9kZS50b3BpYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRUZXh0VG9FbGVtZW50KGVsZW1lbnQsIG5vZGUudG9waWMpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHZpZXdfZGF0YS53aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgdmlld19kYXRhLmhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgIHRoaXMubGF5b3V0LmxheW91dCgpO1xuICAgICAgICAgIHRoaXMuc2hvdyhmYWxzZSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5qbS51cGRhdGVfbm9kZShub2RlLmlkLCB0b3BpYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0X3ZpZXdfb2Zmc2V0KCk6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5sYXlvdXQuYm91bmRzO1xuICAgIGNvbnN0IF94ID0gKHRoaXMuc2l6ZS53IC0gYm91bmRzLmUgLSBib3VuZHMudykgLyAyO1xuICAgIGNvbnN0IF95ID0gdGhpcy5zaXplLmggLyAyO1xuICAgIHJldHVybiB7IHg6IF94LCB5OiBfeSB9O1xuICB9XG5cbiAgcmVzaXplKCk6IHZvaWQge1xuICAgIHRoaXMuZ3JhcGguc2V0X3NpemUoMSwgMSk7XG4gICAgdGhpcy5lX25vZGVzLnN0eWxlLndpZHRoID0gXCIxcHhcIjtcbiAgICB0aGlzLmVfbm9kZXMuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcblxuICAgIHRoaXMuZXhwYW5kX3NpemUoKTtcbiAgICB0aGlzLl9zaG93KCk7XG4gIH1cblxuICBfc2hvdygpOiB2b2lkIHtcbiAgICB0aGlzLmdyYXBoLnNldF9zaXplKHRoaXMuc2l6ZS53LCB0aGlzLnNpemUuaCk7XG4gICAgdGhpcy5lX25vZGVzLnN0eWxlLndpZHRoID0gdGhpcy5zaXplLncgKyBcInB4XCI7XG4gICAgdGhpcy5lX25vZGVzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2l6ZS5oICsgXCJweFwiO1xuICAgIHRoaXMuc2hvd19ub2RlcygpO1xuICAgIHRoaXMuc2hvd19saW5lcygpO1xuICAgIC8vdGhpcy5sYXlvdXQuY2FjaGVfdmFsaWQgPSB0cnVlO1xuICAgIHRoaXMuam0uaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuUkVTSVpFLCB7IGRhdGE6IFtdIH0pO1xuICAgIHRoaXMuam0uZHJhZ2dhYmxlLnJlc2l6ZSgpO1xuICB9XG5cbiAgem9vbUluKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNldFpvb20odGhpcy5hY3R1YWxab29tICsgdGhpcy56b29tU3RlcCk7XG4gIH1cblxuICB6b29tT3V0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNldFpvb20odGhpcy5hY3R1YWxab29tIC0gdGhpcy56b29tU3RlcCk7XG4gIH1cblxuICBzZXRab29tKHpvb206IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICh6b29tIDwgdGhpcy5taW5ab29tIHx8IHpvb20gPiB0aGlzLm1heFpvb20pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5hY3R1YWxab29tID0gem9vbTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZV9wYW5lbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lX3BhbmVsLmNoaWxkcmVuW2ldLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoXCIgKyB6b29tICsgXCIpXCI7XG4gICAgfVxuICAgIHRoaXMuc2hvdyh0cnVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9jZW50ZXJfcm9vdCgpOiB2b2lkIHtcbiAgICAvLyBjZW50ZXIgcm9vdCBub2RlXG4gICAgY29uc3Qgb3V0ZXJfdyA9IHRoaXMuZV9wYW5lbC5jbGllbnRXaWR0aDtcbiAgICBjb25zdCBvdXRlcl9oID0gdGhpcy5lX3BhbmVsLmNsaWVudEhlaWdodDtcbiAgICBpZiAodGhpcy5zaXplLncgPiBvdXRlcl93KSB7XG4gICAgICBjb25zdCBfb2Zmc2V0ID0gdGhpcy5nZXRfdmlld19vZmZzZXQoKTtcbiAgICAgIHRoaXMuZV9wYW5lbC5zY3JvbGxMZWZ0ID0gX29mZnNldC54IC0gb3V0ZXJfdyAvIDI7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpemUuaCA+IG91dGVyX2gpIHtcbiAgICAgIHRoaXMuZV9wYW5lbC5zY3JvbGxUb3AgPSAodGhpcy5zaXplLmggLSBvdXRlcl9oKSAvIDI7XG4gICAgfVxuICB9XG5cbiAgc2hvdyhrZWVwX2NlbnRlcjogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnNvbGUuZGVidWcoXCJ2aWV3LnNob3dcIik7XG4gICAgdGhpcy5leHBhbmRfc2l6ZSgpO1xuICAgIHRoaXMuX3Nob3coKTtcbiAgICBpZiAoa2VlcF9jZW50ZXIpIHtcbiAgICAgIHRoaXMuX2NlbnRlcl9yb290KCk7XG4gICAgfVxuICB9XG5cbiAgcmVsYXlvdXQoKTogdm9pZCB7XG4gICAgdGhpcy5leHBhbmRfc2l6ZSgpO1xuICAgIHRoaXMuX3Nob3coKTtcbiAgfVxuXG4gIHNhdmVfbG9jYXRpb24obm9kZTogTWluZE5vZGUpOiB2b2lkIHtcbiAgICBjb25zdCB2ZCA9IG5vZGUuX2RhdGEudmlldztcbiAgICB2ZC5fc2F2ZWRfbG9jYXRpb24gPSB7XG4gICAgICB4OiBwYXJzZUludCh2ZC5lbGVtZW50LnN0eWxlLmxlZnQpIC0gdGhpcy5lX3BhbmVsLnNjcm9sbExlZnQsXG4gICAgICB5OiBwYXJzZUludCh2ZC5lbGVtZW50LnN0eWxlLnRvcCkgLSB0aGlzLmVfcGFuZWwuc2Nyb2xsVG9wLFxuICAgIH07XG4gIH1cblxuICByZXN0b3JlX2xvY2F0aW9uKG5vZGU6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgY29uc3QgdmQgPSBub2RlLl9kYXRhLnZpZXc7XG4gICAgdGhpcy5lX3BhbmVsLnNjcm9sbExlZnQgPVxuICAgICAgcGFyc2VJbnQodmQuZWxlbWVudC5zdHlsZS5sZWZ0KSAtIHZkLl9zYXZlZF9sb2NhdGlvbi54O1xuICAgIHRoaXMuZV9wYW5lbC5zY3JvbGxUb3AgPVxuICAgICAgcGFyc2VJbnQodmQuZWxlbWVudC5zdHlsZS50b3ApIC0gdmQuX3NhdmVkX2xvY2F0aW9uLnk7XG4gIH1cblxuICBjbGVhcl9ub2RlcygpOiB2b2lkIHtcbiAgICBjb25zdCBtaW5kID0gdGhpcy5qbS5taW5kO1xuICAgIGlmIChtaW5kID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgbm9kZXMgPSBtaW5kLm5vZGVzO1xuICAgIGxldCBub2RlID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IG5vZGVpZCBpbiBub2Rlcykge1xuICAgICAgbm9kZSA9IG5vZGVzW25vZGVpZF07XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZWxlbWVudCA9IG51bGw7XG4gICAgICBub2RlLl9kYXRhLnZpZXcuZXhwYW5kZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmVfbm9kZXMuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxuXG4gIHNob3dfbm9kZXMoKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLmptLm1pbmQubm9kZXM7XG4gICAgbGV0IG5vZGUgPSBudWxsO1xuICAgIGxldCBub2RlX2VsZW1lbnQgPSBudWxsO1xuICAgIGxldCBleHBhbmRlciA9IG51bGw7XG4gICAgbGV0IHBfZXhwYW5kZXIgPSBudWxsO1xuICAgIGxldCBleHBhbmRlcl90ZXh0ID0gXCItXCI7XG4gICAgbGV0IHZpZXdfZGF0YSA9IG51bGw7XG4gICAgY29uc3QgX29mZnNldCA9IHRoaXMuZ2V0X3ZpZXdfb2Zmc2V0KCk7XG4gICAgZm9yIChjb25zdCBub2RlaWQgaW4gbm9kZXMpIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tub2RlaWRdO1xuICAgICAgdmlld19kYXRhID0gbm9kZS5fZGF0YS52aWV3O1xuICAgICAgbm9kZV9lbGVtZW50ID0gdmlld19kYXRhLmVsZW1lbnQ7XG4gICAgICBleHBhbmRlciA9IHZpZXdfZGF0YS5leHBhbmRlcjtcbiAgICAgIGlmICghdGhpcy5sYXlvdXQuaXNfdmlzaWJsZShub2RlKSkge1xuICAgICAgICBub2RlX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBleHBhbmRlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNldF9ub2RlX2N1c3RvbV9zdHlsZShub2RlKTtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLmxheW91dC5nZXRfbm9kZV9wb2ludChub2RlKTtcbiAgICAgIHZpZXdfZGF0YS5hYnNfeCA9IF9vZmZzZXQueCArIHAueDtcbiAgICAgIHZpZXdfZGF0YS5hYnNfeSA9IF9vZmZzZXQueSArIHAueTtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5sZWZ0ID0gX29mZnNldC54ICsgcC54ICsgXCJweFwiO1xuICAgICAgbm9kZV9lbGVtZW50LnN0eWxlLnRvcCA9IF9vZmZzZXQueSArIHAueSArIFwicHhcIjtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICBpZiAoIW5vZGUuaXNyb290ICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICBleHBhbmRlcl90ZXh0ID0gbm9kZS5leHBhbmRlZCA/IFwiLVwiIDogXCIrXCI7XG4gICAgICAgIHBfZXhwYW5kZXIgPSB0aGlzLmxheW91dC5nZXRfZXhwYW5kZXJfcG9pbnQobm9kZSk7XG4gICAgICAgIGV4cGFuZGVyLnN0eWxlLmxlZnQgPSBfb2Zmc2V0LnggKyBwX2V4cGFuZGVyLnggKyBcInB4XCI7XG4gICAgICAgIGV4cGFuZGVyLnN0eWxlLnRvcCA9IF9vZmZzZXQueSArIHBfZXhwYW5kZXIueSArIFwicHhcIjtcbiAgICAgICAgZXhwYW5kZXIuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGV4cGFuZGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgdGhpcy5zZXRUZXh0VG9FbGVtZW50KGV4cGFuZGVyLCBleHBhbmRlcl90ZXh0KTtcbiAgICAgIH1cbiAgICAgIC8vIGhpZGUgZXhwYW5kZXIgd2hpbGUgYWxsIGNoaWxkcmVuIGhhdmUgYmVlbiByZW1vdmVkXG4gICAgICBpZiAoIW5vZGUuaXNyb290ICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgICAgZXhwYW5kZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBleHBhbmRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXNldF9ub2RlX2N1c3RvbV9zdHlsZShub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuX3Jlc2V0X25vZGVfY3VzdG9tX3N0eWxlKG5vZGUuX2RhdGEudmlldy5lbGVtZW50LCBub2RlLmRhdGEpO1xuICB9XG5cbiAgX3Jlc2V0X25vZGVfY3VzdG9tX3N0eWxlKG5vZGVfZWxlbWVudDogSFRNTEVsZW1lbnQsIG5vZGVfZGF0YTogYW55KTogdm9pZCB7XG4gICAgaWYgKFwiYmFja2dyb3VuZC1jb2xvclwiIGluIG5vZGVfZGF0YSkge1xuICAgICAgbm9kZV9lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG5vZGVfZGF0YVtcImJhY2tncm91bmQtY29sb3JcIl07XG4gICAgfVxuICAgIGlmIChcImZvcmVncm91bmQtY29sb3JcIiBpbiBub2RlX2RhdGEpIHtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5jb2xvciA9IG5vZGVfZGF0YVtcImZvcmVncm91bmQtY29sb3JcIl07XG4gICAgfVxuICAgIGlmIChcIndpZHRoXCIgaW4gbm9kZV9kYXRhKSB7XG4gICAgICBub2RlX2VsZW1lbnQuc3R5bGUud2lkdGggPSBub2RlX2RhdGFbXCJ3aWR0aFwiXSArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKFwiaGVpZ2h0XCIgaW4gbm9kZV9kYXRhKSB7XG4gICAgICBub2RlX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gbm9kZV9kYXRhW1wiaGVpZ2h0XCJdICsgXCJweFwiO1xuICAgIH1cbiAgICBpZiAoXCJmb250LXNpemVcIiBpbiBub2RlX2RhdGEpIHtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5mb250U2l6ZSA9IG5vZGVfZGF0YVtcImZvbnQtc2l6ZVwiXSArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKFwiZm9udC13ZWlnaHRcIiBpbiBub2RlX2RhdGEpIHtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5mb250V2VpZ2h0ID0gbm9kZV9kYXRhW1wiZm9udC13ZWlnaHRcIl07XG4gICAgfVxuICAgIGlmIChcImZvbnQtc3R5bGVcIiBpbiBub2RlX2RhdGEpIHtcbiAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5mb250U3R5bGUgPSBub2RlX2RhdGFbXCJmb250LXN0eWxlXCJdO1xuICAgIH1cbiAgICBpZiAoXCJiYWNrZ3JvdW5kLWltYWdlXCIgaW4gbm9kZV9kYXRhKSB7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2UgPSBub2RlX2RhdGFbXCJiYWNrZ3JvdW5kLWltYWdlXCJdO1xuICAgICAgaWYgKFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2Uuc3RhcnRzV2l0aChcImRhdGFcIikgJiZcbiAgICAgICAgbm9kZV9kYXRhW1wid2lkdGhcIl0gJiZcbiAgICAgICAgbm9kZV9kYXRhW1wiaGVpZ2h0XCJdXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICBjLndpZHRoID0gbm9kZV9lbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgIGMuaGVpZ2h0ID0gbm9kZV9lbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICBjb25zdCBpbWc6IGFueSA9IHRoaXM7XG4gICAgICAgICAgaWYgKGMuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgY29uc3QgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgIGltZyxcbiAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgbm9kZV9lbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICBub2RlX2VsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVkSW1hZ2VEYXRhID0gYy50b0RhdGFVUkwoKTtcbiAgICAgICAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIHNjYWxlZEltYWdlRGF0YSArIFwiKVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW1nLnNyYyA9IGJhY2tncm91bmRJbWFnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVfZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGJhY2tncm91bmRJbWFnZSArIFwiKVwiO1xuICAgICAgfVxuICAgICAgbm9kZV9lbGVtZW50LnN0eWxlLmJhY2tncm91bmRTaXplID0gXCI5OSVcIjtcblxuICAgICAgaWYgKFwiYmFja2dyb3VuZC1yb3RhdGlvblwiIGluIG5vZGVfZGF0YSkge1xuICAgICAgICBub2RlX2VsZW1lbnQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICBcInJvdGF0ZShcIiArIG5vZGVfZGF0YVtcImJhY2tncm91bmQtcm90YXRpb25cIl0gKyBcImRlZylcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhcl9ub2RlX2N1c3RvbV9zdHlsZShub2RlOiBNaW5kTm9kZSk6IHZvaWQge1xuICAgIGNvbnN0IG5vZGVfZWxlbWVudCA9IG5vZGUuX2RhdGEudmlldy5lbGVtZW50O1xuICAgIG5vZGVfZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIlwiO1xuICAgIG5vZGVfZWxlbWVudC5zdHlsZS5jb2xvciA9IFwiXCI7XG4gIH1cblxuICBjbGVhcl9saW5lcygpOiB2b2lkIHtcbiAgICB0aGlzLmdyYXBoLmNsZWFyKCk7XG4gIH1cblxuICBzaG93X2xpbmVzKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJfbGluZXMoKTtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuam0ubWluZC5ub2RlcztcbiAgICBsZXQgbm9kZSA9IG51bGw7XG4gICAgbGV0IHBpbiA9IG51bGw7XG4gICAgbGV0IHBvdXQgPSBudWxsO1xuICAgIGNvbnN0IF9vZmZzZXQgPSB0aGlzLmdldF92aWV3X29mZnNldCgpO1xuICAgIGZvciAoY29uc3Qgbm9kZWlkIGluIG5vZGVzKSB7XG4gICAgICBub2RlID0gbm9kZXNbbm9kZWlkXTtcbiAgICAgIGlmIChub2RlLmlzcm9vdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcInZpc2libGVcIiBpbiBub2RlLl9kYXRhLmxheW91dCAmJiAhbm9kZS5fZGF0YS5sYXlvdXQudmlzaWJsZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHBpbiA9IHRoaXMubGF5b3V0LmdldF9ub2RlX3BvaW50X2luKG5vZGUpO1xuICAgICAgcG91dCA9IHRoaXMubGF5b3V0LmdldF9ub2RlX3BvaW50X291dChub2RlLnBhcmVudCk7XG4gICAgICB0aGlzLmdyYXBoLmRyYXdfbGluZShwb3V0LCBwaW4sIF9vZmZzZXQpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcCxKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHJcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gXCIuL01pbmRtYXBDb25zdGFudHNcIjtcclxuaW1wb3J0IEpzTWluZCBmcm9tIFwiLi9Kc01pbmRcIjtcclxuXHJcbi8vIEdlbmVyYXRlIG5ldyBJRCBvZiB0aGUgbm9kZVxyXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIChcclxuICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKDE2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKVxyXG4gICkuc3Vic3RyKDIsIDE2KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcnRjdXRQcm92aWRlciB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBqbTogSnNNaW5kO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPjsgLy8gaGFuZGxlck5hbWUya2V5Y29kZVxyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlczogUmVjb3JkPFxyXG4gICAgc3RyaW5nLFxyXG4gICAgKGFyZzA6IEpzTWluZCwgYXJnMTogRXZlbnQpID0+IGJvb2xlYW5cclxuICA+O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX25ld2lkOiAoKSA9PiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfbWFwcGluZzogUmVjb3JkPFxyXG4gICAgbnVtYmVyLFxyXG4gICAgKGFyZzA6IEpzTWluZCwgYXJnMTogRXZlbnQpID0+IGJvb2xlYW5cclxuICA+OyAvLyBudW1iZXIyY2FsbGJhY2tcclxuICBwcml2YXRlIGVuYWJsZTogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBqbTogSnNNaW5kLFxyXG4gICAgZW5hYmxlOiBib29sZWFuLFxyXG4gICAgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPixcclxuICAgIGhhbmRsZXM6IFJlY29yZDxzdHJpbmcsIChhcmcwOiBKc01pbmQsIGFyZzE6IEV2ZW50KSA9PiBib29sZWFuPixcclxuICAgIG5ld2lkOiAoKSA9PiBzdHJpbmcgPSBnZW5lcmF0ZUlkXHJcbiAgKSB7XHJcbiAgICB0aGlzLmptID0gam07XHJcbiAgICB0aGlzLmVuYWJsZSA9IGVuYWJsZTtcclxuICAgIHRoaXMubWFwcGluZyA9IG1hcHBpbmc7XHJcbiAgICB0aGlzLmhhbmRsZXMgPSBoYW5kbGVzO1xyXG4gICAgdGhpcy5fbmV3aWQgPSBuZXdpZDtcclxuICAgIHRoaXMuX21hcHBpbmcgPSB7fTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBUT0RPIGRvIG5vdCBob29rIHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxyXG4gICAgLy8gdGhpcy5qbS5vcHRpb25zLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcclxuICAgIC8vICAgICB0aGlzLmhhbmRsZXIuYmluZCh0aGlzKSlcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlci5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLmhhbmRsZXNbXCJhZGRjaGlsZFwiXSA9IHRoaXMuaGFuZGxlX2FkZGNoaWxkO1xyXG4gICAgdGhpcy5oYW5kbGVzW1wiYWRkYnJvdGhlclwiXSA9IHRoaXMuaGFuZGxlX2FkZGJyb3RoZXI7XHJcbiAgICB0aGlzLmhhbmRsZXNbXCJlZGl0bm9kZVwiXSA9IHRoaXMuaGFuZGxlX2VkaXRub2RlO1xyXG4gICAgdGhpcy5oYW5kbGVzW1wiZGVsbm9kZVwiXSA9IHRoaXMuaGFuZGxlX2RlbG5vZGU7XHJcbiAgICB0aGlzLmhhbmRsZXNbXCJ0b2dnbGVcIl0gPSB0aGlzLmhhbmRsZV90b2dnbGU7XHJcbiAgICB0aGlzLmhhbmRsZXNbXCJ1cFwiXSA9IHRoaXMuaGFuZGxlX3VwO1xyXG4gICAgdGhpcy5oYW5kbGVzW1wiZG93blwiXSA9IHRoaXMuaGFuZGxlX2Rvd247XHJcbiAgICB0aGlzLmhhbmRsZXNbXCJsZWZ0XCJdID0gdGhpcy5oYW5kbGVfbGVmdDtcclxuICAgIHRoaXMuaGFuZGxlc1tcInJpZ2h0XCJdID0gdGhpcy5oYW5kbGVfcmlnaHQ7XHJcbiAgICB0aGlzLmhhbmRsZXNbXCJ1bmRvXCJdID0gdGhpcy5oYW5kbGVfdW5kbztcclxuXHJcbiAgICBmb3IgKGNvbnN0IGhhbmRsZSBpbiB0aGlzLm1hcHBpbmcpIHtcclxuICAgICAgaWYgKCEhdGhpcy5tYXBwaW5nW2hhbmRsZV0gJiYgaGFuZGxlIGluIHRoaXMuaGFuZGxlcykge1xyXG4gICAgICAgIHRoaXMuX21hcHBpbmdbdGhpcy5tYXBwaW5nW2hhbmRsZV1dID0gdGhpcy5oYW5kbGVzW2hhbmRsZV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuYWJsZV9zaG9ydGN1dCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZW5hYmxlID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVfc2hvcnRjdXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlcihlOiBLZXlib2FyZEV2ZW50KTogYm9vbGVhbiB7XHJcbiAgICAvLyBub2luc3BlY3Rpb24gSlNEZXByZWNhdGVkU3ltYm9sc1xyXG4gICAgaWYgKGUud2hpY2ggPT0gOSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9IC8vcHJldmVudCB0YWIgdG8gY2hhbmdlIGZvY3VzIGluIGJyb3dzZXJcclxuICAgIGlmICh0aGlzLmptLnZpZXcuaXNfZWRpdGluZygpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5lbmFibGUpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBub2luc3BlY3Rpb24gSlNEZXByZWNhdGVkU3ltYm9sc1xyXG4gICAgY29uc3Qga2MgPVxyXG4gICAgICBlLmtleUNvZGUgK1xyXG4gICAgICAoKGUubWV0YUtleSA/IDEgOiAwKSA8PCAxMykgK1xyXG4gICAgICAoKGUuY3RybEtleSA/IDEgOiAwKSA8PCAxMikgK1xyXG4gICAgICAoKGUuYWx0S2V5ID8gMSA6IDApIDw8IDExKSArXHJcbiAgICAgICgoZS5zaGlmdEtleSA/IDEgOiAwKSA8PCAxMCk7XHJcbiAgICBpZiAoa2MgaW4gdGhpcy5fbWFwcGluZykge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmptLm9wdGlvbnMuY29udGFpbmVyIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IGNvbnRhaW5lci5pc0Nvbm5lY3RlZDtcclxuICAgICAgLy8gb2Zmc2V0UGFyZW50PSR7Y29udGFpbmVyLm9mZnNldFBhcmVudH1cclxuICAgICAgLy8gVklTSUJJTElUWT0ke2dldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS52aXNpYmlsaXR5fVxyXG4gICAgICAvLyAgICAgVE9QPSR7Z2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLnRvcH1cclxuXHJcbiAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBJbnZva2luZyBzaG9ydGN1dCBoYW5kbGVyOiBJRD0ke3RoaXMuam0ubWluZC5pZH0vJHt0aGlzLmptLmlkfSBjb25uZWN0ZWQ9JHtpc0Nvbm5lY3RlZH1cclxuICAgICAgdGFyZ2V0PSR7ZS50YXJnZXR9XHJcbiAgICAgIGApO1xyXG4gICAgICAgIHRoaXMuX21hcHBpbmdba2NdLmNhbGwodGhpcywgdGhpcy5qbSwgZSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVfYWRkY2hpbGQoX2ptOiBKc01pbmQpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkX25vZGUgPSBfam0uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmIChzZWxlY3RlZF9ub2RlKSB7XHJcbiAgICAgIGNvbnN0IG5vZGVpZCA9IHRoaXMuX25ld2lkKCk7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBfam0uYWRkX25vZGUoc2VsZWN0ZWRfbm9kZSwgbm9kZWlkLCBcIk5ldyBOb2RlXCIsIG51bGwpO1xyXG4gICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgIF9qbS5zZWxlY3Rfbm9kZShub2RlKTtcclxuICAgICAgICBfam0uYmVnaW5fZWRpdChub2RlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlX2FkZGJyb3RoZXIoam06IEpzTWluZCwgZTogRXZlbnQpOiBib29sZWFuIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBzZWxlY3RlZF9ub2RlID0gam0uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmICghIXNlbGVjdGVkX25vZGUgJiYgIXNlbGVjdGVkX25vZGUuaXNyb290KSB7XHJcbiAgICAgIGNvbnN0IG5vZGVpZCA9IHRoaXMuX25ld2lkKCk7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBqbS5pbnNlcnRfbm9kZV9hZnRlcihcclxuICAgICAgICBzZWxlY3RlZF9ub2RlLFxyXG4gICAgICAgIG5vZGVpZCxcclxuICAgICAgICBcIk5ldyBOb2RlXCIsXHJcbiAgICAgICAgbnVsbFxyXG4gICAgICApO1xyXG4gICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgIGptLnNlbGVjdF9ub2RlKG5vZGUpO1xyXG4gICAgICAgIGptLmJlZ2luX2VkaXQobm9kZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGhhbmRsZV9lZGl0bm9kZShfam06IEpzTWluZCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRfbm9kZSA9IF9qbS5nZXRfc2VsZWN0ZWRfbm9kZSgpO1xyXG4gICAgaWYgKHNlbGVjdGVkX25vZGUpIHtcclxuICAgICAgX2ptLmJlZ2luX2VkaXQoc2VsZWN0ZWRfbm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVfZGVsbm9kZShfam06IEpzTWluZCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRfbm9kZSA9IF9qbS5nZXRfc2VsZWN0ZWRfbm9kZSgpO1xyXG4gICAgaWYgKCEhc2VsZWN0ZWRfbm9kZSAmJiAhc2VsZWN0ZWRfbm9kZS5pc3Jvb3QpIHtcclxuICAgICAgX2ptLnNlbGVjdF9ub2RlKHNlbGVjdGVkX25vZGUucGFyZW50KTtcclxuICAgICAgX2ptLnJlbW92ZV9ub2RlKHNlbGVjdGVkX25vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlX3RvZ2dsZShfam06IEpzTWluZCwgZTogRXZlbnQpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkX25vZGUgPSBfam0uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmIChzZWxlY3RlZF9ub2RlKSB7XHJcbiAgICAgIF9qbS50b2dnbGVfbm9kZShzZWxlY3RlZF9ub2RlKTtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlX3VwKF9qbTogSnNNaW5kLCBlOiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRfbm9kZSA9IF9qbS5nZXRfc2VsZWN0ZWRfbm9kZSgpO1xyXG4gICAgaWYgKHNlbGVjdGVkX25vZGUpIHtcclxuICAgICAgbGV0IHVwX25vZGUgPSBfam0uZmluZF9ub2RlX2JlZm9yZShzZWxlY3RlZF9ub2RlKTtcclxuICAgICAgaWYgKCF1cF9ub2RlKSB7XHJcbiAgICAgICAgY29uc3QgbnAgPSBfam0uZmluZF9ub2RlX2JlZm9yZShzZWxlY3RlZF9ub2RlLnBhcmVudCk7XHJcbiAgICAgICAgaWYgKCEhbnAgJiYgbnAuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdXBfbm9kZSA9IG5wLmNoaWxkcmVuW25wLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodXBfbm9kZSkge1xyXG4gICAgICAgIF9qbS5zZWxlY3Rfbm9kZSh1cF9ub2RlKTtcclxuICAgICAgfVxyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVfZG93bihfam06IEpzTWluZCwgZTogRXZlbnQpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkX25vZGUgPSBfam0uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmIChzZWxlY3RlZF9ub2RlKSB7XHJcbiAgICAgIGxldCBkb3duX25vZGUgPSBfam0uZmluZF9ub2RlX2FmdGVyKHNlbGVjdGVkX25vZGUpO1xyXG4gICAgICBpZiAoIWRvd25fbm9kZSkge1xyXG4gICAgICAgIGNvbnN0IG5wID0gX2ptLmZpbmRfbm9kZV9hZnRlcihzZWxlY3RlZF9ub2RlLnBhcmVudCk7XHJcbiAgICAgICAgaWYgKCEhbnAgJiYgbnAuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgZG93bl9ub2RlID0gbnAuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChkb3duX25vZGUpIHtcclxuICAgICAgICBfam0uc2VsZWN0X25vZGUoZG93bl9ub2RlKTtcclxuICAgICAgfVxyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVfbGVmdChfam06IEpzTWluZCwgZTogRXZlbnQpOiBib29sZWFuIHtcclxuICAgIHRoaXMuX2hhbmRsZV9kaXJlY3Rpb24oX2ptLCBlLCBEaXJlY3Rpb24uTEVGVCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVfcmlnaHQoX2ptOiBKc01pbmQsIGU6IEV2ZW50KTogYm9vbGVhbiB7XHJcbiAgICB0aGlzLl9oYW5kbGVfZGlyZWN0aW9uKF9qbSwgZSwgRGlyZWN0aW9uLlJJR0hUKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVfZGlyZWN0aW9uKF9qbTogSnNNaW5kLCBlOiBFdmVudCwgZDogRGlyZWN0aW9uKTogdm9pZCB7XHJcbiAgICBsZXQgY2hpbGRyZW47XHJcbiAgICBjb25zdCBzZWxlY3RlZF9ub2RlID0gX2ptLmdldF9zZWxlY3RlZF9ub2RlKCk7XHJcbiAgICBsZXQgbm9kZSA9IG51bGw7XHJcbiAgICBpZiAoc2VsZWN0ZWRfbm9kZSkge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRfbm9kZS5pc3Jvb3QpIHtcclxuICAgICAgICBjb25zdCBjID0gc2VsZWN0ZWRfbm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBjaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNbaV0uZGlyZWN0aW9uID09PSBkKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goaSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vZGUgPSBjW2NoaWxkcmVuW01hdGguZmxvb3IoKGNoaWxkcmVuLmxlbmd0aCAtIDEpIC8gMildXTtcclxuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZF9ub2RlLmRpcmVjdGlvbiA9PT0gZCkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gc2VsZWN0ZWRfbm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbmNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgIGlmIChjaGlsZHJlbmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgbm9kZSA9IGNoaWxkcmVuW01hdGguZmxvb3IoKGNoaWxkcmVuY291bnQgLSAxKSAvIDIpXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZSA9IHNlbGVjdGVkX25vZGUucGFyZW50O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgX2ptLnNlbGVjdF9ub2RlKG5vZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZV91bmRvKF9qbTogSnNNaW5kLCBlOiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc29sZS5sb2coXCJVTkRPIVwiKTtcclxuICAgIF9qbS51bmRvKCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG4iLCIvLyBub2luc3BlY3Rpb24gSlNVbmZpbHRlcmVkRm9ySW5Mb29wXG5cbi8qXG4gKiBSZWxlYXNlZCB1bmRlciBCU0QgTGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUgaGl6emdkZXZAMTYzLmNvbVxuICpcbiAqIFByb2plY3QgSG9tZTpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2hpenpnZGV2L2pzbWluZC9cbiAqL1xuXG4vKipcbiAqIE1vZGlmaWVkIGJ5IHRva3VoaXJvbS5cbiAqIC0gc3VwcG9ydCBucG0uXG4gKiAtIHJlcGxhY2UgdmFyIHdpdGggbGV0L2NvbnN0LlxuICogQ29weXJpZ2h0IChDKSAyMDIxIFRva3VoaXJvIE1hdHN1bm8uXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBKc01pbmQgZnJvbSBcIi4vSnNNaW5kXCI7XG5pbXBvcnQgTWluZE5vZGUgZnJvbSBcIi4vTWluZE5vZGVcIjtcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gXCIuL01pbmRtYXBDb25zdGFudHNcIjtcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgbGluZV93aWR0aDogNSxcbiAgbG9va3VwX2RlbGF5OiA1MDAsXG4gIGxvb2t1cF9pbnRlcnZhbDogODAsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnZ2FibGUge1xuICBwcml2YXRlIGptOiBKc01pbmQ7XG4gIHByaXZhdGUgZV9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIGNhbnZhc19jdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcHJpdmF0ZSBzaGFkb3c6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHNoYWRvd193OiBudW1iZXI7XG4gIHByaXZhdGUgc2hhZG93X2g6IG51bWJlcjtcbiAgcHJpdmF0ZSBhY3RpdmVfbm9kZTogTWluZE5vZGU7XG4gIHByaXZhdGUgdGFyZ2V0X25vZGU6IE1pbmROb2RlO1xuICBwcml2YXRlIHRhcmdldF9kaXJlY3Q6IERpcmVjdGlvbjtcbiAgcHJpdmF0ZSBjbGllbnRfdzogbnVtYmVyO1xuICBwcml2YXRlIGNsaWVudF9oOiBudW1iZXI7XG4gIHByaXZhdGUgb2Zmc2V0X3g6IG51bWJlcjtcbiAgcHJpdmF0ZSBvZmZzZXRfeTogbnVtYmVyO1xuICBwcml2YXRlIGhsb29rdXBfZGVsYXk6IG51bWJlcjtcbiAgcHJpdmF0ZSBobG9va3VwX3RpbWVyOiBudW1iZXI7XG4gIHByaXZhdGUgY2FwdHVyZTogYm9vbGVhbjtcbiAgcHJpdmF0ZSBtb3ZlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBjbGllbnRfaHc6IG51bWJlcjtcbiAgcHJpdmF0ZSBjbGllbnRfaGg6IG51bWJlcjtcbiAgY29uc3RydWN0b3Ioam06IEpzTWluZCkge1xuICAgIHRoaXMuam0gPSBqbTtcbiAgICB0aGlzLmVfY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhc19jdHggPSBudWxsO1xuICAgIHRoaXMuc2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLnNoYWRvd193ID0gMDtcbiAgICB0aGlzLnNoYWRvd19oID0gMDtcbiAgICB0aGlzLmFjdGl2ZV9ub2RlID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldF9ub2RlID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldF9kaXJlY3QgPSBudWxsO1xuICAgIHRoaXMuY2xpZW50X3cgPSAwO1xuICAgIHRoaXMuY2xpZW50X2ggPSAwO1xuICAgIHRoaXMub2Zmc2V0X3ggPSAwO1xuICAgIHRoaXMub2Zmc2V0X3kgPSAwO1xuICAgIHRoaXMuaGxvb2t1cF9kZWxheSA9IDA7XG4gICAgdGhpcy5obG9va3VwX3RpbWVyID0gMDtcbiAgICB0aGlzLmNhcHR1cmUgPSBmYWxzZTtcbiAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuX2NyZWF0ZV9jYW52YXMoKTtcbiAgICB0aGlzLl9jcmVhdGVfc2hhZG93KCk7XG4gICAgdGhpcy5fZXZlbnRfYmluZCgpO1xuICB9XG5cbiAgcmVzaXplKCk6IHZvaWQge1xuICAgIHRoaXMuam0udmlldy5lX25vZGVzLmFwcGVuZENoaWxkKHRoaXMuc2hhZG93KTtcbiAgICB0aGlzLmVfY2FudmFzLndpZHRoID0gdGhpcy5qbS52aWV3LnNpemUudztcbiAgICB0aGlzLmVfY2FudmFzLmhlaWdodCA9IHRoaXMuam0udmlldy5zaXplLmg7XG4gIH1cblxuICBfY3JlYXRlX2NhbnZhcygpOiB2b2lkIHtcbiAgICBjb25zdCBjOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5qbS52aWV3LmVfcGFuZWwuYXBwZW5kQ2hpbGQoYyk7XG4gICAgY29uc3QgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLmVfY2FudmFzID0gYztcbiAgICB0aGlzLmNhbnZhc19jdHggPSBjdHg7XG4gIH1cblxuICBfY3JlYXRlX3NoYWRvdygpOiB2b2lkIHtcbiAgICBjb25zdCBzOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJqbW5vZGVcIik7XG4gICAgcy5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBzLnN0eWxlLnpJbmRleCA9IFwiM1wiO1xuICAgIHMuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XG4gICAgcy5zdHlsZS5vcGFjaXR5ID0gXCIwLjdcIjtcbiAgICB0aGlzLnNoYWRvdyA9IHM7XG4gIH1cblxuICByZXNldF9zaGFkb3coZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgcyA9IHRoaXMuc2hhZG93LnN0eWxlO1xuICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IGVsLmlubmVySFRNTDtcbiAgICBzLmxlZnQgPSBlbC5zdHlsZS5sZWZ0O1xuICAgIHMudG9wID0gZWwuc3R5bGUudG9wO1xuICAgIHMud2lkdGggPSBlbC5zdHlsZS53aWR0aDtcbiAgICBzLmhlaWdodCA9IGVsLnN0eWxlLmhlaWdodDtcbiAgICBzLmJhY2tncm91bmRJbWFnZSA9IGVsLnN0eWxlLmJhY2tncm91bmRJbWFnZTtcbiAgICBzLmJhY2tncm91bmRTaXplID0gZWwuc3R5bGUuYmFja2dyb3VuZFNpemU7XG4gICAgcy50cmFuc2Zvcm0gPSBlbC5zdHlsZS50cmFuc2Zvcm07XG4gICAgdGhpcy5zaGFkb3dfdyA9IHRoaXMuc2hhZG93LmNsaWVudFdpZHRoO1xuICAgIHRoaXMuc2hhZG93X2ggPSB0aGlzLnNoYWRvdy5jbGllbnRIZWlnaHQ7XG4gIH1cblxuICBzaG93X3NoYWRvdygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubW92ZWQpIHtcbiAgICAgIHRoaXMuc2hhZG93LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICB9XG4gIH1cblxuICBoaWRlX3NoYWRvdygpOiB2b2lkIHtcbiAgICB0aGlzLnNoYWRvdy5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfVxuXG4gIF9tYWduZXRfc2hhZG93KG5vZGU6IHtcbiAgICBub2RlOiBhbnk7XG4gICAgbnA6IGFueTtcbiAgICBzcDogYW55O1xuICAgIGRpcmVjdGlvbjogbnVtYmVyO1xuICB9KTogdm9pZCB7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHRoaXMuY2FudmFzX2N0eC5saW5lV2lkdGggPSBvcHRpb25zLmxpbmVfd2lkdGg7XG4gICAgICB0aGlzLmNhbnZhc19jdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoMCwwLDAsMC4zKVwiO1xuICAgICAgdGhpcy5jYW52YXNfY3R4LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgICB0aGlzLl9jbGVhcl9saW5lcygpO1xuICAgICAgdGhpcy5fY2FudmFzX2xpbmV0byhub2RlLnNwLngsIG5vZGUuc3AueSwgbm9kZS5ucC54LCBub2RlLm5wLnkpO1xuICAgIH1cbiAgfVxuXG4gIF9jbGVhcl9saW5lcygpOiB2b2lkIHtcbiAgICB0aGlzLmNhbnZhc19jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuam0udmlldy5zaXplLncsIHRoaXMuam0udmlldy5zaXplLmgpO1xuICB9XG5cbiAgX2NhbnZhc19saW5ldG8oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2FudmFzX2N0eC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLmNhbnZhc19jdHgubW92ZVRvKHgxLCB5MSk7XG4gICAgdGhpcy5jYW52YXNfY3R4LmxpbmVUbyh4MiwgeTIpO1xuICAgIHRoaXMuY2FudmFzX2N0eC5zdHJva2UoKTtcbiAgfVxuXG4gIF9sb29rdXBfY2xvc2Vfbm9kZSgpOiB7XG4gICAgbm9kZTogTWluZE5vZGU7XG4gICAgbnA6IGFueTtcbiAgICBzcDogYW55O1xuICAgIGRpcmVjdGlvbjogRGlyZWN0aW9uO1xuICB9IHtcbiAgICBjb25zdCByb290ID0gdGhpcy5qbS5nZXRfcm9vdCgpO1xuICAgIGNvbnN0IHJvb3RfbG9jYXRpb24gPSByb290LmdldF9sb2NhdGlvbigpO1xuICAgIGNvbnN0IHJvb3Rfc2l6ZSA9IHJvb3QuZ2V0X3NpemUoKTtcbiAgICBjb25zdCByb290X3ggPSByb290X2xvY2F0aW9uLnggKyByb290X3NpemUudyAvIDI7XG5cbiAgICBjb25zdCBzdyA9IHRoaXMuc2hhZG93X3c7XG4gICAgY29uc3Qgc2ggPSB0aGlzLnNoYWRvd19oO1xuICAgIGNvbnN0IHN4ID0gdGhpcy5zaGFkb3cub2Zmc2V0TGVmdDtcbiAgICBjb25zdCBzeSA9IHRoaXMuc2hhZG93Lm9mZnNldFRvcDtcblxuICAgIGxldCBucywgbmw7XG5cbiAgICBjb25zdCBkaXJlY3QgPSBzeCArIHN3IC8gMiA+PSByb290X3ggPyBEaXJlY3Rpb24uUklHSFQgOiBEaXJlY3Rpb24uTEVGVDtcbiAgICBjb25zdCBub2RlcyA9IHRoaXMuam0ubWluZC5ub2RlcztcbiAgICBsZXQgbm9kZSA9IG51bGw7XG4gICAgbGV0IG1pbl9kaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgbGV0IGRpc3RhbmNlID0gMDtcbiAgICBsZXQgY2xvc2VzdF9ub2RlID0gbnVsbDtcbiAgICBsZXQgY2xvc2VzdF9wID0gbnVsbDtcbiAgICBsZXQgc2hhZG93X3AgPSBudWxsO1xuICAgIGZvciAoY29uc3Qgbm9kZWlkIGluIG5vZGVzKSB7XG4gICAgICBsZXQgbnAsIHNwO1xuICAgICAgbm9kZSA9IG5vZGVzW25vZGVpZF07XG4gICAgICBpZiAobm9kZS5pc3Jvb3QgfHwgbm9kZS5kaXJlY3Rpb24gPT0gZGlyZWN0KSB7XG4gICAgICAgIGlmIChub2RlLmlkID09IHRoaXMuYWN0aXZlX25vZGUuaWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBucyA9IG5vZGUuZ2V0X3NpemUoKTtcbiAgICAgICAgbmwgPSBub2RlLmdldF9sb2NhdGlvbigpO1xuICAgICAgICBpZiAoZGlyZWN0ID09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgICAgIGlmIChzeCAtIG5sLnggLSBucy53IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXN0YW5jZSA9XG4gICAgICAgICAgICBNYXRoLmFicyhzeCAtIG5sLnggLSBucy53KSArXG4gICAgICAgICAgICBNYXRoLmFicyhzeSArIHNoIC8gMiAtIG5sLnkgLSBucy5oIC8gMik7XG4gICAgICAgICAgbnAgPSB7IHg6IG5sLnggKyBucy53IC0gb3B0aW9ucy5saW5lX3dpZHRoLCB5OiBubC55ICsgbnMuaCAvIDIgfTtcbiAgICAgICAgICBzcCA9IHsgeDogc3ggKyBvcHRpb25zLmxpbmVfd2lkdGgsIHk6IHN5ICsgc2ggLyAyIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5sLnggLSBzeCAtIHN3IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXN0YW5jZSA9XG4gICAgICAgICAgICBNYXRoLmFicyhzeCArIHN3IC0gbmwueCkgKyBNYXRoLmFicyhzeSArIHNoIC8gMiAtIG5sLnkgLSBucy5oIC8gMik7XG4gICAgICAgICAgbnAgPSB7IHg6IG5sLnggKyBvcHRpb25zLmxpbmVfd2lkdGgsIHk6IG5sLnkgKyBucy5oIC8gMiB9O1xuICAgICAgICAgIHNwID0geyB4OiBzeCArIHN3IC0gb3B0aW9ucy5saW5lX3dpZHRoLCB5OiBzeSArIHNoIC8gMiB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbl9kaXN0YW5jZSkge1xuICAgICAgICAgIGNsb3Nlc3Rfbm9kZSA9IG5vZGU7XG4gICAgICAgICAgY2xvc2VzdF9wID0gbnA7XG4gICAgICAgICAgc2hhZG93X3AgPSBzcDtcbiAgICAgICAgICBtaW5fZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xvc2VzdF9ub2RlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlOiBjbG9zZXN0X25vZGUsXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0LFxuICAgICAgICBzcDogc2hhZG93X3AsXG4gICAgICAgIG5wOiBjbG9zZXN0X3AsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBsb29rdXBfY2xvc2Vfbm9kZSgpOiB2b2lkIHtcbiAgICBjb25zdCBub2RlX2RhdGE6IHtcbiAgICAgIG5vZGU6IE1pbmROb2RlO1xuICAgICAgbnA6IGFueTtcbiAgICAgIHNwOiBhbnk7XG4gICAgICBkaXJlY3Rpb246IERpcmVjdGlvbjtcbiAgICB9ID0gdGhpcy5fbG9va3VwX2Nsb3NlX25vZGUoKTtcbiAgICBpZiAobm9kZV9kYXRhKSB7XG4gICAgICB0aGlzLl9tYWduZXRfc2hhZG93KG5vZGVfZGF0YSk7XG4gICAgICB0aGlzLnRhcmdldF9ub2RlID0gbm9kZV9kYXRhLm5vZGU7XG4gICAgICB0aGlzLnRhcmdldF9kaXJlY3QgPSBub2RlX2RhdGEuZGlyZWN0aW9uO1xuICAgIH1cbiAgfVxuXG4gIF9ldmVudF9iaW5kKCk6IHZvaWQge1xuICAgIC8vIFRPRE8gYmluZCDjgavnva7mj5vlj6/og73jgaPjgb3jgYRcbiAgICBjb25zdCBqZCA9IHRoaXM7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5qbS52aWV3LmNvbnRhaW5lcjtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICBmdW5jdGlvbiAoZTogRXZlbnQpIHtcbiAgICAgICAgamQuZHJhZ3N0YXJ0LmNhbGwoamQsIGUpO1xuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vtb3ZlXCIsXG4gICAgICBmdW5jdGlvbiAoZTogRXZlbnQpIHtcbiAgICAgICAgamQuZHJhZy5jYWxsKGpkLCBlKTtcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1vdXNldXBcIixcbiAgICAgIGZ1bmN0aW9uIChlOiBFdmVudCkge1xuICAgICAgICBqZC5kcmFnZW5kLmNhbGwoamQsIGUpO1xuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwidG91Y2hzdGFydFwiLFxuICAgICAgZnVuY3Rpb24gKGU6IEV2ZW50KSB7XG4gICAgICAgIGpkLmRyYWdzdGFydC5jYWxsKGpkLCBlKTtcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcInRvdWNobW92ZVwiLFxuICAgICAgZnVuY3Rpb24gKGU6IEV2ZW50KSB7XG4gICAgICAgIGpkLmRyYWcuY2FsbChqZCwgZSk7XG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJ0b3VjaGVuZFwiLFxuICAgICAgZnVuY3Rpb24gKGU6IEV2ZW50KSB7XG4gICAgICAgIGpkLmRyYWdlbmQuY2FsbChqZCwgZSk7XG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgZHJhZ3N0YXJ0KGU6IERyYWdFdmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5qbS5nZXRfZWRpdGFibGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYXB0dXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlX25vZGUgPSBudWxsO1xuXG4gICAgY29uc3QganZpZXcgPSB0aGlzLmptLnZpZXc7XG4gICAgY29uc3QgZWwgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImptbm9kZVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vZGVpZCA9IGp2aWV3LmdldF9iaW5kZWRfbm9kZWlkKGVsKTtcbiAgICBpZiAobm9kZWlkKSB7XG4gICAgICBjb25zdCBub2RlID0gdGhpcy5qbS5nZXRfbm9kZShub2RlaWQpO1xuICAgICAgaWYgKCFub2RlLmlzcm9vdCkge1xuICAgICAgICB0aGlzLnJlc2V0X3NoYWRvdyhlbCk7XG4gICAgICAgIHRoaXMuYWN0aXZlX25vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLm9mZnNldF94ID0gZS5jbGllbnRYIC0gZWwub2Zmc2V0TGVmdDtcbiAgICAgICAgdGhpcy5vZmZzZXRfeSA9IGUuY2xpZW50WSAtIGVsLm9mZnNldFRvcDtcbiAgICAgICAgLy8gdGhpcy5vZmZzZXRfeCA9IChlLmNsaWVudFggfHwgZS50b3VjaGVzWzBdLmNsaWVudFgpIC0gZWwub2Zmc2V0TGVmdDtcbiAgICAgICAgLy8gdGhpcy5vZmZzZXRfeSA9IChlLmNsaWVudFkgfHwgZS50b3VjaGVzWzBdLmNsaWVudFkpIC0gZWwub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLmNsaWVudF9odyA9IE1hdGguZmxvb3IoZWwuY2xpZW50V2lkdGggLyAyKTtcbiAgICAgICAgdGhpcy5jbGllbnRfaGggPSBNYXRoLmZsb29yKGVsLmNsaWVudEhlaWdodCAvIDIpO1xuICAgICAgICBpZiAodGhpcy5obG9va3VwX2RlbGF5ICE9PSAwKSB7XG4gICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmhsb29rdXBfZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhsb29rdXBfdGltZXIgIT09IDApIHtcbiAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhsb29rdXBfdGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpkID0gdGhpcztcbiAgICAgICAgdGhpcy5obG9va3VwX2RlbGF5ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGpkLmhsb29rdXBfZGVsYXkgPSAwO1xuICAgICAgICAgIGpkLmhsb29rdXBfdGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgamQubG9va3VwX2Nsb3NlX25vZGUuY2FsbChqZCk7XG4gICAgICAgICAgfSwgb3B0aW9ucy5sb29rdXBfaW50ZXJ2YWwpO1xuICAgICAgICB9LCBvcHRpb25zLmxvb2t1cF9kZWxheSk7XG4gICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZHJhZyhlOiBEcmFnRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuam0uZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zaG93X3NoYWRvdygpO1xuICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBjb25zdCBweCA9IGUuY2xpZW50WCAtIHRoaXMub2Zmc2V0X3g7XG4gICAgICBjb25zdCBweSA9IGUuY2xpZW50WSAtIHRoaXMub2Zmc2V0X3k7XG4gICAgICAvLyBjb25zdCBweCA9IChlLmNsaWVudFggfHwgZS50b3VjaGVzWzBdLmNsaWVudFgpIC0gdGhpcy5vZmZzZXRfeDtcbiAgICAgIC8vIGNvbnN0IHB5ID0gKGUuY2xpZW50WSB8fCBlLnRvdWNoZXNbMF0uY2xpZW50WSkgLSB0aGlzLm9mZnNldF95O1xuICAgICAgdGhpcy5zaGFkb3cuc3R5bGUubGVmdCA9IHB4ICsgXCJweFwiO1xuICAgICAgdGhpcy5zaGFkb3cuc3R5bGUudG9wID0gcHkgKyBcInB4XCI7XG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgfVxuICB9XG5cbiAgZHJhZ2VuZCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuam0uZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgaWYgKHRoaXMuaGxvb2t1cF9kZWxheSAhPT0gMCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuaGxvb2t1cF9kZWxheSk7XG4gICAgICAgIHRoaXMuaGxvb2t1cF9kZWxheSA9IDA7XG4gICAgICAgIHRoaXMuX2NsZWFyX2xpbmVzKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5obG9va3VwX3RpbWVyICE9PSAwKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaGxvb2t1cF90aW1lcik7XG4gICAgICAgIHRoaXMuaGxvb2t1cF90aW1lciA9IDA7XG4gICAgICAgIHRoaXMuX2NsZWFyX2xpbmVzKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb3ZlZCkge1xuICAgICAgICBjb25zdCBzcmNfbm9kZSA9IHRoaXMuYWN0aXZlX25vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldF9ub2RlID0gdGhpcy50YXJnZXRfbm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0X2RpcmVjdCA9IHRoaXMudGFyZ2V0X2RpcmVjdDtcbiAgICAgICAgdGhpcy5tb3ZlX25vZGUoc3JjX25vZGUsIHRhcmdldF9ub2RlLCB0YXJnZXRfZGlyZWN0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlkZV9zaGFkb3coKTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FwdHVyZSA9IGZhbHNlO1xuICB9XG5cbiAgbW92ZV9ub2RlKFxuICAgIHNyY19ub2RlOiBNaW5kTm9kZSxcbiAgICB0YXJnZXRfbm9kZTogTWluZE5vZGUsXG4gICAgdGFyZ2V0X2RpcmVjdDogYW55XG4gICk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYGpzTWluZC5kZ3JhZ2dhYmxlLm1vdmVfbm9kZTogJHtzcmNfbm9kZX0gJHt0YXJnZXRfbm9kZX0gJHt0YXJnZXRfZGlyZWN0fWBcbiAgICApO1xuICAgIGNvbnN0IHNoYWRvd19oID0gdGhpcy5zaGFkb3cub2Zmc2V0VG9wO1xuICAgIGlmIChcbiAgICAgICEhdGFyZ2V0X25vZGUgJiZcbiAgICAgICEhc3JjX25vZGUgJiZcbiAgICAgICFNaW5kTm9kZS5pbmhlcml0ZWQoc3JjX25vZGUsIHRhcmdldF9ub2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS5sb2coYGxldCdzIG1vdmUhYCk7XG4gICAgICAvLyBsb29rdXAgYmVmb3JlX25vZGVcbiAgICAgIGNvbnN0IHNpYmxpbmdfbm9kZXMgPSB0YXJnZXRfbm9kZS5jaGlsZHJlbjtcbiAgICAgIGxldCBzYyA9IHNpYmxpbmdfbm9kZXMubGVuZ3RoO1xuICAgICAgbGV0IG5vZGUgPSBudWxsO1xuICAgICAgbGV0IGRlbHRhX3kgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgbGV0IG5vZGVfYmVmb3JlID0gbnVsbDtcbiAgICAgIGxldCBiZWZvcmVpZCA9IFwiX2xhc3RfXCI7XG4gICAgICB3aGlsZSAoc2MtLSkge1xuICAgICAgICBub2RlID0gc2libGluZ19ub2Rlc1tzY107XG4gICAgICAgIGlmIChub2RlLmRpcmVjdGlvbiA9PT0gdGFyZ2V0X2RpcmVjdCAmJiBub2RlLmlkICE9PSBzcmNfbm9kZS5pZCkge1xuICAgICAgICAgIGNvbnN0IGR5ID0gbm9kZS5nZXRfbG9jYXRpb24oKS55IC0gc2hhZG93X2g7XG4gICAgICAgICAgaWYgKGR5ID4gMCAmJiBkeSA8IGRlbHRhX3kpIHtcbiAgICAgICAgICAgIGRlbHRhX3kgPSBkeTtcbiAgICAgICAgICAgIG5vZGVfYmVmb3JlID0gbm9kZTtcbiAgICAgICAgICAgIGJlZm9yZWlkID0gXCJfZmlyc3RfXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9kZV9iZWZvcmUpIHtcbiAgICAgICAgYmVmb3JlaWQgPSBub2RlX2JlZm9yZS5pZDtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgQ2FsbGluZyBqbS5tb3ZlX25vZGU6ICR7c3JjX25vZGUuaWR9LCAke2JlZm9yZWlkfSwgJHt0YXJnZXRfbm9kZS5pZH0sICR7dGFyZ2V0X2RpcmVjdH1gXG4gICAgICApO1xuICAgICAgdGhpcy5qbS5tb3ZlX25vZGUoc3JjX25vZGUuaWQsIGJlZm9yZWlkLCB0YXJnZXRfbm9kZS5pZCwgdGFyZ2V0X2RpcmVjdCk7XG4gICAgICAvLyB0aGlzLmptLm1vdmVfbm9kZShzcmNfbm9kZS5pZCwgYmVmb3JlaWQsIHRhcmdldF9ub2RlLmlkLCB0YXJnZXRfZGlyZWN0KTtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmVfbm9kZSA9IG51bGw7XG4gICAgdGhpcy50YXJnZXRfbm9kZSA9IG51bGw7XG4gICAgdGhpcy50YXJnZXRfZGlyZWN0ID0gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IEpzTWluZCBmcm9tIFwiLi9Kc01pbmRcIjtcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuL01pbmRtYXBDb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb01hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IF9qbTogSnNNaW5kO1xuICBwcml2YXRlIHVuZG9TdGFjazogW3N0cmluZywgYW55XVtdO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuZG9TdGFja0xpbWl0OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Ioam06IEpzTWluZCwgdW5kb1N0YWNrTGltaXQ6IG51bWJlciA9IDEwMDAwKSB7XG4gICAgdGhpcy5fam0gPSBqbTtcbiAgICB0aGlzLnVuZG9TdGFjayA9IFtdO1xuICAgIHRoaXMudW5kb1N0YWNrTGltaXQgPSB1bmRvU3RhY2tMaW1pdDtcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5fam0uYWRkX2V2ZW50X2xpc3RlbmVyKEV2ZW50VHlwZS5CRUZPUkVfRURJVCwgKGRhdGEpID0+IHtcbiAgICAgIGlmICh0aGlzLnVuZG9TdGFjay5sZW5ndGggPiB0aGlzLnVuZG9TdGFja0xpbWl0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVbmRvTWFuYWdlcjogY2FsbGJhY2sgZXZlbnQuIHRvbyBtdWNoIHN0YWNrcy5gKTtcbiAgICAgICAgdGhpcy51bmRvU3RhY2suc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGBVbmRvTWFuYWdlcjogY2FsbGJhY2sgZXZlbnQgcHVzaGluZy4gJHtkYXRhLmV2dH1gKTtcbiAgICAgIHRoaXMudW5kb1N0YWNrLnB1c2goW2RhdGEuZXZ0LCB0aGlzLl9qbS5nZXRfZGF0YShcIm5vZGVfdHJlZVwiKV0pO1xuICAgIH0pO1xuICB9XG5cbiAgdW5kbygpOiB2b2lkIHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy51bmRvU3RhY2sucG9wKCk7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IFtldnQsIGRhdGFdID0gaXRlbTtcbiAgICAgIGNvbnNvbGUubG9nKGBVbmRvTWFuYWdlcjogdW5kby4gZXZ0PSR7ZXZ0fSBkYXRhPSR7ZGF0YX1gKTtcbiAgICAgIHRoaXMuX2ptLnNob3coZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBVbmRvTWFuYWdlcjogdW5kby4gc3RhY2sgaXMgZW1wdHkuYCk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cbmltcG9ydCBEYXRhUHJvdmlkZXIgZnJvbSBcIi4vRGF0YVByb3ZpZGVyXCI7XG5pbXBvcnQgTGF5b3V0UHJvdmlkZXIgZnJvbSBcIi4vTGF5b3V0UHJvdmlkZXJcIjtcbmltcG9ydCBWaWV3UHJvdmlkZXIgZnJvbSBcIi4vVmlld1Byb3ZpZGVyXCI7XG5pbXBvcnQgU2hvcnRjdXRQcm92aWRlciBmcm9tIFwiLi9TaG9ydGN1dFByb3ZpZGVyXCI7XG5pbXBvcnQgTWluZE5vZGUgZnJvbSBcIi4vTWluZE5vZGVcIjtcbmltcG9ydCBNaW5kIGZyb20gXCIuL01pbmRcIjtcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSBcIi4vRHJhZ2dhYmxlXCI7XG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi9NaW5kbWFwQ29uc3RhbnRzXCI7XG5pbXBvcnQgVW5kb01hbmFnZXIgZnJvbSBcIi4vVW5kb01hbmFnZXJcIjtcblxuZnVuY3Rpb24gaXNfZW1wdHkoczogc3RyaW5nKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBzLnJlcGxhY2UoL1xccyovLCBcIlwiKS5sZW5ndGggPT0gMDtcbn1cblxuY29uc3QgREVGQVVMVF9PUFRJT05TOiBhbnkgPSB7XG4gIGNvbnRhaW5lcjogXCJcIiwgLy8gaWQgb2YgdGhlIGNvbnRhaW5lclxuICBlZGl0YWJsZTogZmFsc2UsIC8vIHlvdSBjYW4gY2hhbmdlIGl0IGluIHlvdXIgb3B0aW9uc1xuICB0aGVtZTogbnVsbCxcbiAgbW9kZTogXCJmdWxsXCIsIC8vIGZ1bGwgb3Igc2lkZVxuICBzdXBwb3J0X2h0bWw6IHRydWUsXG5cbiAgdmlldzoge1xuICAgIGhtYXJnaW46IDEwMCxcbiAgICB2bWFyZ2luOiA1MCxcbiAgICBsaW5lX3dpZHRoOiAyLFxuICAgIGxpbmVfY29sb3I6IFwiIzU1NVwiLFxuICB9LFxuICBsYXlvdXQ6IHtcbiAgICBoc3BhY2U6IDMwLFxuICAgIHZzcGFjZTogMjAsXG4gICAgcHNwYWNlOiAxMyxcbiAgfSxcbiAgZGVmYXVsdF9ldmVudF9oYW5kbGU6IHtcbiAgICBlbmFibGVfbW91c2Vkb3duX2hhbmRsZTogdHJ1ZSxcbiAgICBlbmFibGVfY2xpY2tfaGFuZGxlOiB0cnVlLFxuICAgIGVuYWJsZV9kYmxjbGlja19oYW5kbGU6IHRydWUsXG4gIH0sXG4gIHNob3J0Y3V0OiB7XG4gICAgZW5hYmxlOiB0cnVlLFxuICAgIGhhbmRsZXM6IHt9LFxuICAgIG1hcHBpbmc6IHtcbiAgICAgIGFkZGNoaWxkOiA0NSwgLy8gSW5zZXJ0XG4gICAgICBhZGRicm90aGVyOiAxMywgLy8gRW50ZXJcbiAgICAgIGVkaXRub2RlOiAxMTMsIC8vIEYyXG4gICAgICBkZWxub2RlOiA0NiwgLy8gRGVsZXRlXG4gICAgICB0b2dnbGU6IDMyLCAvLyBTcGFjZVxuICAgICAgbGVmdDogMzcsIC8vIExlZnRcbiAgICAgIHVwOiAzOCwgLy8gVXBcbiAgICAgIHJpZ2h0OiAzOSwgLy8gUmlnaHRcbiAgICAgIGRvd246IDQwLCAvLyBEb3duXG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpzTWluZCB7XG4gIG9wdGlvbnM6IGFueTtcbiAgcHJpdmF0ZSBpbml0ZWQ6IGJvb2xlYW47XG4gIHB1YmxpYyBtaW5kOiBNaW5kO1xuICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50X2hhbmRsZXNfbWFwOiBSZWNvcmQ8XG4gICAgRXZlbnRUeXBlLFxuICAgICgoZGF0YTogYW55KSA9PiB2b2lkKVtdXG4gID47XG4gIHByaXZhdGUgZGF0YTogRGF0YVByb3ZpZGVyO1xuICBsYXlvdXQ6IExheW91dFByb3ZpZGVyO1xuICB2aWV3OiBWaWV3UHJvdmlkZXI7XG4gIHNob3J0Y3V0OiBTaG9ydGN1dFByb3ZpZGVyO1xuICBkcmFnZ2FibGU6IERyYWdnYWJsZTtcbiAgaWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSB1bmRvX21hbmFnZXI6IFVuZG9NYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIG9wdGlvbnM6IGFueSkge1xuICAgIGxldCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TKTtcbiAgICBvcHRzID0gT2JqZWN0LmFzc2lnbihvcHRzLCBvcHRpb25zKTtcbiAgICBpZiAoIW9wdHMuY29udGFpbmVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwidGhlIG9wdGlvbnMuY29udGFpbmVyIHNob3VsZCBub3QgYmUgbnVsbCBvciBlbXB0eS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XG4gICAgdGhpcy5pbml0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm1pbmQgPSBudWxsOyAvLyBUT0RPIG9yaWdpbmFsIOOBp+OBryBudWxsIOOBjOWFpeOBo+OBpuOBhOOBn1xuICAgIHRoaXMuZXZlbnRfaGFuZGxlc19tYXAgPSB7XG4gICAgICBcIjFcIjogW10sXG4gICAgICBcIjJcIjogW10sXG4gICAgICBcIjNcIjogW10sXG4gICAgICBcIjRcIjogW10sXG4gICAgICBcIjVcIjogW10sXG4gICAgfTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIGlmICh0aGlzLmluaXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmluaXRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuXG4gICAgY29uc3Qgb3B0c192aWV3ID0ge1xuICAgICAgY29udGFpbmVyOiBvcHRzLmNvbnRhaW5lcixcbiAgICAgIHN1cHBvcnRfaHRtbDogb3B0cy5zdXBwb3J0X2h0bWwsXG4gICAgICBobWFyZ2luOiBvcHRzLnZpZXcuaG1hcmdpbixcbiAgICAgIHZtYXJnaW46IG9wdHMudmlldy52bWFyZ2luLFxuICAgICAgbGluZV93aWR0aDogb3B0cy52aWV3LmxpbmVfd2lkdGgsXG4gICAgICBsaW5lX2NvbG9yOiBvcHRzLnZpZXcubGluZV9jb2xvcixcbiAgICB9O1xuICAgIC8vIGNyZWF0ZSBpbnN0YW5jZSBvZiBmdW5jdGlvbiBwcm92aWRlclxuICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhUHJvdmlkZXIodGhpcyk7XG4gICAgdGhpcy5sYXlvdXQgPSBuZXcgTGF5b3V0UHJvdmlkZXIoXG4gICAgICB0aGlzLFxuICAgICAgb3B0cy5tb2RlLFxuICAgICAgb3B0cy5sYXlvdXQuaHNwYWNlLFxuICAgICAgb3B0cy5sYXlvdXQudnNwYWNlLFxuICAgICAgb3B0cy5sYXlvdXQucHNwYWNlXG4gICAgKTtcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlld1Byb3ZpZGVyKHRoaXMsIG9wdHNfdmlldyk7XG4gICAgdGhpcy5zaG9ydGN1dCA9IG5ldyBTaG9ydGN1dFByb3ZpZGVyKFxuICAgICAgdGhpcyxcbiAgICAgIG9wdHMuc2hvcnRjdXQuZW5hYmxlLFxuICAgICAgb3B0cy5zaG9ydGN1dC5tYXBwaW5nLFxuICAgICAgb3B0cy5zaG9ydGN1dC5oYW5kbGVzXG4gICAgKTtcbiAgICB0aGlzLmRyYWdnYWJsZSA9IG5ldyBEcmFnZ2FibGUodGhpcyk7XG4gICAgdGhpcy51bmRvX21hbmFnZXIgPSBuZXcgVW5kb01hbmFnZXIodGhpcyk7XG5cbiAgICB0aGlzLmxheW91dC5pbml0KCk7XG4gICAgdGhpcy52aWV3LmluaXQoKTtcbiAgICB0aGlzLnNob3J0Y3V0LmluaXQoKTtcbiAgICB0aGlzLmRyYWdnYWJsZS5pbml0KCk7XG4gICAgdGhpcy51bmRvX21hbmFnZXIuaW5pdCgpO1xuXG4gICAgdGhpcy5fZXZlbnRfYmluZCgpO1xuICB9XG5cbiAgZW5hYmxlX2VkaXQoKSB7XG4gICAgdGhpcy5vcHRpb25zLmVkaXRhYmxlID0gdHJ1ZTtcbiAgfVxuXG4gIGRpc2FibGVfZWRpdCgpIHtcbiAgICB0aGlzLm9wdGlvbnMuZWRpdGFibGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIGNhbGwgZW5hYmxlX2V2ZW50X2hhbmRsZSgnZGJsY2xpY2snKVxuICAvLyBvcHRpb25zIGFyZSAnbW91c2Vkb3duJywgJ2NsaWNrJywgJ2RibGNsaWNrJ1xuICBlbmFibGVfZXZlbnRfaGFuZGxlKGV2ZW50X2hhbmRsZTogYW55KSB7XG4gICAgdGhpcy5vcHRpb25zLmRlZmF1bHRfZXZlbnRfaGFuZGxlW1xuICAgICAgXCJlbmFibGVfXCIgKyBldmVudF9oYW5kbGUgKyBcIl9oYW5kbGVcIlxuICAgIF0gPSB0cnVlO1xuICB9XG5cbiAgLy8gY2FsbCBkaXNhYmxlX2V2ZW50X2hhbmRsZSgnZGJsY2xpY2snKVxuICAvLyBvcHRpb25zIGFyZSAnbW91c2Vkb3duJywgJ2NsaWNrJywgJ2RibGNsaWNrJ1xuICBkaXNhYmxlX2V2ZW50X2hhbmRsZShldmVudF9oYW5kbGU6IGFueSkge1xuICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0X2V2ZW50X2hhbmRsZVtcbiAgICAgIFwiZW5hYmxlX1wiICsgZXZlbnRfaGFuZGxlICsgXCJfaGFuZGxlXCJcbiAgICBdID0gZmFsc2U7XG4gIH1cblxuICBnZXRfZWRpdGFibGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgfVxuXG4gIHNldF90aGVtZSh0aGVtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgdGhlbWVfb2xkID0gdGhpcy5vcHRpb25zLnRoZW1lO1xuICAgIHRoaXMub3B0aW9ucy50aGVtZSA9IHRoZW1lID8gdGhlbWUgOiBudWxsO1xuICAgIGlmICh0aGVtZV9vbGQgIT09IHRoaXMub3B0aW9ucy50aGVtZSkge1xuICAgICAgdGhpcy52aWV3LnJlc2V0X3RoZW1lKCk7XG4gICAgICB0aGlzLnZpZXcucmVzZXRfY3VzdG9tX3N0eWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX2V2ZW50X2JpbmQoKSB7XG4gICAgdGhpcy52aWV3LmFkZF9ldmVudCh0aGlzLCBcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlZG93bl9oYW5kbGUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy52aWV3LmFkZF9ldmVudCh0aGlzLCBcImNsaWNrXCIsIHRoaXMuY2xpY2tfaGFuZGxlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudmlldy5hZGRfZXZlbnQodGhpcywgXCJkYmxjbGlja1wiLCB0aGlzLmRibGNsaWNrX2hhbmRsZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIG1vdXNlZG93bl9oYW5kbGUoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kZWZhdWx0X2V2ZW50X2hhbmRsZVtcImVuYWJsZV9tb3VzZWRvd25faGFuZGxlXCJdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBub2RlaWQgPSB0aGlzLnZpZXcuZ2V0X2JpbmRlZF9ub2RlaWQoZWxlbWVudCk7XG4gICAgaWYgKG5vZGVpZCkge1xuICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImptbm9kZVwiKSB7XG4gICAgICAgIGNvbnN0IHRoZV9ub2RlID0gdGhpcy5nZXRfbm9kZShub2RlaWQpO1xuICAgICAgICBpZiAoIXRoZV9ub2RlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcInRoZSBub2RlW2lkPVwiICsgbm9kZWlkICsgXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rfbm9kZSh0aGVfbm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RfY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBjbGlja19oYW5kbGUoZTogRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kZWZhdWx0X2V2ZW50X2hhbmRsZVtcImVuYWJsZV9jbGlja19oYW5kbGVcIl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGlzZXhwYW5kZXIgPSB0aGlzLnZpZXcuaXNfZXhwYW5kZXIoZWxlbWVudCk7XG4gICAgaWYgKGlzZXhwYW5kZXIpIHtcbiAgICAgIGNvbnN0IG5vZGVpZCA9IHRoaXMudmlldy5nZXRfYmluZGVkX25vZGVpZChlbGVtZW50KTtcbiAgICAgIGlmIChub2RlaWQpIHtcbiAgICAgICAgY29uc3QgdGhlX25vZGUgPSB0aGlzLmdldF9ub2RlKG5vZGVpZCk7XG4gICAgICAgIGlmICghdGhlX25vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwidGhlIG5vZGVbaWQ9XCIgKyBub2RlaWQgKyBcIl0gY2FuIG5vdCBiZSBmb3VuZC5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZV9ub2RlKHRoZV9ub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRibGNsaWNrX2hhbmRsZShlOiBFdmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmRlZmF1bHRfZXZlbnRfaGFuZGxlW1wiZW5hYmxlX2RibGNsaWNrX2hhbmRsZVwiXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5nZXRfZWRpdGFibGUoKSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3Qgbm9kZWlkID0gdGhpcy52aWV3LmdldF9iaW5kZWRfbm9kZWlkKGVsZW1lbnQpO1xuICAgICAgaWYgKG5vZGVpZCkge1xuICAgICAgICBpZiAobm9kZWlkKSB7XG4gICAgICAgICAgY29uc3QgdGhlX25vZGUgPSB0aGlzLmdldF9ub2RlKG5vZGVpZCk7XG4gICAgICAgICAgaWYgKCF0aGVfbm9kZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInRoZSBub2RlW2lkPVwiICsgbm9kZWlkICsgXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iZWdpbl9lZGl0KHRoZV9ub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBiZWdpbl9lZGl0KG5vZGU6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5lZGl0X25vZGVfYmVnaW4obm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZS5cIik7XG4gICAgfVxuICB9XG5cbiAgZW5kX2VkaXQoKSB7XG4gICAgdGhpcy52aWV3LmVkaXRfbm9kZV9lbmQoKTtcbiAgfVxuXG4gIHRvZ2dsZV9ub2RlKG5vZGU6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgaWYgKG5vZGUuaXNyb290KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmlldy5zYXZlX2xvY2F0aW9uKG5vZGUpO1xuICAgIHRoaXMubGF5b3V0LnRvZ2dsZV9ub2RlKG5vZGUpO1xuICAgIHRoaXMudmlldy5yZWxheW91dCgpO1xuICAgIHRoaXMudmlldy5yZXN0b3JlX2xvY2F0aW9uKG5vZGUpO1xuICB9XG5cbiAgZXhwYW5kX25vZGUobm9kZTogTWluZE5vZGUpIHtcbiAgICBpZiAobm9kZS5pc3Jvb3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52aWV3LnNhdmVfbG9jYXRpb24obm9kZSk7XG4gICAgdGhpcy5sYXlvdXQuZXhwYW5kX25vZGUobm9kZSk7XG4gICAgdGhpcy52aWV3LnJlbGF5b3V0KCk7XG4gICAgdGhpcy52aWV3LnJlc3RvcmVfbG9jYXRpb24obm9kZSk7XG4gIH1cblxuICBjb2xsYXBzZV9ub2RlKG5vZGU6IE1pbmROb2RlKSB7XG4gICAgaWYgKG5vZGUuaXNyb290KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmlldy5zYXZlX2xvY2F0aW9uKG5vZGUpO1xuICAgIHRoaXMubGF5b3V0LmNvbGxhcHNlX25vZGUobm9kZSk7XG4gICAgdGhpcy52aWV3LnJlbGF5b3V0KCk7XG4gICAgdGhpcy52aWV3LnJlc3RvcmVfbG9jYXRpb24obm9kZSk7XG4gIH1cblxuICBleHBhbmRfYWxsKCk6IHZvaWQge1xuICAgIHRoaXMubGF5b3V0LmV4cGFuZF9hbGwoKTtcbiAgICB0aGlzLnZpZXcucmVsYXlvdXQoKTtcbiAgfVxuXG4gIGNvbGxhcHNlX2FsbCgpOiB2b2lkIHtcbiAgICB0aGlzLmxheW91dC5jb2xsYXBzZV9hbGwoKTtcbiAgICB0aGlzLnZpZXcucmVsYXlvdXQoKTtcbiAgfVxuXG4gIGV4cGFuZF90b19kZXB0aChkZXB0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5sYXlvdXQuZXhwYW5kX3RvX2RlcHRoKGRlcHRoLCBudWxsLCBudWxsKTtcbiAgICB0aGlzLnZpZXcucmVsYXlvdXQoKTtcbiAgfVxuXG4gIF9yZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcucmVzZXQoKTtcbiAgICB0aGlzLmxheW91dC5yZXNldCgpO1xuICB9XG5cbiAgX3Nob3cobWluZDogYW55KTogdm9pZCB7XG4gICAgdGhpcy5taW5kID0gdGhpcy5kYXRhLmxvYWQobWluZCwgdGhpcy5pZCk7XG4gICAgaWYgKCF0aGlzLm1pbmQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJkYXRhLmxvYWQgZXJyb3JcIik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJkYXRhLmxvYWQgb2tcIik7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBKc01pbmQuc2hvdyBpZD0ke3RoaXMuaWR9YCk7XG5cbiAgICB0aGlzLnZpZXcubG9hZCgpO1xuICAgIGNvbnNvbGUuZGVidWcoXCJ2aWV3LmxvYWQgb2tcIik7XG5cbiAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICBjb25zb2xlLmRlYnVnKFwibGF5b3V0LmxheW91dCBva1wiKTtcblxuICAgIHRoaXMudmlldy5zaG93KHRydWUpO1xuICAgIGNvbnNvbGUuZGVidWcoXCJ2aWV3LnNob3cgb2tcIik7XG5cbiAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLlNIT1csIHsgZGF0YTogW21pbmRdIH0pO1xuICB9XG5cbiAgc2hvdyhtaW5kOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLl9yZXNldCgpO1xuICAgIHRoaXMuX3Nob3cobWluZCk7XG4gIH1cblxuICBnZXRfbWV0YSgpOiB7IGF1dGhvcjogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHZlcnNpb246IHN0cmluZyB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5taW5kLm5hbWUsXG4gICAgICBhdXRob3I6IHRoaXMubWluZC5hdXRob3IsXG4gICAgICB2ZXJzaW9uOiB0aGlzLm1pbmQudmVyc2lvbixcbiAgICB9O1xuICB9XG5cbiAgZ2V0X2RhdGEoZGF0YV9mb3JtYXQ6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0X2RhdGEoZGF0YV9mb3JtYXQpO1xuICB9XG5cbiAgZ2V0X3Jvb3QoKTogTWluZE5vZGUge1xuICAgIHJldHVybiB0aGlzLm1pbmQucm9vdDtcbiAgfVxuXG4gIGdldF9ub2RlKG5vZGVpZDogc3RyaW5nKTogTWluZE5vZGUge1xuICAgIHJldHVybiB0aGlzLm1pbmQuZ2V0X25vZGUobm9kZWlkKTtcbiAgfVxuXG4gIGFkZF9ub2RlKFxuICAgIHBhcmVudF9ub2RlOiBNaW5kTm9kZSxcbiAgICBub2RlaWQ6IHN0cmluZyxcbiAgICB0b3BpYzogc3RyaW5nLFxuICAgIGRhdGE6IGFueVxuICApOiBudWxsIHwgTWluZE5vZGUge1xuICAgIGlmICh0aGlzLmdldF9lZGl0YWJsZSgpKSB7XG4gICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkJFRk9SRV9FRElULCB7XG4gICAgICAgIGV2dDogXCJhZGRfbm9kZVwiLFxuICAgICAgICBkYXRhOiBbcGFyZW50X25vZGUuaWQsIG5vZGVpZCwgdG9waWMsIGRhdGFdLFxuICAgICAgICBub2RlOiBub2RlaWQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm1pbmQuYWRkX25vZGUoXG4gICAgICAgIHBhcmVudF9ub2RlLFxuICAgICAgICBub2RlaWQsXG4gICAgICAgIHRvcGljLFxuICAgICAgICBkYXRhLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aWV3LmFkZF9ub2RlKG5vZGUpO1xuICAgICAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICAgICAgdGhpcy52aWV3LnNob3coZmFsc2UpO1xuICAgICAgICB0aGlzLnZpZXcucmVzZXRfbm9kZV9jdXN0b21fc3R5bGUobm9kZSk7XG4gICAgICAgIHRoaXMuZXhwYW5kX25vZGUocGFyZW50X25vZGUpO1xuICAgICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkFGVEVSX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwiYWRkX25vZGVcIixcbiAgICAgICAgICBkYXRhOiBbcGFyZW50X25vZGUuaWQsIG5vZGVpZCwgdG9waWMsIGRhdGFdLFxuICAgICAgICAgIG5vZGU6IG5vZGVpZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcImZhaWwsIHRoaXMgbWluZCBtYXAgaXMgbm90IGVkaXRhYmxlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaW5zZXJ0X25vZGVfYmVmb3JlKFxuICAgIG5vZGVfYmVmb3JlOiBNaW5kTm9kZSxcbiAgICBub2RlaWQ6IHN0cmluZyxcbiAgICB0b3BpYzogc3RyaW5nLFxuICAgIGRhdGE6IGFueVxuICApOiBudWxsIHwgTWluZE5vZGUge1xuICAgIGlmICh0aGlzLmdldF9lZGl0YWJsZSgpKSB7XG4gICAgICBjb25zdCBiZWZvcmVpZCA9IG5vZGVfYmVmb3JlLmlkO1xuICAgICAgdGhpcy5pbnZva2VfZXZlbnRfaGFuZGxlKEV2ZW50VHlwZS5CRUZPUkVfRURJVCwge1xuICAgICAgICBldnQ6IFwiaW5zZXJ0X25vZGVfYmVmb3JlXCIsXG4gICAgICAgIGRhdGE6IFtiZWZvcmVpZCwgbm9kZWlkLCB0b3BpYywgZGF0YV0sXG4gICAgICAgIG5vZGU6IG5vZGVpZCxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubWluZC5pbnNlcnRfbm9kZV9iZWZvcmUoXG4gICAgICAgIG5vZGVfYmVmb3JlLFxuICAgICAgICBub2RlaWQsXG4gICAgICAgIHRvcGljLFxuICAgICAgICBkYXRhXG4gICAgICApO1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aWV3LmFkZF9ub2RlKG5vZGUpO1xuICAgICAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICAgICAgdGhpcy52aWV3LnNob3coZmFsc2UpO1xuICAgICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkFGVEVSX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwiaW5zZXJ0X25vZGVfYmVmb3JlXCIsXG4gICAgICAgICAgZGF0YTogW2JlZm9yZWlkLCBub2RlaWQsIHRvcGljLCBkYXRhXSxcbiAgICAgICAgICBub2RlOiBub2RlaWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGluc2VydF9ub2RlX2FmdGVyKFxuICAgIG5vZGVfYWZ0ZXI6IE1pbmROb2RlLFxuICAgIG5vZGVpZDogc3RyaW5nLFxuICAgIHRvcGljOiBzdHJpbmcsXG4gICAgZGF0YTogYW55XG4gICk6IE1pbmROb2RlIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIGNvbnN0IGFmdGVyaWQgPSBub2RlX2FmdGVyLmlkO1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubWluZC5pbnNlcnRfbm9kZV9hZnRlcihub2RlX2FmdGVyLCBub2RlaWQsIHRvcGljLCBkYXRhKTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuQkVGT1JFX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwiaW5zZXJ0X25vZGVfYWZ0ZXJcIixcbiAgICAgICAgICBkYXRhOiBbYWZ0ZXJpZCwgbm9kZWlkLCB0b3BpYywgZGF0YV0sXG4gICAgICAgICAgbm9kZTogbm9kZWlkLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWV3LmFkZF9ub2RlKG5vZGUpO1xuICAgICAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICAgICAgdGhpcy52aWV3LnNob3coZmFsc2UpO1xuICAgICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkFGVEVSX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwiaW5zZXJ0X25vZGVfYWZ0ZXJcIixcbiAgICAgICAgICBkYXRhOiBbYWZ0ZXJpZCwgbm9kZWlkLCB0b3BpYywgZGF0YV0sXG4gICAgICAgICAgbm9kZTogbm9kZWlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiZmFpbCwgdGhpcyBtaW5kIG1hcCBpcyBub3QgZWRpdGFibGVcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW1vdmVfbm9kZShub2RlOiBNaW5kTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmdldF9lZGl0YWJsZSgpKSB7XG4gICAgICBpZiAobm9kZS5pc3Jvb3QpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcImZhaWwsIGNhbiBub3QgcmVtb3ZlIHJvb3Qgbm9kZVwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZWlkID0gbm9kZS5pZDtcbiAgICAgIGNvbnN0IHBhcmVudGlkID0gbm9kZS5wYXJlbnQuaWQ7XG4gICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkJFRk9SRV9FRElULCB7XG4gICAgICAgIGV2dDogXCJyZW1vdmVfbm9kZVwiLFxuICAgICAgICBkYXRhOiBbbm9kZWlkXSxcbiAgICAgICAgbm9kZTogcGFyZW50aWQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBhcmVudF9ub2RlID0gdGhpcy5nZXRfbm9kZShwYXJlbnRpZCk7XG4gICAgICBjb25zdCBuZXh0U2VsZWN0ZWROb2RlID0gdGhpcy5maW5kVXBwZXJCcm90aGVyT3JQYXJlbnROb2RlKHBhcmVudF9ub2RlLCBub2RlaWQpO1xuICAgICAgdGhpcy52aWV3LnNhdmVfbG9jYXRpb24ocGFyZW50X25vZGUpO1xuICAgICAgdGhpcy52aWV3LnJlbW92ZV9ub2RlKG5vZGUpO1xuICAgICAgdGhpcy5taW5kLnJlbW92ZV9ub2RlKG5vZGUpO1xuICAgICAgdGhpcy5sYXlvdXQubGF5b3V0KCk7XG4gICAgICB0aGlzLnZpZXcuc2hvdyhmYWxzZSk7XG4gICAgICBpZiAocGFyZW50X25vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLm1pbmQuc2VsZWN0ZWQgPSBuZXh0U2VsZWN0ZWROb2RlO1xuICAgICAgICB0aGlzLnZpZXcuc2VsZWN0X25vZGUobmV4dFNlbGVjdGVkTm9kZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXcucmVzdG9yZV9sb2NhdGlvbihwYXJlbnRfbm9kZSk7XG4gICAgICB0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoRXZlbnRUeXBlLkFGVEVSX0VESVQsIHtcbiAgICAgICAgZXZ0OiBcInJlbW92ZV9ub2RlXCIsXG4gICAgICAgIGRhdGE6IFtub2RlaWRdLFxuICAgICAgICBub2RlOiBwYXJlbnRpZCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmRVcHBlckJyb3RoZXJPclBhcmVudE5vZGUocGFyZW50X25vZGU6IE1pbmROb2RlLCB0YXJnZXRfbm9kZV9pZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRfbm9kZS5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpPTA7IGk8Y2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjaGlsZHJlbltpXS5pZCA9PSB0YXJnZXRfbm9kZV9pZCkge1xuICAgICAgICBpZiAoaT09MCkge1xuICAgICAgICAgIHJldHVybiBwYXJlbnRfbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGRyZW5baS0xXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyZW50X25vZGU7IC8vIHJldHVyblxuICB9XG5cbiAgLy8gc2V0IHRvcGljIHRvIHRoZSBub2RlXG4gIHVwZGF0ZV9ub2RlKG5vZGVpZDogc3RyaW5nLCB0b3BpYzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIGlmIChpc19lbXB0eSh0b3BpYykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiZmFpbCwgdG9waWMgY2FuIG5vdCBiZSBlbXB0eVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZ2V0X25vZGUobm9kZWlkKTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuQkVGT1JFX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwidXBkYXRlX25vZGVcIixcbiAgICAgICAgICBkYXRhOiBbbm9kZWlkLCB0b3BpY10sXG4gICAgICAgICAgbm9kZTogbm9kZWlkLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vZGUudG9waWMgPT09IHRvcGljKSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKFwibm90aGluZyBjaGFuZ2VkXCIpO1xuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVfbm9kZShub2RlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS50b3BpYyA9IHRvcGljO1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlX25vZGUobm9kZSk7XG4gICAgICAgIHRoaXMubGF5b3V0LmxheW91dCgpO1xuICAgICAgICB0aGlzLnZpZXcuc2hvdyhmYWxzZSk7XG4gICAgICAgIHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuQUZURVJfRURJVCwge1xuICAgICAgICAgIGV2dDogXCJ1cGRhdGVfbm9kZVwiLFxuICAgICAgICAgIGRhdGE6IFtub2RlaWQsIHRvcGljXSxcbiAgICAgICAgICBub2RlOiBub2RlaWQsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIG5vZGU6ICR7bm9kZWlkfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiZmFpbCwgdGhpcyBtaW5kIG1hcCBpcyBub3QgZWRpdGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgbW92ZV9ub2RlKFxuICAgIG5vZGVpZDogc3RyaW5nLFxuICAgIGJlZm9yZWlkOiBzdHJpbmcsXG4gICAgcGFyZW50aWQ6IHN0cmluZyxcbiAgICBkaXJlY3Rpb246IGFueVxuICApOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhgam0ubW92ZV9ub2RlOiAke25vZGVpZH0gJHtiZWZvcmVpZH0gJHtwYXJlbnRpZH0gJHtkaXJlY3Rpb259YCk7XG4gICAgaWYgKHRoaXMuZ2V0X2VkaXRhYmxlKCkpIHtcbiAgICAgIGNvbnN0IHRoZV9ub2RlID0gdGhpcy5nZXRfbm9kZShub2RlaWQpO1xuICAgICAgaWYgKCF0aGVfbm9kZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwidGhlIG5vZGVbaWQ9XCIgKyBub2RlaWQgKyBcIl0gY2FuIG5vdCBiZSBmb3VuZC5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuQkVGT1JFX0VESVQsIHtcbiAgICAgICAgICBldnQ6IFwibW92ZV9ub2RlXCIsXG4gICAgICAgICAgZGF0YTogW25vZGVpZCwgYmVmb3JlaWQsIHBhcmVudGlkLCBkaXJlY3Rpb25dLFxuICAgICAgICAgIG5vZGU6IG5vZGVpZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm1pbmQubW92ZV9ub2RlKFxuICAgICAgICAgIHRoZV9ub2RlLFxuICAgICAgICAgIGJlZm9yZWlkLFxuICAgICAgICAgIHBhcmVudGlkLFxuICAgICAgICAgIGRpcmVjdGlvblxuICAgICAgICApO1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVfbm9kZShub2RlKTtcbiAgICAgICAgICB0aGlzLmxheW91dC5sYXlvdXQoKTtcbiAgICAgICAgICB0aGlzLnZpZXcuc2hvdyhmYWxzZSk7XG4gICAgICAgICAgdGhpcy5pbnZva2VfZXZlbnRfaGFuZGxlKEV2ZW50VHlwZS5BRlRFUl9FRElULCB7XG4gICAgICAgICAgICBldnQ6IFwibW92ZV9ub2RlXCIsXG4gICAgICAgICAgICBkYXRhOiBbbm9kZWlkLCBiZWZvcmVpZCwgcGFyZW50aWQsIGRpcmVjdGlvbl0sXG4gICAgICAgICAgICBub2RlOiBub2RlaWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcImZhaWwsIHRoaXMgbWluZCBtYXAgaXMgbm90IGVkaXRhYmxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHNlbGVjdF9ub2RlKG5vZGU6IE1pbmROb2RlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxheW91dC5pc192aXNpYmxlKG5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubWluZC5zZWxlY3RlZCA9IG5vZGU7XG4gICAgdGhpcy52aWV3LnNlbGVjdF9ub2RlKG5vZGUpO1xuICAgIHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShFdmVudFR5cGUuU0VMRUNULCB7XG4gICAgICBldnQ6IFwic2VsZWN0X25vZGVcIixcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgbm9kZTogbm9kZS5pZCxcbiAgICB9KTtcbiAgfVxuXG4gIGdldF9zZWxlY3RlZF9ub2RlKCk6IE1pbmROb2RlIHtcbiAgICBpZiAodGhpcy5taW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5taW5kLnNlbGVjdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RfY2xlYXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWluZCkge1xuICAgICAgdGhpcy5taW5kLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgIHRoaXMudmlldy5zZWxlY3RfY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICBpc19ub2RlX3Zpc2libGUobm9kZTogTWluZE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5sYXlvdXQuaXNfdmlzaWJsZShub2RlKTtcbiAgfVxuXG4gIGZpbmRfbm9kZV9iZWZvcmUobm9kZTogTWluZE5vZGUpOiBudWxsIHwgTWluZE5vZGUge1xuICAgIGlmIChub2RlLmlzcm9vdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBuOiBNaW5kTm9kZSA9IG51bGw7XG4gICAgaWYgKG5vZGUucGFyZW50Lmlzcm9vdCkge1xuICAgICAgY29uc3QgYyA9IG5vZGUucGFyZW50LmNoaWxkcmVuO1xuICAgICAgbGV0IHByZXYgPSBudWxsO1xuICAgICAgbGV0IG5pID0gbnVsbDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuaSA9IGNbaV07XG4gICAgICAgIGlmIChub2RlLmRpcmVjdGlvbiA9PT0gbmkuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKG5vZGUuaWQgPT09IG5pLmlkKSB7XG4gICAgICAgICAgICBuID0gcHJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldiA9IG5pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSB0aGlzLm1pbmQuZ2V0X25vZGVfYmVmb3JlKG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfVxuXG4gIGZpbmRfbm9kZV9hZnRlcihub2RlOiBNaW5kTm9kZSk6IG51bGwgfCBNaW5kTm9kZSB7XG4gICAgaWYgKG5vZGUuaXNyb290KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IG46IE1pbmROb2RlID0gbnVsbDtcbiAgICBpZiAobm9kZS5wYXJlbnQuaXNyb290KSB7XG4gICAgICBjb25zdCBjID0gbm9kZS5wYXJlbnQuY2hpbGRyZW47XG4gICAgICBsZXQgZ2V0dGhpcyA9IGZhbHNlO1xuICAgICAgbGV0IG5pID0gbnVsbDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuaSA9IGNbaV07XG4gICAgICAgIGlmIChub2RlLmRpcmVjdGlvbiA9PT0gbmkuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKGdldHRoaXMpIHtcbiAgICAgICAgICAgIG4gPSBuaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gbmkuaWQpIHtcbiAgICAgICAgICAgIGdldHRoaXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuID0gdGhpcy5taW5kLmdldF9ub2RlX2FmdGVyKG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnZpZXcucmVzaXplKCk7XG4gIH1cblxuICAvLyBjYWxsYmFjayh0eXBlICxkYXRhKVxuICBhZGRfZXZlbnRfbGlzdGVuZXIoXG4gICAgZXZlbnRUeXBlOiBFdmVudFR5cGUsXG4gICAgY2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudF9oYW5kbGVzX21hcFtldmVudFR5cGVdLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgaW52b2tlX2V2ZW50X2hhbmRsZSh0eXBlOiBFdmVudFR5cGUsIGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGogPSB0aGlzO1xuICAgIGlmICh0eXBlID09PSBFdmVudFR5cGUuQkVGT1JFX0VESVQpIHtcbiAgICAgIGouX2ludm9rZV9ldmVudF9oYW5kbGUodHlwZSwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBqLl9pbnZva2VfZXZlbnRfaGFuZGxlKHR5cGUsIGRhdGEpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9XG5cbiAgX2ludm9rZV9ldmVudF9oYW5kbGUodHlwZTogRXZlbnRUeXBlLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBsID0gdGhpcy5ldmVudF9oYW5kbGVzX21hcFt0eXBlXS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRoaXMuZXZlbnRfaGFuZGxlc19tYXBbdHlwZV1baV0oZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgdW5kbygpOiB2b2lkIHtcbiAgICB0aGlzLnVuZG9fbWFuYWdlci51bmRvKCk7XG4gIH1cbn1cbiIsImltcG9ydCBKc01pbmQgZnJvbSAnLi4vc3JjL21pbmRtYXAvanNtaW5kJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEpzTWluZDtcclxuY29uc29sZS5sb2coXCJMb2FkZWQgYnJvd3Nlci50c1wiKTtcclxuIl0sIm5hbWVzIjpbImlzX2VtcHR5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQUE7SUFDQTtVQUlhLFFBQVE7S0FRcEI7VUFFWSxVQUFVO0tBYXRCO1VBRW9CLFFBQVE7UUFlM0IsWUFDRSxHQUFXLEVBQ1gsTUFBYyxFQUNkLE1BQWMsRUFDZCxLQUFVLEVBQ1YsT0FBZ0IsRUFDaEIsT0FBaUIsRUFDakIsVUFBcUIsRUFDckIsU0FBa0I7WUFFbEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDUixNQUFNLElBQUksS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7YUFDbkM7WUFDRCxJQUFJLE9BQU8sTUFBTSxJQUFJLFFBQVEsRUFBRTtnQkFDN0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2FBQ3ZDO1lBQ0QsSUFBSSxPQUFPLFNBQVMsS0FBSyxXQUFXLEVBQUU7Z0JBQ3BDLFNBQVMsR0FBRyxJQUFJLENBQUM7YUFDbEI7WUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztZQUNkLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1lB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LENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQzFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO3dCQUNqRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUM7cUJBQ3JEO3lCQUFNO3dCQUNMLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRTs0QkFDdkIsU0FBUzt5QkFDVjt3QkFDRCxRQUFROzRCQUNOLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ3JFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDMUQsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztxQkFDMUQ7b0JBQ0QsSUFBSSxRQUFRLEdBQUcsWUFBWSxFQUFF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
